!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.trackingOptIn=e():t.trackingOptIn=e()}(window,(function(){return function(t){function e(e){for(var n,r,i=e[0],a=e[1],c=0,l=[];c<i.length;c++)r=i[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&l.push(o[r][0]),o[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(s&&s(e);l.length;)l.shift()()}var n={},o={7:0};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=function(t){return r.p+""+({0:"de.translation",1:"es-ES.translation",2:"fr.translation",3:"gdpr",4:"gdpr-modal",5:"it.translation",6:"ja.translation",8:"onetrust",9:"pl.translation",10:"pt.translation",11:"ru.translation",12:"zh-CN.translation",13:"zh-TW.translation"}[t]||t)+".js"}(t);var s=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}o[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var i=window.webpackJsonptrackingOptIn=window.webpackJsonptrackingOptIn||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var s=a;return r(r.s=6)}([function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"f",(function(){return u}));function o(t){return-1!==window.location.href.indexOf(t+"=true")}function r(t,...e){o("tracking-opt-in-debug")&&console.log(`[DEBUG] ${t}: `,...e)}function i(t){const e=window.location.search.slice(1).split("&");let n=null;return e.forEach(e=>{if(e.length>0){const o=e.split("=");o[0]===t&&(n=o[1])}}),n}function a(t){const e=document.createElement("a");return e.href=t,e}function c(t){const e=t.split(".");if(e.length<2)return;let n=`.${e[e.length-2]}.${e[e.length-1]}`;return[".co.jp",".co.nz",".co.uk"].indexOf(n)>=0&&(n=`.${e[e.length-3]}${n}`),n}const s={};function l(t,e=!0){return e&&s[t]?Promise.resolve(s[t]):fetch(t).then(t=>t.text()).then(e=>{let n;try{n=JSON.parse(e),s[t]=n}catch(t){n=null}return n}).catch(()=>{throw new Error("Cannot fetch: "+t)})}function u(t,e){const n=document.createElement("script");n.src=t,Object.keys(e).map(t=>{n.setAttribute(t,e[t])}),document.body.appendChild(n)}},function(t,e,n){var o,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(r="function"==typeof(o=i)?o.call(e,n,e,t):o)||(t.exports=r),!0,t.exports=i(),!!0){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(o){function r(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=o.write?o.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s].split(";")[0]));return document.cookie=e+"="+n+c}}function a(t,n){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var l=e(c[0]);if(s=(o.read||o)(s,l)||e(s),n)try{s=JSON.parse(s)}catch(t){}if(r[l]=s,t===l)break}catch(t){}}return t?r[t]:r}}return r.set=i,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,n){i(e,"",t(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r={channelId:"default",host:window,coordinatorHost:window.top},i={connect:"connect",connected:"connected"},a="@wikia/post-quecast";function c(t){return t.channelId&&t.libId===a&&t.action&&function(t){return"string"==typeof t.type&&"number"==typeof t.timestamp}(t.action)}function s(t){return!t.data.private}function l(t,e){return t.data.channelId===e}function u(t){return t.data.action}var p=function(){function t(){}return t.make=function(t){return function(t){var e;return t.host===t.coordinatorHost&&!!(null===(e=t.coordinatorHost[a])||void 0===e?void 0:e.callbackConnector)}(t)?t.coordinatorHost[a].callbackConnector:new h({senderHost:t.coordinatorHost,listenerHost:t.host})},t}(),d=function(){function t(t){this.coordinatorHost=t,this.callbacks=[]}return t.prototype.dispatch=function(t){var e=this;if(!c(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.callbacks.forEach((function(n){return n({data:t,source:e.coordinatorHost})}))},t.prototype.addListener=function(t){this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),h=function(){function t(t){this.options=t,this.map=new Map}return t.prototype.dispatch=function(t){if(!c(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.options.senderHost.postMessage(t,"*")},t.prototype.addListener=function(t){var e=function(e){var n;(n=e)&&n.source&&n.data&&c(n.data)&&t(e)};this.map.set(t,e),this.options.listenerHost.addEventListener("message",e)},t.prototype.removeListener=function(t){var e=this.map.get(t);this.options.listenerHost.removeEventListener("message",e),this.map.delete(t)},t}(),f=function(){function t(t){this.callbacks=[],this.history=[],this.channelId=t.channelId,this.connector=p.make(t),this.setupActions(),this.setupConnection()}return t.prototype.setupActions=function(){this.getHistory(),this.listenEvent()},t.prototype.getHistory=function(){var t=this,e=function(n){if(l(n,t.channelId)&&function(t){return!!t.data.private}(n)){var o=u(n);(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.type===e}))})(o,i.connected)&&(t.connector.removeListener(e),t.handleActions.apply(t,o.history))}};this.connector.addListener(e)},t.prototype.listenEvent=function(){var t=this;this.connector.addListener((function(e){if(l(e,t.channelId)&&s(e)){var n=u(e);t.handleActions(n)}}))},t.prototype.handleActions=function(){for(var t,e=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];(t=this.history).push.apply(t,n),n.forEach((function(t){return e.callbacks.forEach((function(e){return e(t)}))}))},t.prototype.setupConnection=function(){this.connector.dispatch({action:{type:i.connect,timestamp:Date.now()},channelId:this.channelId,private:!0,libId:a})},t.prototype.addListener=function(t){this.history.forEach((function(e){return t(e)})),this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),g=function(){function t(t){void 0===t&&(t={});var e=o(o({},r),t);this.channelId=e.channelId,this.connector=p.make(e)}return t.prototype.dispatch=function(t){this.connector.dispatch({action:o(o({},t),{timestamp:Date.now()}),channelId:this.channelId,private:!0,libId:a})},t}(),y=function(){function t(t){void 0===t&&(t={});var e=o(o({},r),t);this.transmitter=new g(e),this.receiver=new f(e)}return t.prototype.dispatch=function(t){this.transmitter.dispatch(t)},t.prototype.addListener=function(t){this.receiver.addListener(t)},t.prototype.removeListener=function(t){this.receiver.removeListener(t)},t}(),b=function(){function t(t,e){this.channelId=t,this.connectors=new Map,this.history=[],this.connectors.set(e,e[a].callbackConnector)}return t.prototype.addConnection=function(t){this.ensureConnector(t).dispatch({action:this.createConnectedAction(),private:!0,channelId:this.channelId,libId:a})},t.prototype.createConnectedAction=function(){return{type:i.connected,history:this.history,timestamp:Date.now()}},t.prototype.broadcast=function(t){var e=this;this.history.push(t),this.connectors.forEach((function(n){n.dispatch({action:t,channelId:e.channelId,libId:a})}))},t.prototype.ensureConnector=function(t){return this.connectors.has(t)||this.connectors.set(t,new h({senderHost:t,listenerHost:t})),this.connectors.get(t)},t}(),m=function(){function t(t){this.coordinatorHost=t,this.channels=new Map,this.callbackConnector=new d(t),this.postMessageConnector=new h({senderHost:t,listenerHost:t})}return t.prototype.init=function(){var t=this,e=function(e){s(e)||(t.handleConnect(e),t.handleBroadcast(e))};this.callbackConnector.addListener(e),this.postMessageConnector.addListener(e)},t.prototype.handleConnect=function(t){(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.data.action.type===e}))})(t,i.connect)&&this.ensureChannel(t.data.channelId).addConnection(t.source)},t.prototype.handleBroadcast=function(t){(function(t){return!Object.values(i).some((function(e){return t.data.action.type===e}))})(t)&&this.ensureChannel(t.data.channelId).broadcast(t.data.action)},t.prototype.ensureChannel=function(t){return this.channels.has(t)||this.channels.set(t,new b(t,this.coordinatorHost)),this.channels.get(t)},t}();var k=Object.defineProperty,v=Object.defineProperties,w=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(t,e,n)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const j=new class{constructor(){var t,e;S(this,"symbol"!=typeof(t="communicator")?t+"":t,e),function(t){if(void 0===t&&(t=window),!t[a]){var e=new m(t);e.init(),t[a]=e}}(),this.communicator=new y}dispatch(t){this.communicator.dispatch(((t,e)=>v(t,w(e)))(((t,e)=>{for(var n in e||(e={}))P.call(e,n)&&S(t,n,e[n]);if(C)for(var n of C(e))O.call(e,n)&&S(t,n,e[n]);return t})({},t),{__global:!0}))}on(t,e){this.communicator.addListener(n=>{this.ofType(n,t)&&e(n)})}ofType(t,e){return t.type===e}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i}));const o=[92,58,40,788,649,57,539,1019,1203,50,15,39,597,14,93,151,264,565,602,613,6,66,827,195,27,259,70,793,922,23,780,2,394,561,63,610,273,12,920,724,128,94,815,422,1081,315,156,734,767,1257,319,243,416,77,143,138,85,298,875,938,440,209,707,122,754,126,674,110,168,929,213,141,853,24,444,312,877,1,120,795,756,78,119,1055,316,328,758,580,755,98,61,1031,131,606,253,10,730,333,452,150,278,436,438,129,991,294,62,972,667,148,97,587,1046,109,95,508,493,228,142,1126,703,101,898,807,737,72,263,450,34,37,468,1060,130,812,373,816,388,31,304,241,617,69,772,559,164,1101,384,839,140,762,226,76,11,60,290,1025,631,1100,192,800,787,759,36,108,308,71,4,16,973,157,415,775,84,80,111,59,73,68,82,161,45,546,115,246,639,1076,104,13,293,1288,137,136,114,517,275,42,466,628,132,124,202,44,345,686,524,52,21,423,28,985,1043,212,1013,744,1004,601,284,431,281,32,25,173,726,301],r=[{id:2822,name:"Adjust GmbH",policyUrl:"https://www.adjust.com/terms/gdpr/"},{id:3116,name:"Gamesight",policyUrl:"https://console.gamesight.io/privacy-policy"}],i={756:{name:"Content personalization",translationKey:"internalUseProject1"}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var o=n(0);const r=()=>window.navigator&&window.navigator.language?window.navigator.language:"en-us";class i{constructor(t){this.language=(Object(o.d)("uselang")||t||r()).toLowerCase()}}},function(t,e,n){const o=new URL(document.currentScript?document.currentScript.src:"http://localhost:3000/tracking-opt-in.min.js");n.p=o.href.replace("tracking-opt-in.min.js","")},function(t,e,n){"use strict";n.r(e);n(5);var o=n(1),r=n.n(o);const i=["fr","gb","uk"],a=["ad","ai","aw","ax","at","be","bg","bm","vg","bq","br","ky","cn","hr","cw","cy","cz","dk","ee","fk","fo","fi","fr","gf","pf","tf","de","gi","gr","gl","gp","hu","is","ie","im","it","re","lv","li","lt","lu","mq","mt","yt","ms","nl","nc","no","pn","pl","pt","ro","bl","sh","mf","pm","bq","sx","sk","si","es","se","ch","tc","gb","uk","wf"];var c=class{constructor(t,e,n){this.geosRequiringPrompt=(n||a).map(t=>t.toLowerCase()),this.country=(t||"no-cookie").toLowerCase(),this.region=(e||"no-cookie").toLowerCase()}hasSpecialPrivacyLaw(){return-1!==this.geosRequiringPrompt.indexOf(this.country)}hasGeoCookie(){return"no-cookie"!==this.country}hasRejectAllFunctionality(){return i.includes(this.country)}},s=n(0),l=n(2),u=n(3),p=Object.defineProperty,d=(t,e,n)=>(((t,e,n)=>{e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);class h{constructor(t){d(this,"configured",!1),this.button=document.querySelector(t)}configureCcpa(t){if(this.configured)return void console.error("Reconfiguring a Preferences Button is forbidden");this.button&&(this.button.innerHTML="Do Not Sell or Share My Personal Information",this.button.setAttribute("href","https://www.fandom.com/do-not-sell-my-info"),this.button.addEventListener("click",e=>{t(e)})),this.configured=!0;const e=document.querySelector('a[data-tracking-label="community.usp-do-not-sell"]');e&&(e.style.visibility="hidden")}configureGdpr(t){this.configured?console.error("Reconfiguring a Preferences Button is forbidden"):(this.button&&(this.button.innerHTML="Manage Preferences",this.button.addEventListener("click",e=>{t(e)})),this.configured=!0)}}const f="Y",g="N",y="-",b=()=>({cookieAttributes:{domain:Object(s.b)(window.location.hostname),expires:365},ccpaApplies:!1}),m=t=>void 0===t?y:t?f:g;class k{static installStub(){const t=[];Object(s.a)("CCPA","Installing API stub"),window.__uspapi=(e,n,o=console.log)=>{"ping"===e?o({uspapiLoaded:!1},!0):"getQueue"===e?o(t,!0):t.push([e,n,o])},k.addLocatorFrame()}static addLocatorFrame(){if(window.frames.__uspapi)return;if("loading"===document.readyState)return void document.addEventListener("DOMContentLoaded",()=>k.addLocatorFrame());const t=document.createElement("iframe");t.name="__uspapi",t.style.display="none",document.body.appendChild(t),window.addEventListener("message",t=>{let e=null;try{const n="string"==typeof t.data?JSON.parse(t.data):t.data;e=n.__uspapiCall}catch(t){}e&&window.__uspapi(e.command,e.version,(function(n,o){const r={__uspapiReturn:{returnValue:n,success:o,callId:e.callId}};t.source.postMessage(r,"*")}))},!1)}constructor(t){this.options=Object.assign(b(),t),this.uspapiCommands=[this.ping,this.getUSPData,this.showConsentTool,this.registerDeletion,this.performDeletion],this.explicit_notice=f,this.lspa_support=g,this.opt_out_sale=g,this.deletionCallbacks=[],void 0===window.__uspapi&&this.installStub(),Object(s.a)("CCPA","User Signal Mechanism initialized")}configure(t){Object.assign(this.options,t)}install(){this.createUserSignal(),this.mount(),Object(s.a)("CCPA","User Signal Mechanism installed")}installStub(...t){return k.installStub(...t)}uninstall(){this.options=b(),this.setPrivacyStringCookie(null),delete window.__uspapi}mount(){const t=this.uspapi.bind(this);try{window.__uspapi("getQueue",null,e=>{window.__uspapi=t,e.forEach(e=>t(...e))})}catch(e){window.__uspapi=t,console.error(new Error("CCPA: Incompatible stub - cannot run queue"))}}isUspapiCommand(t){return-1!==this.uspapiCommands.indexOf(this[t])}uspapi(t,e,n=console.log){if(!this.isUspapiCommand(t))throw n(null,!1),new Error("CCPA: Command does not exist");this[t](e).then(t=>n(t,!0)).catch(t=>{n(null,!1),console.error(t instanceof Error?t:new Error(t))})}getSignal(){if(!this.geoRequiresUserSignal())return{ccpaSignal:!1,geoRequiresSignal:!1};if(void 0===this.hasUserProvidedSignal())return{ccpaSignal:!0,geoRequiresSignal:!0};const t=this.hasUserProvidedSignal();return Object(s.a)("CCPA","User signal",t),{ccpaSignal:t,geoRequiresSignal:!0}}createUserSignal(){let t;if(this.options.ccpaApplies){Object(s.a)("CCPA","Geo requires API");if(window&&window.location&&window.location.search&&window.location.search.includes("optOutSale=true"))t=this.createPrivacyString(m(!0)),this.performDeletion(),Object(s.a)("CCPA","Privacy String updated via URL parameter: "+t);else if(this.options.isSubjectToCcpa)t=this.createPrivacyString(f),Object(s.a)("CCPA","Force opt-out because user is subject to COPPA");else if(navigator.globalPrivacyControl)t=this.createPrivacyString(f),Object(s.a)("CCPA","Force opt-out because Global Privacy Control is detected");else if(this.hasUserSignal()){const n=this.getPrivacyStringCookie().split("")[2];t=(e=n)!==f&&e!==g&&e!==y?this.createPrivacyString(m(!1)):this.createPrivacyString(n)}else t=this.createPrivacyString(g);Object(s.a)("CCPA","Privacy String cookie: "+t),this.setPrivacyStringCookie(t)}else Object(s.a)("CCPA","Geo does not require API"),t=this.createPrivacyString(m());var e}createPrivacyString(t){return void 0!==t&&(t===y&&(this.explicit_notice=y,this.lspa_support=y),this.opt_out_sale=t),`1${this.explicit_notice}${this.opt_out_sale}${this.lspa_support}`}hasUserSignal(){return!!this.getPrivacyStringCookie()}hasUserProvidedSignal(){if(this.hasUserSignal())return this.opt_out_sale===m(!0)}geoRequiresUserSignal(){return this.options.ccpaApplies}getPrivacyStringCookie(){return r.a.get("usprivacy")||""}setPrivacyStringCookie(t){const e=this.options.cookieAttributes;t?r.a.set("usprivacy",t,e):r.a.remove("usprivacy",e)}ping(t){const e=this.options.ccpaApplies;return new Promise(n=>n({ccpaApplies:e,uspapiVersion:t||1,uspapiLoaded:!0}))}registerDeletion(t,e){return new Promise(t=>{e&&"function"==typeof e&&(this.deletionCallbacks.push(e),t())})}performDeletion(t,e){return Object(s.a)("CCPA","performDeletion was called"),this.deletionCallbacks&&this.deletionCallbacks.length>0&&this.deletionCallbacks.forEach(t=>t()),new Promise(t=>t())}getUSPData(t){const e=this.getPrivacyStringCookie(),n=!this.options.ccpaApplies||!t||1===Number(t);return new Promise((o,r)=>{n?o({version:t||1,uspString:e}):r(new Error("CCPA: Privacy String version mismatch"))})}saveUserSignal(t){const e=this.createPrivacyString(t);Object(s.a)("CCPA","Privacy String saved via console: "+e),this.setPrivacyStringCookie(e)}showConsentTool(t){return new Promise(e=>{if(void 0!==t)this.saveUserSignal(m(t));else{const t=confirm("CCPA prompt - please provide user signal:\n- [OK] = Opt Out Sale is YES\n- [Cancel] = Opt Out Sale is NO");this.saveUserSignal(m(t))}e()})}}var v=k,w=n(4),C=Object.defineProperty,P=Object.defineProperties,O=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,E=(t,e,n)=>e in t?C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const A="lang_code",_="detected_geo",x="detected_region",L="ga_category",U="ga_action",R="ga_label",T="beacon",D="pv_unique_id";var M=class{constructor(t,e,n,o,i,a){this.enable=i,this.defaultParams={[A]:t,[_]:e.toUpperCase(),[x]:n.toUpperCase()};const c=(s=o,r.a.get(s||"wikia_beacon_id"));var s;c&&(this.defaultParams[T]=c),this.trackingCategory=a}track(t,e,n,o=(()=>{})){if(!this.enable)return void Object(s.a)("TRACKING","Fake Tracking Event",params);const r=this.prepareTrackUrl(t,e,n),i=new AbortController;fetch(r,{signal:i.signal}),setTimeout(()=>i.abort(),3e3)}prepareTrackUrl(t,e,n){const o=((t,e)=>P(t,O(e)))(((t,e)=>{for(var n in e||(e={}))j.call(e,n)&&E(t,n,e[n]);if(S)for(var n of S(e))I.call(e,n)&&E(t,n,e[n]);return t})({},this.defaultParams),{[L]:t,[U]:e,[R]:n}),r=null==(a=null==(i=window.fandomContext)?void 0:i.tracking)?void 0:a.pvUID;var i,a;r&&(o[D]=r);const c=[];for(const t in o)c.push(`${encodeURIComponent(t)}=${encodeURIComponent(o[t])}`);return"https://beacon.wikia-services.com/__track/special/gdpr_events?"+c.join("&")}trackImpression(t){this.track(this.trackingCategory,"impression",t)}trackClick(t){this.track(this.trackingCategory,"click",t)}};var q=class extends M{constructor(t,e,n,o,r){super(t,e,n,o,r,"gdpr-modal"),this.onIdentityReady=new Promise(t=>{l.a.on("[IdentityEngine] Identity ready",()=>t())})}track(t,e,n,o){this.onIdentityReady.then(()=>{super.track(t,e,n,o)})}trackViewImpression(){this.trackImpression("modal-view")}trackNoCookieImpression(){this.trackImpression("no-cookie")}trackGpcImpression(){this.trackImpression("gpc")}trackPrivacyPolicyClick(){this.trackClick("privacy-policy")}trackPartnerListClick(){this.trackClick("partner-list")}trackLearnMoreClick(){this.trackClick("learn-more")}trackVendorExpandClick(){this.trackClick("vendor-expand")}trackAcceptClick(){this.trackClick("accept")}trackBackClick(){this.trackClick("back")}trackSaveClick(){this.trackClick("save")}trackRejectClick(){this.trackClick("reject")}trackPurposeToggleClick(t){this.trackClick("purpose-toggle-"+t)}trackPurposeExpandClick(t){this.trackClick("purpose-expand-"+t)}trackSpecialPurposeExpandClick(t){this.trackClick("special-purpose-expand-"+t)}trackFeatureExpandClick(t){this.trackClick("feature-expand-"+t)}trackSpecialFeatureToggleClick(t){this.trackClick("special-feature-toggle-"+t)}trackSpecialFeatureExpandClick(t){this.trackClick("special-feature-expand-"+t)}trackInternalUseExpandClick(){this.trackClick("internal-use-expand")}trackAdditionalConsentExpandClick(){this.trackClick("additional-consent-expand")}trackAdditionalConsentProviderToggleClick(t){this.trackClick("additional-consent-provider-toggle-"+t)}trackResurfaceClick(){this.trackClick("resurface")}};var H=class extends M{constructor(t,e,n,o,r){super(t,e,n,o,r,"ccpa-modal")}trackDoNotSellMyInfoClick(){this.trackClick("do-not-sell-my-info")}},N=Object.defineProperty,F=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,$=(t,e,n)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J=(t,e)=>{for(var n in e||(e={}))G.call(e,n)&&$(t,n,e[n]);if(F)for(var n of F(e))B.call(e,n)&&$(t,n,e[n]);return t};const z={beaconCookieName:null,cookieName:null,cookieExpiration:null,cookieRejectExpiration:null,countriesRequiringPrompt:null,enabledVendors:u.b,enabledProviders:u.a.map(t=>t.id),language:null,queryParamName:null,preventScrollOn:"body",track:!0,zIndex:9999999,onAcceptTracking(){Object(s.a)("MODAL","User opted in to tracking")},onRejectTracking(){Object(s.a)("MODAL","User opted out of tracking")},onConsentsReady(){Object(s.a)("MODAL","Consents ready")}},V={countriesRequiringPrompt:["us"],isSubjectToCcpa:window&&window.ads&&window.ads.context&&window.ads.context.opts&&window.ads.context.opts.isSubjectToCcpa,track:!0};function K(t,e){const n=Object.assign({},V,t),{test:o}=n,r=((t,e)=>{var n={};for(var o in t)G.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&F)for(var o of F(t))e.indexOf(o)<0&&B.call(t,o)&&(n[o]=t[o]);return n})(n,["test"]),i=new c(r.country,r.region,r.countriesRequiringPrompt),a=new w.a(r.language),s=new H(a.language,i.country,i.region,r.beaconCookieName,r.track),l=i.hasSpecialPrivacyLaw(),u=new v({ccpaApplies:l,isSubjectToCcpa:void 0===r.isSubjectToCoppa?r.isSubjectToCcpa:r.isSubjectToCoppa});return r.oneTrustEnabled||(u.install(),l&&e.configureCcpa(()=>{s.trackDoNotSellMyInfoClick()})),u}function Q(t={}){const e=function(){const t=new URLSearchParams(window.location.search),e=window.ads=window.ads||{},n=e.context=e.context||{};return JSON.parse(t.get("onetrust_enabled"))||n.oneTrustEnabled||!1}();if(Object(s.a)("MODAL","Library loaded and started"),!window.navigator.cookieEnabled)return Object(s.a)("MODAL","Cookies are disabled - ignoring CMP and USAPI consent checks"),void l.a.dispatch({type:"[AdEngine OptIn] set opt in",gdprConsent:!0,geoRequiresConsent:!0,ccpaSignal:!1,geoRequiresSignal:!0});const o={gdpr:null,ccpa:null};Object.assign(t,{onConsentsReady:()=>{l.a.dispatch(J(J({type:"[AdEngine OptIn] set opt in"},o.gdpr?o.gdpr.getConsent():{gdprConsent:!0,geoRequiresConsent:!1}),o.ccpa.getSignal())),l.a.dispatch(J({type:"[AdEngine OptIn] set opt in instances"},o))},oneTrustEnabled:e});const r=new h(".ot-sdk-show-settings");return o.ccpa=K(t,r),function(t,e){const o=Object.assign({},z,t),r=new c(o.country,o.region);return r.hasSpecialPrivacyLaw()?n.e(3).then(n.bind(null,41)).then(({createInstance:t})=>{const n=new w.a(o.language),i=new q(n.language,r.country,r.region,o.beaconCookieName,o.track),a=t(r,n,i,o);return o.oneTrustEnabled||(a.render(),e.configureGdpr(()=>{a.renderModal(),i.trackResurfaceClick()})),a}):(o.onAcceptTracking(),o.onConsentsReady(),Promise.resolve(null))}(t,r).then(r=>(o.gdpr=r,e&&n.e(8).then(n.bind(null,7)).then(({oneTrust:e})=>{e.initialize(o,t)}),o))}var Y=Object.defineProperty,W=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,tt=(t,e,n)=>e in t?Y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,et=(t,e)=>{for(var n in e||(e={}))Z.call(e,n)&&tt(t,n,e[n]);if(W)for(var n of W(e))X.call(e,n)&&tt(t,n,e[n]);return t};e.default=Q;const nt=t=>{var e;if(!window.trackingOptInManualStart){Q(et(et({},null!=t?t:{}),null!=(e=window.trackingOptInOptions)?e:{})).then(t=>{window.trackingOptInInstances=t})}};(function(){if(void 0!==window.ads.geo)return Promise.resolve({continent:window.ads.geo.continent,country:window.ads.geo.country,region:window.ads.geo.region});const t=r.a.get("Geo");if(t)try{const e=JSON.parse(t);return Promise.resolve({continent:e.continent,country:e.country,region:e.region})}catch(e){console.error("error parsing geo cookie",t)}return fetch("https://services.fandom.com/geoip/location").then(t=>t.json()).then(t=>({continent:t.continent_code,country:t.country_code,region:t.region}))})().then(t=>{"loading"!==document.readyState?nt(t):document.addEventListener("DOMContentLoaded",()=>{nt(t)})})}])}));