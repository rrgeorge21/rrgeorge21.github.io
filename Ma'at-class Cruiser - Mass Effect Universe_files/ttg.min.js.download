var phpbb={};function find_username(t){"use strict";return popup(t,760,570,"_usersearch"),!1}function popup(t,e,i,n){"use strict";return n||(n="_popup"),window.open(t.replace(/&amp;/g,"&"),n,"height="+i+",resizable=yes,scrollbars=yes, width="+e),!1}function pageJump(t){"use strict";var e=parseInt(t.val(),10),i=t.attr("data-per-page"),n=t.attr("data-base-url"),o=t.attr("data-start-name");null!==e&&!isNaN(e)&&e===Math.floor(e)&&e>0&&(-1===n.indexOf("?")?document.location.href=n+"?"+o+"="+(e-1)*i:document.location.href=n.replace(/&amp;/g,"&")+"&"+o+"="+(e-1)*i)}function marklist(t,e,i){"use strict";jQuery("#"+t+" input[type=checkbox][name]").each(function(){var t=jQuery(this);t.attr("name").substr(0,e.length)===e&&t.prop("checked",i)})}function viewableArea(t,e){"use strict";t&&(e||(t=t.parentNode),t.vaHeight?(t.style.height=t.vaHeight+"px",t.style.overflow="auto",t.style.maxHeight=t.vaMaxHeight,t.vaHeight=!1):(t.vaHeight=t.offsetHeight,t.vaMaxHeight=t.style.maxHeight,t.style.height="auto",t.style.maxHeight="none",t.style.overflow="visible"))}function activateSubPanel(t,e){"use strict";var i,n;if("string"==typeof t&&(n=t),"object"==typeof e&&e.length)for(i=0;i<e.length;i++)jQuery("#"+e[i]).css("display",e[i]===n?"block":"none"),jQuery("#"+e[i]+"-tab").toggleClass("activetab",e[i]===n)}function selectCode(t){"use strict";var e,i,n=t.parentNode.parentNode.getElementsByTagName("CODE")[0];if(window.getSelection)if((e=window.getSelection()).setBaseAndExtent){var o=n.innerText.length>1?n.innerText.length-1:1;try{e.setBaseAndExtent(n,0,n,o)}catch(t){(i=document.createRange()).selectNodeContents(n),e.removeAllRanges(),e.addRange(i)}}else window.opera&&"<BR>"===n.innerHTML.substring(n.innerHTML.length-4)&&(n.innerHTML=n.innerHTML+"&nbsp;"),(i=document.createRange()).selectNodeContents(n),e.removeAllRanges(),e.addRange(i);else document.getSelection?(e=document.getSelection(),(i=document.createRange()).selectNodeContents(n),e.removeAllRanges(),e.addRange(i)):document.selection&&((i=document.body.createTextRange()).moveToElementText(n),i.select())}function play_qt_file(t){"use strict";var e,i,n=t.GetRectangle();if(n){n=n.split(",");var o=parseInt(n[0],10),a=parseInt(n[2],10),r=parseInt(n[1],10),s=parseInt(n[3],10);e=o<0?-1*o+a:a-o,i=r<0?-1*r+s:s-r}else e=200,i=0;t.width=e,t.height=i+16,t.SetControllerVisible(!0),t.Play()}phpbb.alertTime=100,function(t){"use strict";var e,i=9,n=13,o=27,a=t("#darkenwrapper"),r=null;phpbb.isTouch=window&&void 0!==window.ontouchstart,phpbb.loadingIndicator=function(){return e||(e=t(".loader")),e.is(":visible")||(e.fadeIn(phpbb.alertTime),phpbb.clearLoadingTimeout(),r=setTimeout(function(){phpbb.showTimeoutMessage()},6e4)),e},phpbb.showTimeoutMessage=function(){var i=t("#phpbb_alert");e.is(":visible")&&phpbb.alert(i.attr("data-l-err"),i.attr("data-l-timeout-processing-req"))},phpbb.clearLoadingTimeout=function(){null!==r&&(clearTimeout(r),r=null)},phpbb.closeDarkenWrapper=function(e){r=setTimeout(function(){t("#darkenwrapper").trigger("click")},e)},phpbb.alert=function(e,i){var a=t("#phpbb_alert");return a.find(".alert_title").html(e),a.find(".alert_text").html(i),t(document).on("keydown.phpbb.alert",function(t){t.keyCode!==n&&t.keyCode!==o||(phpbb.alert.close(a,!0),t.preventDefault(),t.stopPropagation())}),phpbb.alert.open(a),a},phpbb.alert.open=function(t){a.is(":visible")||a.fadeIn(phpbb.alertTime),e&&e.is(":visible")?e.fadeOut(phpbb.alertTime,function(){a.append(t),t.fadeIn(phpbb.alertTime)}):a.is(":visible")?(a.append(t),t.fadeIn(phpbb.alertTime)):(a.append(t),t.show(),a.fadeIn(phpbb.alertTime)),t.on("click",function(t){t.stopPropagation()}),a.one("click",function(e){phpbb.alert.close(t,!0),e.preventDefault(),e.stopPropagation()}),t.find(".alert_close").one("click",function(e){phpbb.alert.close(t,!0),e.preventDefault()})},phpbb.alert.close=function(e,i){(i?a:e).fadeOut(phpbb.alertTime,function(){e.hide()}),e.find(".alert_close").off("click"),t(document).off("keydown.phpbb.alert")},phpbb.confirm=function(e,i,a){var r=t("#phpbb_confirm");return r.find(".alert_text").html(e),a=a||!0,t(document).on("keydown.phpbb.alert",function(e){if(e.keyCode===n||e.keyCode===o){var i=e.keyCode===n?"confirm":"cancel";t('input[name="'+i+'"]').trigger("click"),e.preventDefault(),e.stopPropagation()}}),r.find('input[type="button"]').one("click.phpbb.confirmbox",function(t){var e="confirm"===this.name;i(!!e),r.find('input[type="button"]').off("click.phpbb.confirmbox"),phpbb.alert.close(r,a||!e),t.preventDefault(),t.stopPropagation()}),phpbb.alert.open(r),r},phpbb.parseQuerystring=function(t){var e,i,n={};for(t=t.split("&"),e=0;e<t.length;e++)n[(i=t[e].split("="))[0]]=decodeURIComponent(i[1]);return n},phpbb.ajaxify=function(i){var n,o=t(i.selector),s=i.refresh,c=i.callback,l=void 0===i.overlay||i.overlay,d=o.is("form"),u=o.is('input[type="text"], textarea');return n=d?"submit":u?"keyup":"click",o.on(n,function(n){var o,p,f,h,_=this,g=t(this);if("false"!==g.find('input[type="submit"][data-clicked]').attr("data-ajax")){var m="function"==typeof i.filter;if(f={},d)o=g.attr("action").replace("&amp;","&"),f=g.serializeArray(),p=g.attr("method")||"GET",g.find('input[type="submit"][data-clicked]')&&(h=g.find('input[type="submit"][data-clicked]'),f.push({name:h.attr("name"),value:h.val()}));else if(u){var v=g.attr("data-name")||this.name;o=g.attr("data-url").replace("&amp;","&"),f[v]=this.value,p="POST"}else o=this.href,f=null,p="GET";var b=function(){var i=g.attr("data-overlay");!l||void 0!==i&&"true"!==i||phpbb.loadingIndicator(),t.ajax({url:o,type:p,data:f,success:y,error:w,cache:!1}).always(function(){e&&e.is(":visible")&&e.fadeOut(phpbb.alertTime)})};m&&!i.filter.call(this,f,n,b)||(b(),n.preventDefault())}function w(t,e,i){"undefined"!=typeof console&&console.log&&console.log("AJAX error. status: "+e+", message: "+i),phpbb.clearLoadingTimeout();var n,o=!1;try{n=(n=JSON.parse(t.responseText)).message}catch(t){}"string"==typeof n&&n.length>0?o=n:"string"==typeof i&&i.length>0?o=i:"string"==typeof(o=a.attr("data-ajax-error-text-"+e))&&o.length||(o=a.attr("data-ajax-error-text")),phpbb.alert(a.attr("data-ajax-error-title"),o)}function y(i){var n;phpbb.clearLoadingTimeout(),void 0===i.S_CONFIRM_ACTION?(void 0!==i.MESSAGE_TITLE?"true"!==g.attr("data-ajax-no-popup")&&(n=phpbb.alert(i.MESSAGE_TITLE,i.MESSAGE_TEXT)):(a.fadeOut(phpbb.alertTime),e&&e.fadeOut(phpbb.alertTime)),"function"==typeof phpbb.ajaxCallbacks[c]&&phpbb.ajaxCallbacks[c].call(_,i),i.REFRESH_DATA&&("function"==typeof s?s=s(i.REFRESH_DATA.url):"boolean"!=typeof s&&(s=!1),r=setTimeout(function(){s&&(window.location=i.REFRESH_DATA.url),a.fadeOut(phpbb.alertTime,function(){void 0!==n&&n.hide()})},1e3*i.REFRESH_DATA.time))):phpbb.confirm(i.MESSAGE_BODY,function(e){e&&(phpbb.loadingIndicator(),f=t("<form>"+i.S_HIDDEN_FIELDS+"</form>").serialize(),t.ajax({url:i.S_CONFIRM_ACTION,type:"POST",data:f+"&confirm="+i.YES_VALUE+"&"+t("form","#phpbb_confirm").serialize(),success:y,error:w}))},!1)}}),d&&o.find("input:submit").click(function(){var e=t(this);e.parents("form:first").find("input:submit[data-clicked]").removeAttr("data-clicked"),e.attr("data-clicked","true")}),this},phpbb.search={cache:{data:[]},tpl:[],container:[]},phpbb.search.cache.get=function(t){return!!this.data[t]&&this.data[t]},phpbb.search.cache.set=function(t,e,i){this.data[t]||(this.data[t]={results:[]}),this.data[t][e]=i},phpbb.search.cache.setResults=function(t,e,i){this.data[t].results[e]=i},phpbb.search.cleanKeyword=function(e){return t.trim(e).toLowerCase()},phpbb.search.getKeyword=function(t,e,i){if(i){var n=phpbb.search.getKeywordLine(t);e=e.split("\n").splice(n,1)}return phpbb.search.cleanKeyword(e)},phpbb.search.getKeywordLine=function(t){var e=t.get(0).selectionStart;return t.val().substr(0,e).split("\n").length-1},phpbb.search.setValue=function(t,e,i){if(i){var n=phpbb.search.getKeywordLine(t),o=t.val().split("\n");o[n]=e,e=o.join("\n")}t.val(e)},phpbb.search.setValueOnClick=function(t,e,i,n){i.click(function(){phpbb.search.setValue(t,e.result,t.attr("data-multiline")),n.hide()})},phpbb.search.filter=function(e,i,n){var o=t(this),a=void 0!==o.attr("data-name")?o.attr("data-name"):o.attr("name"),r=parseInt(o.attr("data-min-length"),10),s=o.attr("data-results"),c=phpbb.search.getKeyword(o,e[a],o.attr("data-multiline")),l=phpbb.search.cache.get(s),d=!0;e[a]=c,l.timeout&&clearTimeout(l.timeout);var u=setTimeout(function(){if(r>c.length)d=!1;else if(l.lastSearch)if(l.lastSearch===c)d=!1;else{if(l.results[c]){var t={keyword:c,results:l.results[c]};phpbb.search.handleResponse(t,o,!0),d=!1}0===c.indexOf(l.lastSearch)&&0===l.results[l.lastSearch].length&&(phpbb.search.cache.set(s,"lastSearch",c),phpbb.search.cache.setResults(s,c,[]),d=!1)}d&&n.call(this)},350);return phpbb.search.cache.set(s,"timeout",u),!1},phpbb.search.handleResponse=function(e,i,n,o){if("object"==typeof e){var a=i.attr("data-results"),r=t(a);this.cache.get(a).callback?o=this.cache.get(a).callback:"function"==typeof o&&this.cache.set(a,"callback",o),n||this.cache.setResults(a,e.keyword,e.results),this.cache.set(a,"lastSearch",e.keyword),this.showResults(e.results,i,r,o)}},phpbb.search.showResults=function(e,i,n,o){var a=t(".search-results",n);if(this.clearResults(a),e.length){var r,s,c=n.attr("id");this.tpl[c]||(r=t(".search-result-tpl",n),this.tpl[c]=r.clone().removeClass("search-result-tpl"),r.remove()),r=this.tpl[c],t.each(e,function(t,e){(s=r.clone()).find(".search-result").html(e.display),"function"==typeof o&&o.call(this,i,e,s,n),s.appendTo(a).show()}),n.show()}else n.hide()},phpbb.search.clearResults=function(t){t.children(":not(.search-result-tpl)").remove()},t("#phpbb").click(function(){var e=t(this);e.is(".live-search")||e.parents().is(".live-search")||t(".live-search").hide()}),phpbb.history={},phpbb.history.isSupported=function(t){return!("undefined"==typeof history||void 0===history[t])},phpbb.history.alterUrl=function(t,e,i,n){var o=t+"State";e&&phpbb.history.isSupported(o)&&(i||(i=document.title),n||(n=null),history[o](n,i,e))},phpbb.history.replaceUrl=function(t,e,i){phpbb.history.alterUrl("replace",t,e,i)},phpbb.history.pushUrl=function(t,e,i){phpbb.history.alterUrl("push",t,e,i)},phpbb.timezoneSwitchDate=function(e){var i=t("#timezone_copy"),n=t("#timezone"),o=t("#tz_date"),a=t("#tz_select_date_suggest");0===i.length?n.clone().attr("id","timezone_copy").css("display","none").attr("name","tz_copy").insertAfter("#timezone"):n.html(i.html()),""!==o.val()&&n.children("optgroup").remove(':not([data-tz-value="'+o.val()+'"])'),o.val()===a.attr("data-suggested-tz")?a.css("display","none"):a.css("display","inline");var r=n.children('optgroup[data-tz-value="'+o.val()+'"]').children("option");if(1===r.length&&(r.prop("selected",!0),e=!0),void 0!==e&&!e){var s=n.find("optgroup option");s.filter(":selected").length<=0&&s.filter(":first").prop("selected",!0)}},phpbb.timezoneEnableDateSelection=function(){t("#tz_select_date").css("display","block")},phpbb.timezonePreselectSelect=function(e){var i=(new Date).getTimezoneOffset(),n="-";i<0&&(n="+",i=-i);var o,a=i%60,r=(i-a)/60,s="UTC"+n+(r=r<10?"0"+r.toString():r.toString())+":"+(a=a<10?"0"+a.toString():a.toString()),c=s.length,l=t("option","#tz_date"),d=t("#tz_select_date_suggest");for(o=0;o<l.length;++o){var u=l[o];if(u.value.substring(0,c)===s){t("#tz_date").val()===u.value||e?(u.selected=!0,phpbb.timezoneSwitchDate(!e),d.css("display","none")):(phpbb.timezoneSwitchDate(!0),d.css("display","inline"));var p=d.attr("data-l-suggestion");return d.attr("title",p.replace("%s",u.innerHTML)),d.attr("value",p.replace("%s",u.innerHTML.substring(0,9))),void d.attr("data-suggested-tz",u.innerHTML)}}},phpbb.ajaxCallbacks={},phpbb.addAjaxCallback=function(t,e){return"function"==typeof e&&(phpbb.ajaxCallbacks[t]=e),this},phpbb.addAjaxCallback("member_search",function(e){phpbb.search.handleResponse(e,t(this),!1,phpbb.getFunctionByName("phpbb.search.setValueOnClick"))}),phpbb.addAjaxCallback("alt_text",function(){var e,i=t(this).data("update-all");(void 0!==i&&i.length?t(i):t(this)).each(function(){var i=t(this);e=i.attr("data-alt-text"),i.attr("data-alt-text",i.text()),i.attr("title",t.trim(e)),i.text(e)})}),phpbb.addAjaxCallback("toggle_link",function(){var e,i,n,o=t(this).data("update-all");(void 0!==o&&o.length?t(o):t(this)).each(function(){var o=t(this);i=o.attr("data-toggle-url"),o.attr("data-toggle-url",o.attr("href")),o.attr("href",i),n=o.attr("data-toggle-class"),o.attr("data-toggle-class",o.children().attr("class")),o.children(".icon").attr("class",n),e=o.attr("data-toggle-text"),o.attr("data-toggle-text",o.children("span").text()),o.attr("title",t.trim(e)),o.children("span").text(e)})}),phpbb.inBBCodeTag=function(t,e,i){var n,o,a,r=t.selectionStart,s=-1,c=-1;if("number"!=typeof r)return!1;for(a=t.value.toLowerCase(),n=0;n<e.length;n++){var l=e[n].length;r>=l&&(o=a.lastIndexOf(e[n],r-l),c=Math.max(c,o))}if(-1===c)return!1;if(r>0)for(n=0;n<i.length;n++)o=a.lastIndexOf(i[n],r-1),s=Math.max(s,o);return s<c},phpbb.applyCodeEditor=function(e){var o=["[code]","[code="],a="]",r=["[/code]"];function s(){return phpbb.inBBCodeTag(e,o,r)}function c(t){var i=e.selectionStart,n=e.selectionEnd,o=e.value;e.value=o.substr(0,i)+t+o.substr(n),e.selectionStart=e.selectionEnd=i+t.length}e&&"number"==typeof e.selectionStart&&!0!==t(e).data("code-editor")&&t(e).data("code-editor",!0).on("keydown",function(t){var r=t.keyCode||t.which;if(!(r!==i||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)&&s())return c("\t"),void t.preventDefault();if(r===n&&s()){var l=function(t){var i=e.selectionStart,n=e.value,r=n.lastIndexOf("\n",i-1);if(n=n.substring(r+1,i),t)for(var s=0;s<o.length;s++)if((r=n.lastIndexOf(o[s]))>=0){var c=o[s].length;n=n.substring(r+c),o[s].lastIndexOf(a)!==c&&(r=n.indexOf(a))>=0&&(n=n.substr(r+1))}return n}(!0),d=""+/^\s*/g.exec(l);d.length>0&&(c("\n"+d),t.preventDefault())}})},phpbb.showDragNDrop=function(e){e&&(t("body").on("dragenter dragover",function(){t(e).addClass("drag-n-drop")}).on("dragleave dragout dragend drop",function(){t(e).removeClass("drag-n-drop")}),t(e).on("dragenter dragover",function(){t(e).addClass("drag-n-drop-highlight")}).on("dragleave dragout dragend drop",function(){t(e).removeClass("drag-n-drop-highlight")}))},phpbb.dropdownHandles=".dropdown-container.dropdown-visible .dropdown-toggle",phpbb.dropdownVisibleContainers=".dropdown-container.dropdown-visible",phpbb.toggleDropdown=function(){var e,i=t(this),n=i.data("dropdown-options"),o=n.parent,a=o.hasClass("dropdown-visible");if(!a){t(phpbb.dropdownHandles).each(phpbb.toggleDropdown),e=n.direction;var r=n.verticalDirection,s=i.offset();if("auto"===e&&(e=(t(window).width()-i.outerWidth(!0))/2>s.left?"right":"left"),o.toggleClass(n.leftClass,"left"===e).toggleClass(n.rightClass,"right"===e),"auto"===r){var c=t(window).height();r=s.top-t(window).scrollTop()<.7*c?"down":"up"}o.toggleClass(n.upClass,"up"===r).toggleClass(n.downClass,"down"===r)}if(n.dropdown.toggle(),o.toggleClass(n.visibleClass,!a).toggleClass("dropdown-visible",!a),!a){var l=t(window).width();n.dropdown.find(".dropdown-contents").each(function(){var e=t(this);e.css({marginLeft:0,left:0,maxWidth:l-4+"px"});var i=e.offset().left,n=e.outerWidth(!0);i<2?e.css("left",2-i+"px"):i+n+2>l&&e.css("margin-left",l-i-n-2+"px"),e.toggleClass("dropdown-nonscroll",this.scrollHeight===e.innerHeight())});var d=o.offset().left-4;if("left"===e){if(n.dropdown.css("margin-left","-"+d+"px"),n.dropdown.hasClass("dropdown-extended")){var u,p=d+o.outerWidth();n.dropdown.find(".dropdown-contents").each(function(){u=parseInt(t(this).outerWidth(),10),t(this).css({marginLeft:0,left:0})});var f=Math.min(u,p)+"px";n.dropdown.css({width:f,marginLeft:-f})}}else n.dropdown.css("margin-right","-"+(l+d)+"px")}if(arguments.length>0)try{var h=arguments[0];h.preventDefault(),h.stopPropagation()}catch(t){}return!1},phpbb.toggleSubmenu=function(e){t(this).siblings(".dropdown-submenu").toggle(),e.preventDefault()},phpbb.registerDropdown=function(e,i,n){var o={parent:e.parent(),direction:"auto",verticalDirection:"auto",visibleClass:"visible",leftClass:"dropdown-left",rightClass:"dropdown-right",upClass:"dropdown-up",downClass:"dropdown-down"};n&&(o=t.extend(o,n)),o.dropdown=i,o.parent.addClass("dropdown-container"),e.addClass("dropdown-toggle"),e.data("dropdown-options",o),e.click(phpbb.toggleDropdown),t(".dropdown-toggle-submenu",o.parent).click(phpbb.toggleSubmenu)},phpbb.colorPalette=function(t,e,i){var n,o,a,r=new Array(6),s="",c="";for(r[0]="00",r[1]="40",r[2]="80",r[3]="BF",r[4]="FF",c+='<table class="not-responsive colour-palette '+("h"===t?"horizontal-palette":"vertical-palette")+'" style="width: auto;">',n=0;n<5;n++){for("h"===t&&(c+="<tr>"),o=0;o<5;o++){for("v"===t&&(c+="<tr>"),a=0;a<5;a++)c+='<td style="background-color: #'+(s=""+r[n]+r[o]+r[a])+"; width: "+e+"px; height: "+i+'px;"><a href="#" data-color="'+s+'" style="display: block; width: '+e+"px; height: "+i+'px; " alt="#'+s+'" title="#'+s+'"></a>',c+="</td>";"v"===t&&(c+="</tr>")}"h"===t&&(c+="</tr>")}return c+="</table>"},phpbb.registerPalette=function(e){var i=e.attr("data-orientation"),n=e.attr("data-height"),o=e.attr("data-width"),a=e.attr("data-target"),r=e.attr("data-bbcode");e.html(phpbb.colorPalette(i,o,n)),t("#color_palette_toggle").click(function(t){e.toggle(),t.preventDefault()}),t(e).on("click","a",function(e){var i=t(this).attr("data-color");r?bbfontstyle("[color=#"+i+"]","[/color]"):t(a).val(i),e.preventDefault()})},phpbb.toggleDisplay=function(e,i,n){n||(n="block");var o=t("#"+e),a=o.css("display");i||(i=""===a||a===n?-1:1),o.css("display",1===i?n:"none")},phpbb.toggleSelectSettings=function(e){e.children().each(function(){var e=t(this);t(e.data("toggle-setting")).toggle(e.is(":selected")),e.is(":selected")?t(e.data("toggle-setting")+" input").prop("disabled",!1):t(e.data("toggle-setting")+" input").prop("disabled",!0)})},phpbb.getFunctionByName=function(t){for(var e=t.split("."),i=e.pop(),n=window,o=0;o<e.length;o++)n=n[e[o]];return n[i]},phpbb.registerPageDropdowns=function(){var e=t("body");e.find(".dropdown-container").each(function(){var e,i=t(this),n=i.find(".dropdown-trigger:first"),o=i.find(".dropdown"),a={direction:"auto",verticalDirection:"auto"};i.hasClass("dropdown-loaded")||(n.length||(n=(e=i.attr("data-dropdown-trigger"))?i.children(e):i.children("a:first")),o.length||(o=(e=i.attr("data-dropdown-contents"))?i.children(e):i.children("div:first")),n.length&&o.length&&(i.hasClass("dropdown-up")&&(a.verticalDirection="up"),i.hasClass("dropdown-down")&&(a.verticalDirection="down"),i.hasClass("dropdown-left")&&(a.direction="left"),i.hasClass("dropdown-right")&&(a.direction="right"),phpbb.registerDropdown(n,o,a),i.addClass("dropdown-loaded")))}),e.click(function(e){t(e.target).parents().is(phpbb.dropdownVisibleContainers)||t(phpbb.dropdownHandles).each(phpbb.toggleDropdown)})},phpbb.lazyLoadAvatars=function(){t(".avatar[data-src]").each(function(){var e=t(this);e.attr("src",e.data("src")).removeAttr("data-src")})},t(window).load(phpbb.lazyLoadAvatars),t(function(){t("textarea[data-bbcode]").each(function(){phpbb.applyCodeEditor(this)}),phpbb.registerPageDropdowns(),t("#color_palette_placeholder").each(function(){phpbb.registerPalette(t(this))}),phpbb.history.replaceUrl(t("#unread[data-url]").data("url")),t("select[data-togglable-settings]").each(function(){var e=t(this);e.change(function(){phpbb.toggleSelectSettings(e)}),phpbb.toggleSelectSettings(e)})})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function i(e,i){var n=!0;return t.each(e,function(t,o){return void 0===i[t]||e[t]!==i[t]?(n=!1,!1):void 0}),n}function n(e){var i=e.attr("id"),n=i?r.window.document.getElementById(i):null;return n?n===e[0]:t.contains(r.window.document.body,e[0])}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},a="undefined"!=typeof window?window:null,r={hasTouchCapability:!(!a||!("ontouchstart"in a||a.DocumentTouch&&a.document instanceof a.DocumentTouch||a.navigator.maxTouchPoints)),hasTransitions:function(){if(!a)return!1;var t=(a.document.body||a.document.documentElement).style,e="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof t[i[n]+e])return!0;return!1}(),IE:!1,semVer:"4.1.6",window:a},s=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=r};s.prototype={__bridge:function(e,i,n){if(!i[n]){var a=function(){};a.prototype=e;var r=new a;r.__init&&r.__init(i),t.each(e,function(t,e){0!=t.indexOf("__")&&(i[t]?o.debug&&console.log("The "+t+" method of the "+n+" plugin conflicts with another plugin or native methods"):(i[t]=function(){return r[t].apply(r,Array.prototype.slice.apply(arguments))},i[t].bridged=r))}),i[n]=r}return this},__setWindow:function(t){return r.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){var i=this;if("string"==typeof e){var n=e,o=null;return n.indexOf(".")>0?o=i.__plugins[n]:t.each(i.__plugins,function(t,e){return e.name.substring(e.name.length-n.length-1)=="."+n?(o=e,!1):void 0}),o}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return i.__plugins[e.name]=e,e.core&&i.__bridge(e.core,i,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var i=[];return t(e||".tooltipstered").each(function(){var e=t(this),n=e.data("tooltipster-ns");n&&t.each(n,function(t,n){i.push(e.data(n))})}),i},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(o,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new s,t.Tooltipster=function(e,i){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__destroying=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,i)},t.Tooltipster.prototype={__init:function(e,i){var n=this;if(n._$origin=t(e),n.__options=t.extend(!0,{},o,i),n.__optionsFormat(),!r.IE||r.IE>=n.__options.IEmin){var a=null;if(void 0===n._$origin.data("tooltipster-initialTitle")&&(void 0===(a=n._$origin.attr("title"))&&(a=null),n._$origin.data("tooltipster-initialTitle",a)),null!==n.__options.content)n.__contentSet(n.__options.content);else{var s,c=n._$origin.attr("data-tooltip-content");c&&(s=t(c)),s&&s[0]?n.__contentSet(s.first()):n.__contentSet(a)}n._$origin.removeAttr("title").addClass("tooltipstered"),n.__prepareOrigin(),n.__prepareGC(),t.each(n.__options.plugins,function(t,e){n._plug(e)}),r.hasTouchCapability&&t("body").on("touchmove."+n.__namespace+"-triggerOpen",function(t){n._touchRecordEvent(t)}),n._on("created",function(){n.__prepareTooltip()})._on("repositioned",function(t){n.__lastPosition=t.position})}else n.__options.disabled=!0},__contentInsert:function(){var t=this,e=t._$tooltip.find(".tooltipster-content"),i=t.__Content;return t._trigger({type:"format",content:t.__Content,format:function(t){i=t}}),t.__options.functionFormat&&(i=t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content)),"string"!=typeof i||t.__options.contentAsHTML?e.empty().append(i):e.text(i),t},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this,i=e._$origin,n=e._$origin.is("area");if(n){var o=e._$origin.parent().attr("name");i=t('img[usemap="#'+o+'"]')}var a=i[0].getBoundingClientRect(),s=t(r.window.document),c=t(r.window),l=i,d={available:{document:null,window:null},document:{size:{height:s.height(),width:s.width()}},window:{scroll:{left:r.window.scrollX||r.window.document.documentElement.scrollLeft,top:r.window.scrollY||r.window.document.documentElement.scrollTop},size:{height:c.height(),width:c.width()}},origin:{fixedLineage:!1,offset:{},size:{height:a.bottom-a.top,width:a.right-a.left},usemapImage:n?i[0]:null,windowOffset:{bottom:a.bottom,left:a.left,right:a.right,top:a.top}}};if(n){var u=e._$origin.attr("shape"),p=e._$origin.attr("coords");if(p&&(p=p.split(","),t.map(p,function(t,e){p[e]=parseInt(t)})),"default"!=u)switch(u){case"circle":var f=p[0],h=p[1],_=p[2],g=h-_,m=f-_;d.origin.size.height=2*_,d.origin.size.width=d.origin.size.height,d.origin.windowOffset.left+=m,d.origin.windowOffset.top+=g;break;case"rect":var v=p[0],b=p[1],w=p[2],y=p[3];d.origin.size.height=y-b,d.origin.size.width=w-v,d.origin.windowOffset.left+=v,d.origin.windowOffset.top+=b;break;case"poly":for(var k=0,T=0,C=0,I=0,A="even",E=0;E<p.length;E++){var S=p[E];"even"==A?(S>C&&(C=S,0===E&&(k=C)),k>S&&(k=S),A="odd"):(S>I&&(I=S,1==E&&(T=I)),T>S&&(T=S),A="even")}d.origin.size.height=I-T,d.origin.size.width=C-k,d.origin.windowOffset.left+=k,d.origin.windowOffset.top+=T}}for(e._trigger({type:"geometry",edit:function(t){d.origin.size.height=t.height,d.origin.windowOffset.left=t.left,d.origin.windowOffset.top=t.top,d.origin.size.width=t.width},geometry:{height:d.origin.size.height,left:d.origin.windowOffset.left,top:d.origin.windowOffset.top,width:d.origin.size.width}}),d.origin.windowOffset.right=d.origin.windowOffset.left+d.origin.size.width,d.origin.windowOffset.bottom=d.origin.windowOffset.top+d.origin.size.height,d.origin.offset.left=d.origin.windowOffset.left+d.window.scroll.left,d.origin.offset.top=d.origin.windowOffset.top+d.window.scroll.top,d.origin.offset.bottom=d.origin.offset.top+d.origin.size.height,d.origin.offset.right=d.origin.offset.left+d.origin.size.width,d.available.document={bottom:{height:d.document.size.height-d.origin.offset.bottom,width:d.document.size.width},left:{height:d.document.size.height,width:d.origin.offset.left},right:{height:d.document.size.height,width:d.document.size.width-d.origin.offset.right},top:{height:d.origin.offset.top,width:d.document.size.width}},d.available.window={bottom:{height:Math.max(d.window.size.height-Math.max(d.origin.windowOffset.bottom,0),0),width:d.window.size.width},left:{height:d.window.size.height,width:Math.max(d.origin.windowOffset.left,0)},right:{height:d.window.size.height,width:Math.max(d.window.size.width-Math.max(d.origin.windowOffset.right,0),0)},top:{height:Math.max(d.origin.windowOffset.top,0),width:d.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){d.origin.fixedLineage=!0;break}l=l.parent()}return d},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var i=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t,e){return i-t.time>6e4}),n(e._$origin)||e.destroy()},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),r.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&r.hasTouchCapability){var e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&r.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&r.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&r.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&r.hasTouchCapability){e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&r.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var e=this,i=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":i,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,i){e._$tooltip.removeClass(i)}),t.each(e.__options.theme,function(t,i){e._$tooltip.addClass(i)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){var i=this;if(i.__options.triggerClose.scroll)i._close(e);else{if(e.target===r.window.document)i.__Geometry.origin.fixedLineage||i.__options.repositionOnScroll&&i.reposition(e);else{var n=i.__geometry(),o=!1;if("fixed"!=i._$origin.css("position")&&i.__$originParents.each(function(e,i){var a=t(i),r=a.css("overflow-x"),s=a.css("overflow-y");if("visible"!=r||"visible"!=s){var c=i.getBoundingClientRect();if("visible"!=r&&(n.origin.windowOffset.left<c.left||n.origin.windowOffset.right>c.right))return o=!0,!1;if("visible"!=s&&(n.origin.windowOffset.top<c.top||n.origin.windowOffset.bottom>c.bottom))return o=!0,!1}return"fixed"!=a.css("position")&&void 0}),o)i._$tooltip.css("visibility","hidden");else if(i._$tooltip.css("visibility","visible"),i.__options.repositionOnScroll)i.reposition(e);else{var a=n.origin.offset.left-i.__Geometry.origin.offset.left,s=n.origin.offset.top-i.__Geometry.origin.offset.top;i._$tooltip.css({left:i.__lastPosition.coord.left+a,top:i.__lastPosition.coord.top+s})}}i._trigger({type:"scroll",event:e})}return i},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(n(t._$origin)&&n(t._$tooltip)){if(t.__options.trackOrigin){var o=t.__geometry(),a=!1;i(o.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?i(o.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(a=!0):i(o.origin.offset,t.__Geometry.origin.offset)&&(a=!0)),a||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var r=e[0].getBoundingClientRect();r.height===t.__contentBcr.height&&r.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=r)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,i){var n=this,o=!0;if(n._trigger({type:"close",event:e,stop:function(){o=!1}}),o||n.__destroying){i&&n.__callbacks.close.push(i),n.__callbacks.open=[],n.__timeoutsClear();var a=function(){t.each(n.__callbacks.close,function(t,i){i.call(n,n,{event:e,origin:n._$origin[0]})}),n.__callbacks.close=[]};if("closed"!=n.__state){var s=!0,c=(new Date).getTime()+n.__options.animationDuration[1];if("disappearing"==n.__state&&c>n.__closingTime&&(s=!1),s){n.__closingTime=c,"disappearing"!=n.__state&&n.__stateSet("disappearing");var l=function(){clearInterval(n.__tracker),n._trigger({type:"closing",event:e}),n._$tooltip.off("."+n.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(r.window).off("."+n.__namespace+"-triggerClose"),n.__$originParents.each(function(e,i){t(i).off("scroll."+n.__namespace+"-triggerClose")}),n.__$originParents=null,t("body").off("."+n.__namespace+"-triggerClose"),n._$origin.off("."+n.__namespace+"-triggerClose"),n._off("dismissable"),n.__stateSet("closed"),n._trigger({type:"after",event:e}),n.__options.functionAfter&&n.__options.functionAfter.call(n,n,{event:e,origin:n._$origin[0]}),a()};r.hasTransitions?(n._$tooltip.css({"-moz-animation-duration":n.__options.animationDuration[1]+"ms","-ms-animation-duration":n.__options.animationDuration[1]+"ms","-o-animation-duration":n.__options.animationDuration[1]+"ms","-webkit-animation-duration":n.__options.animationDuration[1]+"ms","animation-duration":n.__options.animationDuration[1]+"ms","transition-duration":n.__options.animationDuration[1]+"ms"}),n._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),n.__options.animationDuration[1]>0&&n._$tooltip.delay(n.__options.animationDuration[1]),n._$tooltip.queue(l)):n._$tooltip.stop().fadeOut(n.__options.animationDuration[1],l)}}else a()}return n},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,i){var o=this;if(!o.__destroying&&n(o._$origin)&&o.__enabled){var a=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:e,stop:function(){a=!1}}),a&&o.__options.functionBefore&&(a=o.__options.functionBefore.call(o,o,{event:e,origin:o._$origin[0]}))),!1!==a&&null!==o.__Content){i&&o.__callbacks.open.push(i),o.__callbacks.close=[],o.__timeoutsClear();var s,c=function(){"stable"!=o.__state&&o.__stateSet("stable"),t.each(o.__callbacks.open,function(t,e){e.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]};if("closed"!==o.__state)s=0,"disappearing"===o.__state?(o.__stateSet("appearing"),r.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(c)):o._$tooltip.stop().fadeIn(c)):"stable"==o.__state&&c();else{if(o.__stateSet("appearing"),s=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(e,!0),r.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(c))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],c),o.__trackerStart(),t(r.window).on("resize."+o.__namespace+"-triggerClose",function(e){var i=t(document.activeElement);(i.is("input")||i.is("textarea"))&&t.contains(o._$tooltip[0],i[0])||o.reposition(e)}).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(e,i){t(i).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&r.hasTouchCapability){o._on("dismissable",function(t){t.dismissable?t.delay?(p=setTimeout(function(){o._close(t.event)},t.delay),o.__timeouts.close.push(p)):o._close(t):clearTimeout(p)});var l=o._$origin,d="",u="",p=null;o.__options.interactive&&(l=l.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(d+="mouseenter."+o.__namespace+"-triggerClose ",u+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&r.hasTouchCapability&&(d+="touchstart."+o.__namespace+"-triggerClose",u+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),l.on(u,function(t){if(o._touchIsTouchEvent(t)||!o._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(d,function(t){!o._touchIsTouchEvent(t)&&o._touchIsEmulatedEvent(t)||o._trigger({dismissable:!1,event:t,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(t){o._touchIsTouchEvent(t)||o._touchIsEmulatedEvent(t)||o._close(t)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&r.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var e="";o.__options.triggerClose.click&&(e+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&r.hasTouchCapability&&(e+="touchend."+o.__namespace+"-triggerClose"),t("body").on(e,function(e){o._touchIsMeaningfulEvent(e)&&(o._touchRecordEvent(e),o.__options.interactive&&t.contains(o._$tooltip[0],e.target)||o._close(e))}),o.__options.triggerClose.tap&&r.hasTouchCapability&&t("body").on("touchstart."+o.__namespace+"-triggerClose",function(t){o._touchRecordEvent(t)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(o.__options.timer>0){p=setTimeout(function(){o._close()},o.__options.timer+s);o.__timeouts.close.push(p)}}}return o},_openShortly:function(t){var e=this,i=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){i=!1}}),i)){var n=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;n[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},n[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,i){var n=this,o=t.extend(!0,{},i),a=n.__options[e];return a||(a={},t.each(i,function(t,e){var i=n.__options[t];void 0!==i&&(a[t]=i)})),t.each(o,function(e,i){void 0!==a[e]&&("object"!=typeof i||i instanceof Array||null==i||"object"!=typeof a[e]||a[e]instanceof Array||null==a[e]?o[e]=a[e]:t.extend(o[e],a[e]))}),o},_plug:function(e){var i=t.tooltipster._plugin(e);if(!i)throw new Error('The "'+e+'" plugin is not defined');return i.instance&&t.tooltipster.__bridge(i.instance,this,i.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,i=(new Date).getTime(),n=this.__touchEvents.length-1;n>=0;n--){var o=this.__touchEvents[n];if(!(i-o.time<500))break;o.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,i=this.__touchEvents.length-1;i>=0;i--){var n=this.__touchEvents[i];if("touchmove"==n.type){e=!0;break}if("touchstart"==n.type&&t===n.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var i=this;if(i[e]){var n=t.tooltipster._plugin(e);n.instance&&t.each(n.instance,function(t,n){i[t]&&i[t].bridged===i[e]&&delete i[t]}),i[e].__destroy&&i[e].__destroy(),delete i[e]}return i},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(r.hasTransitions){var i=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+i),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+i)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;return e.__destroyed?e.__destroyError():e.__destroying||(e.__destroying=!0,e._close(null,function(){e._trigger("destroy"),e.__destroying=!1,e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t("body").off("."+e.__namespace+"-triggerOpen");var i=e._$origin.data("tooltipster-ns");if(i)if(1===i.length){var n=null;"previous"==e.__options.restoration?n=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(n="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),n&&e._$origin.attr("title",n),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else i=t.grep(i,function(t,i){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",i);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,i){return e!==t}),clearInterval(e.__garbageCollector)})),e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,t),this},option:function(e,i){return void 0===i?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=i,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){var i=this;return i.__destroyed?i.__destroyError():"closed"!=i.__state&&n(i._$origin)&&(e||n(i._$tooltip))&&(e||i._$tooltip.detach(),i.__Geometry=i.__geometry(),i._trigger({type:"reposition",event:t,helper:{geo:i.__Geometry}})),i},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),i="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var n="#*$~&";return this.each(function(){var o=t(this).data("tooltipster-ns"),a=o?t(this).data(o[0]):null;if(!a)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof a[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!a.__options.contentCloning&&a.__options.debug&&console.log(i);var r=a[e[0]](e[1],e[2]);return r!==a||"instance"===e[0]?(n=r,!1):void 0}),"#*$~&"!==n?n:this}t.tooltipster.__instancesLatestArr=[];var a=e[0]&&void 0!==e[0].multiple,r=a&&e[0].multiple||!a&&o.multiple,s=e[0]&&void 0!==e[0].content,c=s&&e[0].content||!s&&o.content,l=e[0]&&void 0!==e[0].contentCloning,d=l&&e[0].contentCloning||!l&&o.contentCloning,u=e[0]&&void 0!==e[0].debug,p=u&&e[0].debug||!u&&o.debug;return this.length>1&&(c instanceof t||"object"==typeof c&&null!=c&&c.tagName)&&!d&&p&&console.log(i),this.each(function(){var i=!1,n=t(this),o=n.data("tooltipster-ns"),a=null;o?r?i=!0:p&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):i=!0,i&&(a=new t.Tooltipster(this,e[0]),o||(o=[]),o.push(a.__namespace),n.data("tooltipster-ns",o),n.data(a.__namespace,a),a.__options.functionInit&&a.__options.functionInit.call(a,a,{origin:this}),a._trigger("init")),t.tooltipster.__instancesLatestArr.push(a)}),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom,width:t.width||t.right}};if(this.constraints){var i=this.__$tooltip.find(".tooltipster-content"),n=this.__$tooltip.outerHeight(),o=i[0].getBoundingClientRect(),a={height:n<=this.constraints.height,width:t.width<=this.constraints.width&&o.width>=i[0].scrollWidth-1};e.fits=a.height&&a.width}return r.IE&&r.IE<=11&&e.size.width!==r.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var c=navigator.userAgent.toLowerCase();-1!=c.indexOf("msie")?r.IE=parseInt(c.split("msie")[1]):-1!==c.toLowerCase().indexOf("trident")&&-1!==c.indexOf(" rv:11")?r.IE=11:-1!=c.toLowerCase().indexOf("edge/")&&(r.IE=parseInt(c.toLowerCase().split("edge/")[1]));var l="tooltipster.sideTip";return t.tooltipster._plugin({name:l,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var e=this;if(e.__options=e.__instance._optionsExtract(l,e.__defaults()),e.__options.position&&(e.__options.side=e.__options.position),"object"!=typeof e.__options.distance&&(e.__options.distance=[e.__options.distance]),e.__options.distance.length<4&&(void 0===e.__options.distance[1]&&(e.__options.distance[1]=e.__options.distance[0]),void 0===e.__options.distance[2]&&(e.__options.distance[2]=e.__options.distance[0]),void 0===e.__options.distance[3]&&(e.__options.distance[3]=e.__options.distance[1]),e.__options.distance={top:e.__options.distance[0],right:e.__options.distance[1],bottom:e.__options.distance[2],left:e.__options.distance[3]}),"string"==typeof e.__options.side){e.__options.side=[e.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[e.__options.side]],"left"==e.__options.side[0]||"right"==e.__options.side[0]?e.__options.side.push("top","bottom"):e.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==e.__options.arrow&&(e.__options.arrow=!1)},__reposition:function(e,i){var n,o=this,a=o.__targetFind(i),r=[];o.__instance._$tooltip.detach();var s=o.__instance._$tooltip.clone(),c=t.tooltipster._getRuler(s),l=!1,d=o.__instance.option("animation");switch(d&&s.removeClass("tooltipster-"+d),t.each(["window","document"],function(n,d){var u=null;if(o.__instance._trigger({container:d,helper:i,satisfied:l,takeTest:function(t){u=t},results:r,type:"positionTest"}),1==u||0!=u&&0==l&&("window"!=d||o.__options.viewportAware))for(n=0;n<o.__options.side.length;n++){var p={horizontal:0,vertical:0},f=o.__options.side[n];"top"==f||"bottom"==f?p.vertical=o.__options.distance[f]:p.horizontal=o.__options.distance[f],o.__sideChange(s,f),t.each(["natural","constrained"],function(t,n){if(u=null,o.__instance._trigger({container:d,event:e,helper:i,mode:n,results:r,satisfied:l,side:f,takeTest:function(t){u=t},type:"positionTest"}),1==u||0!=u&&0==l){var s={container:d,distance:p,fits:null,mode:n,outerSize:null,side:f,size:null,target:a[f],whole:null},h=("natural"==n?c.free():c.constrain(i.geo.available[d][f].width-p.horizontal,i.geo.available[d][f].height-p.vertical)).measure();if(s.size=h.size,s.outerSize={height:h.size.height+p.vertical,width:h.size.width+p.horizontal},"natural"==n?i.geo.available[d][f].width>=s.outerSize.width&&i.geo.available[d][f].height>=s.outerSize.height?s.fits=!0:s.fits=!1:s.fits=h.fits,"window"==d&&(s.fits?s.whole="top"==f||"bottom"==f?i.geo.origin.windowOffset.right>=o.__options.minIntersection&&i.geo.window.size.width-i.geo.origin.windowOffset.left>=o.__options.minIntersection:i.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&i.geo.window.size.height-i.geo.origin.windowOffset.top>=o.__options.minIntersection:s.whole=!1),r.push(s),s.whole)l=!0;else if("natural"==s.mode&&(s.fits||s.size.width<=i.geo.available[d][f].width))return!1}})}}),o.__instance._trigger({edit:function(t){r=t},event:e,helper:i,results:r,type:"positionTested"}),r.sort(function(t,e){if(t.whole&&!e.whole)return-1;if(!t.whole&&e.whole)return 1;if(t.whole&&e.whole){var i=o.__options.side.indexOf(t.side);return(n=o.__options.side.indexOf(e.side))>i?-1:i>n?1:"natural"==t.mode?-1:1}if(t.fits&&!e.fits)return-1;if(!t.fits&&e.fits)return 1;if(t.fits&&e.fits){var n;i=o.__options.side.indexOf(t.side);return(n=o.__options.side.indexOf(e.side))>i?-1:i>n?1:"natural"==t.mode?-1:1}return"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1}),(n=r[0]).coord={},n.side){case"left":case"right":n.coord.top=Math.floor(n.target-n.size.height/2);break;case"bottom":case"top":n.coord.left=Math.floor(n.target-n.size.width/2)}switch(n.side){case"left":n.coord.left=i.geo.origin.windowOffset.left-n.outerSize.width;break;case"right":n.coord.left=i.geo.origin.windowOffset.right+n.distance.horizontal;break;case"top":n.coord.top=i.geo.origin.windowOffset.top-n.outerSize.height;break;case"bottom":n.coord.top=i.geo.origin.windowOffset.bottom+n.distance.vertical}"window"==n.container?"top"==n.side||"bottom"==n.side?n.coord.left<0?i.geo.origin.windowOffset.right-this.__options.minIntersection>=0?n.coord.left=0:n.coord.left=i.geo.origin.windowOffset.right-this.__options.minIntersection-1:n.coord.left>i.geo.window.size.width-n.size.width&&(i.geo.origin.windowOffset.left+this.__options.minIntersection<=i.geo.window.size.width?n.coord.left=i.geo.window.size.width-n.size.width:n.coord.left=i.geo.origin.windowOffset.left+this.__options.minIntersection+1-n.size.width):n.coord.top<0?i.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?n.coord.top=0:n.coord.top=i.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:n.coord.top>i.geo.window.size.height-n.size.height&&(i.geo.origin.windowOffset.top+this.__options.minIntersection<=i.geo.window.size.height?n.coord.top=i.geo.window.size.height-n.size.height:n.coord.top=i.geo.origin.windowOffset.top+this.__options.minIntersection+1-n.size.height):(n.coord.left>i.geo.window.size.width-n.size.width&&(n.coord.left=i.geo.window.size.width-n.size.width),n.coord.left<0&&(n.coord.left=0)),o.__sideChange(s,n.side),i.tooltipClone=s[0],i.tooltipParent=o.__instance.option("parent").parent[0],i.mode=n.mode,i.whole=n.whole,i.origin=o.__instance._$origin[0],i.tooltip=o.__instance._$tooltip[0],delete n.container,delete n.fits,delete n.mode,delete n.outerSize,delete n.whole,n.distance=n.distance.horizontal||n.distance.vertical;var u,p,f,h=t.extend(!0,{},n);if(o.__instance._trigger({edit:function(t){n=t},event:e,helper:i,position:h,type:"position"}),o.__options.functionPosition){var _=o.__options.functionPosition.call(o,o.__instance,i,h);_&&(n=_)}c.destroy(),"top"==n.side||"bottom"==n.side?(u={prop:"left",val:n.target-n.coord.left},p=n.size.width-this.__options.minIntersection):(u={prop:"top",val:n.target-n.coord.top},p=n.size.height-this.__options.minIntersection),u.val<this.__options.minIntersection?u.val=this.__options.minIntersection:u.val>p&&(u.val=p),f=i.geo.origin.fixedLineage?i.geo.origin.windowOffset:{left:i.geo.origin.windowOffset.left+i.geo.window.scroll.left,top:i.geo.origin.windowOffset.top+i.geo.window.scroll.top},n.coord={left:f.left+(n.coord.left-i.geo.origin.windowOffset.left),top:f.top+(n.coord.top-i.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,n.side),i.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:n.coord.left,top:n.coord.top,height:n.size.height,width:n.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(u.prop,u.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:e,position:n})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},i=this.__instance._$origin[0].getClientRects();i.length>1&&(1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),i=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)));if(i.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var n=i[0];e.top=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil(i.length/2)-1]:i[0],e.right=Math.floor(n.top+(n.bottom-n.top)/2),n=i[i.length-1],e.bottom=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil((i.length+1)/2)-1]:i[i.length-1],e.left=Math.floor(n.top+(n.bottom-n.top)/2)}return e}}}),t}),function(t){function e(e,i){var n,o=this,a=(i=i||{}).query||"> :even";t.extend(o,{$el:e,options:i,sections:[],isAccordion:i.accordion||!1,db:!!i.persist&&jQueryCollapseStorage(e.get(0).id)}),o.states=o.db?o.db.read():[],o.$el.find(a).each(function(){new jQueryCollapseSection(t(this),o)}),n=o,o.$el.on("click","[data-collapse-summary] "+(n.options.clickQuery||""),t.proxy(o.handleClick,n)),o.$el.bind("toggle close open",t.proxy(o.handleEvent,n))}function i(e,i){i.options.clickQuery||e.wrapInner('<a href="#"/>'),t.extend(this,{isOpen:!1,$summary:e.attr("data-collapse-summary",""),$details:e.next(),options:i.options,parent:i}),i.sections.push(this);var n=i.states[this._index()];0===n?this.close(!0):this.$summary.is(".open")||1===n?this.open(!0):this.close(!0)}e.prototype={handleClick:function(e,i){e.preventDefault();i=i||"toggle";for(var n=this.sections,o=n.length;o--;)if(t.contains(n[o].$summary[0],e.target)){n[o][i]();break}},handleEvent:function(t){if(t.target==this.$el.get(0))return this[t.type]();this.handleClick(t,t.type)},open:function(e){if(isFinite(e))return this.sections[e].open();t.each(this.sections,function(t,e){e.open()})},close:function(e){if(isFinite(e))return this.sections[e].close();t.each(this.sections,function(t,e){e.close()})},toggle:function(e){if(isFinite(e))return this.sections[e].toggle();t.each(this.sections,function(t,e){e.toggle()})}},i.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(t){this._changeState("close",t)},open:function(e){this.options.accordion&&!e&&t.each(this.parent.sections,function(t,e){e.close()}),this._changeState("open",e)},_index:function(){return t.inArray(this,this.parent.sections)},_changeState:function(e,i){var n=this;n.isOpen="open"==e,t.isFunction(n.options[e])&&!i?n.options[e].apply(n.$details):n.$details[n.isOpen?"show":"hide"](),n.$summary.toggleClass("open","close"!=e),n.$details.attr("aria-hidden","close"==e),n.$summary.attr("aria-expanded","open"==e),n.$summary.trigger("open"==e?"opened":"closed",n),n.parent.db&&n.parent.db.write(n._index(),n.isOpen)}},t.fn.extend({collapse:function(i,n){return(n?t("body").find("[data-collapse]"):t(this)).each(function(){var o=n?{}:i,a=t(this).attr("data-collapse")||"";t.each(a.split(" "),function(t,e){e&&(o[e]=!0)}),new e(t(this),o)})}}),t(function(){t.fn.collapse(!1,!0)}),jQueryCollapse=e,jQueryCollapseSection=i}(window.jQuery),function(t){var e="jQuery-Collapse-"+HS_FORUM_ID;function i(t,e){this.id=t,this.db=e,this.data=[]}i.prototype={write:function(i,n){var o=this;o.data[i]=n?1:0,t.each(o.data,function(t){void 0===o.data[t]&&(o.data[t]=0)});var a=this._getDataObject();a[this.id]=this.data,this.db.setItem(e,JSON.stringify(a))},read:function(){return this._getDataObject()[this.id]||[]},_getDataObject:function(){var t=this.db.getItem(e);return t?JSON.parse(t):{}}},jQueryCollapseStorage=function(e){var n;try{n=window.localStorage||t.fn.collapse.cookieStorage}catch(t){n=!1}return!!n&&new i(e,n)}}(jQuery),jQuery(function(t){"use strict";t(".sub-panels").each(function(){var e=t("a[data-subpanel]",this),i=e.map(function(){return this.getAttribute("data-subpanel")});i.length&&e.click(function(){return activateSubPanel(this.getAttribute("data-subpanel"),i),!1})})});var inAutocomplete=!1,lastKeyEntered="",loadSubmit,loadTime,Singleton;function phpbbCheckKey(t){"use strict";return!t.keyCode||40!==t.keyCode&&38!==t.keyCode||(inAutocomplete=!0),!inAutocomplete||lastKeyEntered&&lastKeyEntered!==t.which?13!==t.which&&(lastKeyEntered=t.which,!0):(inAutocomplete=!1,!0)}function insertUser(t,e){"use strict";var i=jQuery(t),n=i.attr("data-form-name"),o=i.attr("data-field-name"),a=opener.document.forms[n][o];a.value.length&&"textarea"===a.type&&(e=a.value+"\n"+e),a.value=e}function insert_marked_users(t,e){"use strict";for(var i=0;i<e.length;i++)e[i].checked&&insertUser(t,e[i].value);window.close()}function insert_single_user(t,e){"use strict";insertUser(t,e),window.close()}function parseDocument(t){"use strict";var e=void 0===document.createElement("div").style.borderRadius,i=$("body");t.find("input[data-reset-on-edit]").on("keyup",function(){$(this.getAttribute("data-reset-on-edit")).val("")}),t.find(".pagination .page-jump-form :button").click(function(){pageJump($(this).siblings("input.inputbox"))}),t.find(".pagination .page-jump-form input.inputbox").on("keypress",function(t){13!==t.which&&13!==t.keyCode||(t.preventDefault(),pageJump($(this)))}),t.find(".pagination .dropdown-trigger").click(function(){var t=$(this).parent();setTimeout(function(){t.hasClass("dropdown-visible")&&t.find("input.inputbox").focus()},100)}),t.find(".navlinks").each(function(){var t=$(this),e=t.children().not(".rightside"),i=t.children(".rightside");function n(){var n,o=0,a=e.outerWidth(!0)-e.width(),r=Math.max(t.width()/3,240);i.each(function(){var t=$(this);t.is(":visible")&&(o+=t.outerWidth(!0))}),n=t.width()-o-a,e.css("max-width",Math.floor(Math.max(n,r))+"px")}1===e.length&&i.length&&(n(),$(window).resize(n))}),t.find(".breadcrumbs:not([data-skip-responsive])").each(function(){var t=$(this),e=t.find(".crumb"),n=e.length,o=["wrapped-max","wrapped-wide","wrapped-medium","wrapped-small","wrapped-tiny"],a=o.length,r=0,s=!1,c=!1;function l(){var l,d=t.height();if((l=parseInt(t.css("max-width"),10))||(l=i.width()),r=parseInt(t.css("line-height"),10),e.each(function(){$(this).height()>0&&(r=Math.max(r,$(this).outerHeight(!0)))}),!(d<=r&&(!c||!1===s||s>=l)||(s=l,c&&(t.removeClass("wrapped").find(".crumb.wrapped").removeClass("wrapped "+o.join(" ")),t.height()<=r)||(c=!0,t.addClass("wrapped"),t.height()<=r))))for(var u=0;u<a;u++)for(var p=n-1;p>=0;p--)if(e.eq(p).addClass("wrapped "+o[u]),t.height()<=r)return}t.find("a").each(function(){var t=$(this);t.attr("title",t.text())}),l(),$(window).resize(l)});t.find(".linklist:not(.navlinks, [data-skip-responsive]),.postbody .post-buttons:not([data-skip-responsive])").each(function(){var t=$(this),e=".edit-icon, .quote-icon, [data-last-responsive]",n=t.children(),o=n.not(".breadcrumbs, [data-skip-responsive]"),a=o.not(e),r=o.filter(e),s="nav-main"===t.attr("id"),c='<li class="responsive-menu hidden"><a href="javascript:void(0);" class="js-responsive-menu-link responsive-menu-link"><i class="icon fa-bars fa-fw" aria-hidden="true"></i></a><div class="dropdown"><div class="pointer"><div class="pointer-inner" /></div><ul class="dropdown-contents" /></div></li>';s||(o.is(".rightside")?(o.filter(".rightside:first").before(c),t.children(".responsive-menu").addClass("rightside")):t.append(c));var l=t.children(".responsive-menu"),d=l.find(".dropdown-contents"),u=d.find("li:not(.separator)").length,p=!1,f=!1,h=!1,_=!1,g=!1,m=!1,v=0;function b(){var e=i.width();if(!(_&&f&&e<=p||(p=e,(h||_)&&(o.removeClass("hidden"),d.children(".clone").addClass("hidden"),h=_=!1),f&&(t.removeClass("compact"),f=!1),s&&u?l.removeClass("hidden"):l.addClass("hidden"),t.height()<=v||(f||(t.addClass("compact"),f=!0),t.height()<=v)))){if(f&&(t.removeClass("compact"),f=!1),!g){var n=a.clone();d.prepend(n.addClass("clone clone-first").removeClass("leftside rightside")),t.hasClass("post-buttons")&&($(".button",d).removeClass("button"),$(".sr-only",d).removeClass("sr-only"),$(".js-responsive-menu-link").addClass("button").addClass("button-icon-only"),$(".js-responsive-menu-link .icon").removeClass("fa-bars").addClass("fa-ellipsis-h")),g=!0}if(h||(a.addClass("hidden"),h=!0,d.children(".clone-first").removeClass("hidden"),l.removeClass("hidden")),!(t.height()<=v)&&(f||(t.addClass("compact"),f=!0),!(t.height()<=v)&&r.length)){if(f&&(t.removeClass("compact"),f=!1),!m){var c=r.clone();d.prepend(c.addClass("clone clone-last").removeClass("leftside rightside")),m=!0}_||(r.addClass("hidden"),_=!0,d.children(".clone-last").removeClass("hidden")),t.height()<=v||f||(t.addClass("compact"),f=!0)}}}n.each(function(){$(this).height()&&(v=Math.max(v,$(this).outerHeight(!0)))}),v<1||(v+=3,s||phpbb.registerDropdown(l.find("a.js-responsive-menu-link"),l.find(".dropdown"),!1),n.find("img").each(function(){$(this).load(function(){b()})}),b(),$(window).resize(b))}),e||(t.find("ul.topiclist dd.mark").siblings("dt").children(".list-inner").addClass("with-mark"),t.find(".topiclist.responsive-show-all > li > dl").each(function(){var t=$(this),e=t.find("dt .responsive-show:last-child"),i=!0;e.length?i=0===$.trim(e.text()).length:(t.find("dt > .list-inner").append('<div class="responsive-show" style="display:none;" />'),e=t.find("dt .responsive-show:last-child")),t.find("dd").not(".mark").each(function(){var t=$(this),n=t.children(),o=t.html();1===n.length&&n.text()===t.text()&&(o=n.html()),e.append((i?"":"<br />")+o),i=!1})}),t.find(".topiclist.responsive-show-columns").each(function(){var t=$(this),e=[],i=0;t.prev(".topiclist").find("li.header dd").not(".mark").each(function(){e.push($(this).text()),i++}),i&&t.find("dl").each(function(){var t=$(this),n=t.find("dt .responsive-show:last-child"),o=!0;n.length?o=0===$.trim(n.text()).length:(t.find("dt > .list-inner").append('<div class="responsive-show" style="display:none;" />'),n=t.find("dt .responsive-show:last-child")),t.find("dd").not(".mark").each(function(t){var a=$(this),r=a.children(),s=a.html();1===r.length&&r.text()===a.text()&&(s=r.html()),t<i&&(s=e[t]+": <strong>"+s+"</strong>"),n.append((o?"":"<br />")+s),o=!1})})}),t.find("table.table1").not(".not-responsive").each(function(){var t,e,i=$(this),n=[],o=0;i.find("thead > tr > th").each(function(e){var a=$(this),r=parseInt(a.attr("colspan"),10),s=a.attr("data-dfn"),c=s||a.text();for(r=isNaN(r)||r<1?1:r,t=0;t<r;t++)n.push(c);o++,s&&!e&&i.addClass("show-header")}),e=n.length,i.addClass("responsive"),o<2?i.addClass("show-header"):i.find("tbody > tr").each(function(){var t=$(this),i=t.children("td"),o=0;1!==i.length?i.each(function(){var t=$(this),i=parseInt(t.attr("colspan"),10),a=$.trim(t.text());e<=o||(a.length&&"-"!==a||t.children().length?t.prepend('<dfn style="display: none;">'+n[o]+"</dfn>"):t.addClass("empty"),i=isNaN(i)||i<1?1:i,o+=i)}):t.addClass("big-column")})}),t.find("table.responsive > tbody").not(".responsive-skip-empty").each(function(){$(this).children("tr").length||$(this).parent("table:first").addClass("responsive-hide")}),t.find("#tabs, #minitabs").not("[data-skip-responsive]").each(function(){var t=$(this),e=t.children(),n=e.children().not("[data-skip-responsive]"),o=n.children("a"),a=e.append('<li class="tab responsive-tab" style="display:none;"><a href="javascript:void(0);" class="responsive-tab-link">&nbsp;</a><div class="dropdown tab-dropdown" style="display: none;"><div class="pointer"><div class="pointer-inner" /></div><ul class="dropdown-contents" /></div></li>').find("li.responsive-tab"),r=a.find(".dropdown-contents"),s=0,c=!1,l=!1;function d(){var e=i.width(),o=t.height();if(arguments.length||l&&!(e<=c)||!(o<=s))if(n.show(),a.hide(),c=e,(o=t.height())<=s)a.hasClass("dropdown-visible")&&phpbb.toggleDropdown.call(a.find("a.responsive-tab-link").get(0));else{l=!0,a.show(),r.html("");var u,p,f=n.filter(":not(.activetab, .responsive-tab)");for(u=f.length-1;u>=0;u--)if(p=f.eq(u),r.prepend(p.clone(!0).removeClass("tab")),p.hide(),t.height()<=s)return void r.find("a").click(function(){d(!0)});r.find("a").click(function(){d(!0)})}}o.each(function(){var t=$(this);s=Math.max(s,Math.max(t.outerHeight(!0),t.parent().outerHeight(!0)))});var u=a.find("a.responsive-tab-link");phpbb.registerDropdown(u,a.find(".dropdown"),{visibleClass:"activetab"}),d(!0),$(window).resize(d)}),t.find("#navigation").each(function(){1===$(this).children("ol, ul").children("li").length&&$(this).addClass("responsive-hide")}),t.find("[data-responsive-text]").each(function(){var t=$(this),e=t.text(),i=t.attr("data-responsive-text"),n=!1;function o(){if($(window).width()>700){if(!n)return;return t.text(e),void(n=!1)}n||(t.text(i),n=!0)}o(),$(window).resize(o)}))}if(jQuery(function(t){"use strict";t("form input[type=text], form input[type=password]").on("keypress",function(e){var i=t(this).parents("form").find("input[type=submit].default-submit-action");return!i||i.length<=0||(!!phpbbCheckKey(e)||(!(e.which&&13===e.which||e.keyCode&&13===e.keyCode)||(i.click(),!1)))})}),jQuery(function(t){"use strict";t("#phpbb.nojs").toggleClass("nojs hasjs"),t("#phpbb").toggleClass("hastouch",phpbb.isTouch),t("#phpbb.hastouch").removeClass("notouch"),t("form[data-focus]:first").each(function(){t("#"+this.getAttribute("data-focus")).focus()}),parseDocument(t("body"))}),$("span.topic_type").length&&$("span.topic_type").each(function(t,e){var i=$(this).html();i=i.replace(":",""),$(this).html(i)}),$(document).ready(function(){$(".tooltip").tooltipster({theme:"tooltipster-borderless",delay:0,side:"right"}),$(".tooltip-left").tooltipster({theme:"tooltipster-borderless",delay:0,side:"left"})}),$(document).ready(function(){$(window).scroll(function(){$(this).scrollTop()>300?$(".scrollToTopText").fadeIn():$(".scrollToTopText").fadeOut()}),$(".scrollToTopText").click(function(){return $("html, body").animate({scrollTop:0},800),!1}),$("#postform,#qr_postform").submit(function(t){if((loadSubmit=$(this).find(".loadSubmit").eq(0)).length){if("true"===loadSubmit.attr("hasDisabled"))return!1;clearTimeout(loadTime),loadSubmit.attr("hasDisabled","true"),loadTime=setTimeout(function(){loadSubmit.removeAttr("hasDisabled")},5e3)}return!0})}),$("#forumlist_collapse").collapse({query:".collapse-trigger",persist:!0,open:function(){this.slideDown(100),$(this).parents("#gallery_preview_container").length&&checkWaterfallStart(20,"")},close:function(){this.slideUp(100)}}),$("span.current_time").length){var currenttime=$("span.current_time").html();function blinker(){$("span.blink").fadeOut(500),$("span.blink").fadeIn(500)}currenttime=currenttime.replace(":","<span class='blink'>:</span>"),$("span.current_time").html(currenttime),setInterval(blinker,1e3)}!function(t){"use strict";phpbb.addAjaxCallback("mark_forums_read",function(e){var i=e.NO_UNREAD_POSTS,n=e.UNREAD_POSTS,o={forum_unread:"forum_read",forum_unread_subforum:"forum_read_subforum",forum_unread_locked:"forum_read_locked"};t("li.row").find('dl[class*="forum_unread"]').each(function(){var e=t(this);t.each(o,function(t,i){e.hasClass(t)&&e.removeClass(t).addClass(i)}),e.children('dt[title="'+n+'"]').attr("title",i)}),t('a.subforum[class*="unread"]').removeClass("unread").addClass("read"),t("#active_topics").length&&phpbb.ajaxCallbacks.mark_topics_read.call(this,e,!1),t('[data-ajax="mark_forums_read"]').attr("href",e.U_MARK_FORUMS),phpbb.closeDarkenWrapper(3e3)}),phpbb.addAjaxCallback("mark_all_notifications_read",function(e){e.success&&(t(".unread-mark").remove(),t(".notifications").find(".unread-dot").remove())}),phpbb.addAjaxCallback("mark_topics_read",function(e,i){var n,o=e.NO_UNREAD_POSTS,a=e.UNREAD_POSTS,r=["","_hot","_hot_mine","_locked","_locked_mine","_mine"],s={},c=[];void 0===i&&(i=!0),t(".topics .row-item").each(function(){t(this)[0].className.match(/unread/)&&t(this).parent().find(".unread-mark").css("display","none")}),t.each({global_unread:"global_read",announce_unread:"announce_read",sticky_unread:"sticky_read",topic_unread:"topic_read"},function(e,i){t.each(r,function(t,n){if(("_hot"===n||"_hot_mine"===n)&&"topic_unread"!==e)return!0;s[e+n]=i+n,c.push(e+n)})}),n="."+c.join(",."),t("li.row").find(n).each(function(){var e=t(this);t.each(s,function(t,i){e.hasClass(t)&&e.removeClass(t).addClass(i)}),e.children('dt[title="'+a+'"]').attr("title",o)}),t("a.unread").has(".icon-red").remove(),i&&t('[data-ajax="mark_topics_read"]').attr("href",e.U_MARK_TOPICS),phpbb.closeDarkenWrapper(3e3)}),phpbb.addAjaxCallback("notification.mark_all_read",function(e){void 0!==e.success&&(phpbb.markNotifications(t("#notification_list li.bg2"),0),phpbb.closeDarkenWrapper(3e3),t(".icon-notification-dot").addClass("icon-notification"),t(".icon-notification-dot").removeClass("icon-notification-dot"))}),phpbb.addAjaxCallback("notification.mark_read",function(e){if(void 0!==e.success){var i=Number(t("#notification_list_button strong").html())-1;phpbb.markNotifications(t(this).parent("li.bg2"),i)}}),phpbb.markNotifications=function(e,i){e.removeClass("bg2"),e.find("a.mark_read").remove(),e.each(function(){var e=t(this).find("a");e.attr("href",e.attr("data-real-url"))}),t("strong","#notification_list_button").html(i),i||(t("#mark_all_notifications").remove(),t("#notification_list_button > strong").addClass("hidden"));var n=t("title"),o=n.text().replace(/(\((\d+)\))/,"");n.text((i?"("+i+")":"")+o)},phpbb.addAjaxCallback("post_delete",function(){var e,i=t(this);if(void 0===i.attr("data-refresh")){e=i[0].href.split("&p=")[1];var n=i.parents("#p"+e).css("pointer-events","none");if(n.hasClass("bg1")||n.hasClass("bg2")){var o=n.nextAll(".bg1");n.nextAll(".bg2").removeClass("bg2").addClass("bg1"),o.removeClass("bg1").addClass("bg2")}n.fadeOut(function(){t(this).remove()})}}),phpbb.addAjaxCallback("post_visibility",function(e){var i=e.visible?t(this):t(this).parents(".post");t(i).css("pointer-events","none").fadeOut(function(){t(this).remove()}),e.visible&&i.parents(".post").find(".post_deleted_msg").css("pointer-events","none").fadeOut(function(){t(this).remove()})}),phpbb.addAjaxCallback("row_delete",function(){t(this).parents("tr").remove()}),phpbb.addAjaxCallback("bump_refresh",function(t){var e=t.REFRESH_DATA.time;e>0&&setTimeout(function(){window.location.reload(!0)},1e3*e)}),phpbb.addAjaxCallback("zebra",function(e){var i;e.success&&((i=t(".zebra")).first().html(e.MESSAGE_TEXT),i.not(":first").html("&nbsp;").prev().html("&nbsp;"))}),phpbb.addAjaxCallback("vote_poll",function(e){if(void 0!==e.success){var i=t(".topic_poll"),n=i.find(".panel"),o=i.find("dl:first-child .resultbar").is(":visible"),a=0,r=function(t){t=void 0===t?n.find(".inner").outerHeight():t,n.css("min-height",t)};r(),o||i.find(".poll_view_results").hide(500),e.can_vote?i.find(".resultbar, .poll_option_percent, .poll_total_votes").show(500):i.find(".polls, .poll_max_votes, .poll_vote, .poll_option_select").fadeOut(500,function(){i.find(".resultbar, .poll_option_percent, .poll_total_votes").show()}),i.find("[data-poll-option-id]").each(function(){var i=t(this).attr("data-poll-option-id");a=e.vote_counts[i]>=a?e.vote_counts[i]:a}),i.find(".poll_total_vote_cnt").html(e.total_votes),i.find("[data-poll-option-id]").each(function(){var i=t(this),n=i.attr("data-poll-option-id"),o=void 0!==e.user_votes[n],r=e.vote_counts[n]===a,s=e.total_votes?Math.round(e.vote_counts[n]/e.total_votes*100):0;0===a||Math.round(e.vote_counts[n]/a*100);i.toggleClass("voted",o),i.toggleClass("most-votes",r);var c=i.find(".poll_option_resultbar"),l=e.can_vote?500:1500;100===s||Math.floor(s/20);setTimeout(function(){c.removeClass("hidden"),c.animate({width:s+"%"},500);var t=e.vote_counts[n]+"("+s+"%)";i.find(".poll_option_percent").html(t)},l)}),e.can_vote||i.find(".polls").delay(400).fadeIn(500),t(".poll_button input").each(function(){t(this).addClass("hidden")}),e.can_vote?(t(".poll_button .revote_button").removeClass("hidden"),t(".poll_button .voted_button").removeClass("hidden")):(t(".poll_button .voted_button").removeClass("hidden"),t(".poll_option_content input").attr("disabled","disabled"));var s=e.can_vote?300:900;i.find(".vote-submitted").delay(s).css("display","inline-block"),o&&r(),i.find(".vote-submitted").delay(5e3).fadeOut(500,function(){c(300)}),setTimeout(function(){c(500)},1500);var c=function(t){var e=n.height(),i=n.find(".inner").outerHeight();e!==i&&n.css({minHeight:"",height:e}).animate({height:i},t,function(){n.css({minHeight:i,height:""})})}}}),t(".poll_view_results a").click(function(e){e.preventDefault();var i=t(this).parents(".topic_poll");i.find(".resultbar, .poll_option_percent, .poll_total_votes").show(500),i.find(".poll_view_results").hide(500)}),t("[data-ajax]").each(function(){var e=t(this),i=e.attr("data-ajax"),n=e.attr("data-filter");if("false"!==i){var o="true"!==i?i:null;n=void 0!==n?phpbb.getFunctionByName(n):null,phpbb.ajaxify({selector:this,refresh:void 0!==e.attr("data-refresh"),filter:n,callback:o})}}),t("#qr_full_editor").click(function(){t("#qr_postform").attr("action",function(t,e){return e+"#preview"})}),t(".display_post").click(function(e){e.preventDefault();var i=t(this).attr("data-post-id");t("#post_container"+i).show(),t("#profile"+i).show(),t("#post_hidden"+i).hide()}),t("#member_search").click(function(){var e=t("#memberlist_search");return e.slideToggle("fast"),phpbb.ajaxCallbacks.alt_text.call(this),e.is(":visible")&&t("#username").focus(),!1})}(jQuery),function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var i=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}return function e(i){function n(e,o,a){var r;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(a=t({path:"/"},n.defaults,a)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}a.expires=a.expires?a.expires.toUTCString():"";try{r=JSON.stringify(o),/^[\{\[]/.test(r)&&(o=r)}catch(t){}o=i.write?i.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in a)a[l]&&(c+="; "+l,!0!==a[l]&&(c+="="+a[l]));return document.cookie=e+"="+o+c}e||(r={});for(var d=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,p=0;p<d.length;p++){var f=d[p].split("="),h=f.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var _=f[0].replace(u,decodeURIComponent);if(h=i.read?i.read(h,_):i(h,_)||h.replace(u,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(t){}if(e===_){r=h;break}e||(r[_]=h)}catch(t){}}return r}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}(function(){})}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Slideout=t()}}(function(){return function t(e,i,n){function o(r,s){if(!i[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[r]={exports:{}};e[r][0].call(d.exports,function(t){var i=e[r][1][t];return o(i||t)},d,d.exports,t,e,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,i){"use strict";var n,o,a,r=t("decouple"),s=t("emitter"),c=!1,l=window.document,d=l.documentElement,u=window.navigator.msPointerEnabled,p={start:u?"MSPointerDown":"touchstart",move:u?"MSPointerMove":"touchmove",end:u?"MSPointerUp":"touchend"},f=function(){var t=/^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/,e=l.getElementsByTagName("script")[0].style;for(var i in e)if(t.test(i))return"-"+i.match(t)[0].toLowerCase()+"-";return"WebkitOpacity"in e?"-webkit-":"KhtmlOpacity"in e?"-khtml-":""}();function h(t){t=t||{},this._startOffsetX=0,this._currentOffsetX=0,this._opening=!1,this._moved=!1,this._opened=!1,this._preventOpen=!1,this._touch=void 0===t.touch||t.touch&&!0,this._side=t.side||"left",this.panel=t.panel,this.menu=t.menu,this.panel.classList.contains("slideout-panel")||this.panel.classList.add("slideout-panel"),this.panel.classList.contains("slideout-panel-"+this._side)||this.panel.classList.add("slideout-panel-"+this._side),this.menu&&!this.menu.classList.contains("slideout-menu")&&this.menu.classList.add("slideout-menu"),this.menu&&!this.menu.classList.contains("slideout-menu-"+this._side)&&this.menu.classList.add("slideout-menu-"+this._side),this._fx=t.fx||"ease",this._duration=parseInt(t.duration,10)||300,this._tolerance=parseInt(t.tolerance,10)||70,this._padding=this._translateTo=parseInt(t.padding,10)||256,this._orientation="right"===this._side?-1:1,this._translateTo*=this._orientation,this._touch&&this._initTouchEvents()}a=s,(o=h).prototype=function(t,e){for(var i in e)e[i]&&(t[i]=e[i]);return t}(o.prototype||{},a.prototype),h.prototype.open=function(){var t=this;return this.emit("beforeopen"),d.classList.contains("slideout-open")||d.classList.add("slideout-open"),this._setTransition(),this._translateXTo(this._translateTo),this._opened=!0,setTimeout(function(){t.panel.style.transition=t.panel.style["-webkit-transition"]="",t.emit("open")},this._duration+50),this},h.prototype.close=function(){var t=this;return this.isOpen()||this._opening?(this.emit("beforeclose"),this._setTransition(),this._translateXTo(0),this._opened=!1,setTimeout(function(){d.classList.remove("slideout-open"),t.panel.style.transition=t.panel.style["-webkit-transition"]=t.panel.style[f+"transform"]=t.panel.style.transform="",t.emit("close")},this._duration+50),this):this},h.prototype.toggle=function(){return this.isOpen()?this.close():this.open()},h.prototype.isOpen=function(){return this._opened},h.prototype._translateXTo=function(t){return this._currentOffsetX=t,this.panel.style[f+"transform"]=this.panel.style.transform="translateX("+t+"px)",this},h.prototype._setTransition=function(){return this.panel.style[f+"transition"]=this.panel.style.transition=f+"transform "+this._duration+"ms "+this._fx,this},h.prototype._initTouchEvents=function(){var t=this;return this._onScrollFn=r(l,"scroll",function(){t._moved||(clearTimeout(n),c=!0,n=setTimeout(function(){c=!1},250))}),this._preventMove=function(e){t._moved&&e.preventDefault()},l.addEventListener(p.move,this._preventMove),this._resetTouchFn=function(e){void 0!==e.touches&&(t._moved=!1,t._opening=!1,t._startOffsetX=e.touches[0].pageX,t._preventOpen=!t._touch||!t.isOpen()&&0!==t.menu.clientWidth)},this.panel.addEventListener(p.start,this._resetTouchFn),this._onTouchCancelFn=function(){t._moved=!1,t._opening=!1},this.panel.addEventListener("touchcancel",this._onTouchCancelFn),this._onTouchEndFn=function(){t._moved&&(t.emit("translateend"),t._opening&&Math.abs(t._currentOffsetX)>t._tolerance?t.open():t.close()),t._moved=!1},this.panel.addEventListener(p.end,this._onTouchEndFn),this._onTouchMoveFn=function(e){if(!(c||t._preventOpen||void 0===e.touches||function(t){for(;t.parentNode;){if(null!==t.getAttribute("data-slideout-ignore"))return t;t=t.parentNode}return null}(e.target))){var i=e.touches[0].clientX-t._startOffsetX,n=t._currentOffsetX=i;if(!(Math.abs(n)>t._padding)&&Math.abs(i)>20){t._opening=!0;var o=i*t._orientation;if(t._opened&&o>0||!t._opened&&o<0)return;t._moved||t.emit("translatestart"),o<=0&&(n=i+t._padding*t._orientation,t._opening=!1),t._moved&&d.classList.contains("slideout-open")||d.classList.add("slideout-open"),t.panel.style[f+"transform"]=t.panel.style.transform="translateX("+n+"px)",t.emit("translate",n),t._moved=!0}}},this.panel.addEventListener(p.move,this._onTouchMoveFn),this},h.prototype.enableTouch=function(){return this._touch=!0,this},h.prototype.disableTouch=function(){return this._touch=!1,this},h.prototype.destroy=function(){return this.close(),l.removeEventListener(p.move,this._preventMove),this.panel.removeEventListener(p.start,this._resetTouchFn),this.panel.removeEventListener("touchcancel",this._onTouchCancelFn),this.panel.removeEventListener(p.end,this._onTouchEndFn),this.panel.removeEventListener(p.move,this._onTouchMoveFn),l.removeEventListener("scroll",this._onScrollFn),this.open=this.close=function(){},this},e.exports=h},{decouple:2,emitter:3}],2:[function(t,e,i){"use strict";var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};e.exports=function(t,e,i){var o,a=!1;function r(t){o=t,a||(n(s),a=!0)}function s(){i.call(t,o),a=!1}return t.addEventListener(e,r,!1),r}},{}],3:[function(t,e,i){"use strict";var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};i.__esModule=!0;var o=function(){function t(){n(this,t)}return t.prototype.on=function(t,e){return this._eventCollection=this._eventCollection||{},this._eventCollection[t]=this._eventCollection[t]||[],this._eventCollection[t].push(e),this},t.prototype.once=function(t,e){var i=this;function n(){i.off(t,n),e.apply(this,arguments)}return n.listener=e,this.on(t,n),this},t.prototype.off=function(t,e){var i=void 0;return this._eventCollection&&(i=this._eventCollection[t])?(i.forEach(function(t,n){t!==e&&t.listener!==e||i.splice(n,1)}),0===i.length&&delete this._eventCollection[t],this):this},t.prototype.emit=function(t){for(var e=this,i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var a=void 0;return this._eventCollection&&(a=this._eventCollection[t])?(a=a.slice(0),a.forEach(function(t){return t.apply(e,n)}),this):this},t}();i.default=o,e.exports=i.default},{}]},{},[1])(1)}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,i){var n,o,a;o=[t,i(7)],void 0!==(a="function"==typeof(n=function(t,e){"use strict";var i,n=(i=e)&&i.__esModule?i:{default:i},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=r})?n.apply(e,o):n)&&(t.exports=a)},function(t,e,i){var n=i(6),o=i(5);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!n.string(e))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(t))return r=e,s=i,(a=t).addEventListener(r,s),{destroy:function(){a.removeEventListener(r,s)}};var a,r,s,c,l,d,u,p,f;if(n.nodeList(t))return c=t,l=e,d=i,Array.prototype.forEach.call(c,function(t){t.addEventListener(l,d)}),{destroy:function(){Array.prototype.forEach.call(c,function(t){t.removeEventListener(l,d)})}};if(n.string(t))return u=t,p=e,f=i,o(document.body,u,p,f);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function n(){o.off(t,n),e.apply(i,arguments)}var o=this;return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=i.length;n<o;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],o=[];if(n&&e)for(var a=0,r=n.length;a<r;a++)n[a].fn!==e&&n[a].fn._!==e&&o.push(n[a]);return o.length?i[t]=o:delete i[t],this}},t.exports=i},function(t,e,i){var n,o,a;o=[t,i(0),i(2),i(1)],void 0!==(a="function"==typeof(n=function(t,e,i,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var r=o(e),s=o(i),c=o(n),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.resolveOptions(i),n.listenClick(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),d(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===l(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return a("action",t)}},{key:"defaultTarget",value:function(t){var e=a("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return a("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),e}(s.default);t.exports=u})?n.apply(e,o):n)&&(t.exports=a)},function(t,e){var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,i){function n(t,e,i,n,a){var r=function(t,e,i,n){return function(i){i.delegateTarget=o(i.target,e),i.delegateTarget&&n.call(t,i)}}.apply(this,arguments);return t.addEventListener(i,r,a),{destroy:function(){t.removeEventListener(i,r,a)}}}var o=i(4);t.exports=function(t,e,i,o,a){return"function"==typeof t.addEventListener?n.apply(null,arguments):"function"==typeof i?n.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return n(t,e,i,o,a)}))}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}}])}),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/30)},window.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){return e=!e||e<0?0:+e,this.substring(e,e+t.length)===t}}),function(){var t;Singleton=function(){if(t)return t;var e={};!function(t){var i,n;t.cookie_name=TT_COOKIE_NAME,t.cookie_path=TT_COOKIE_PATH,t.cookie_secure=TT_COOKIE_SECURE,t.ttg_option_key="GOP",t.forum_option_key="FOP",t.lSAva=!0;try{n=new Date,(t.storage=window.localStorage).setItem(n,n),i=t.storage.getItem(n)!=n,t.storage.removeItem(n),i&&(t.lSAva=!1)}catch(e){t.lSAva=!1}try{var o=Cookies.get("FOP");o&&(e=JSON.parse(atob(o)))}catch(t){console.error(t)}}(t=this);var i=location.hostname,n={GOP:{expires:1095,path:"/",prefix:!1,secure:!1},FOP:{expires:1095,path:this.cookie_path,prefix:!1,secure:this.cookie_secure}};function o(t){return n[t]&&n[t].prefix&&"/"!==n[t].path?this.cookie_name+t:t}return this._getObj=function(t){var i={};switch(t){case this.ttg_option_key:i=GOP;break;case this.forum_option_key:i=e}return i},this._setOption=function(t,e,i,n){var o=this._getObj(t);o[e]=n?{v:i,t:this.getTimestamp()+parseInt(n)}:i,this.setCookie(t,btoa(JSON.stringify(o)))},this._getOption=function(t,e){var i=this._getObj(t)[e];return i?"object"==typeof i&&i.hasOwnProperty("v")&&i.hasOwnProperty("t")?i.t<this.getTimestamp()?(this._deleteOption(t,e),""):i.v:i:""},this._deleteOption=function(t,e){var i=!1,n=this._getObj(t);return n[e]&&(i=delete n[e]),this.setCookie(t,btoa(JSON.stringify(n))),i},this.setCookieParam=function(t){var e={};return n[t]&&n[t].path?(e.path=n[t].path,n[t]&&n[t].expires&&(e.expires=n[t].expires),"/"===e.path&&"www.tapatalk.com"===i&&(e.domain=".tapatalk.com"),e.secure&&(e.secure=this.cookie_secure),e):(console.error("Can't find path for cookie "+t),{})},this.getTimestamp=function(){return Date.now||(Date.now=function(){return(new Date).getTime()}),Date.now()/1e3|0},this.setCookie=function(t,e){Cookies.set(o(t),e,this.setCookieParam(t))},this.getCookie=function(t){return Cookies.get(o(t))},this.removeCookie=function(t){Cookies.remove(o(t),this.setCookieParam(t))},this.setTTOption=function(t,e,i){return this._setOption(this.ttg_option_key,t,e,i)},this.getTTOption=function(t){return this._getOption(this.ttg_option_key,t)},this.deleteTTOption=function(t){return this._deleteOption(this.ttg_option_key,t)},this.setForumOption=function(t,e,i){return this._setOption(this.forum_option_key,t,e,i)},this.getForumOption=function(t){return this._getOption(this.forum_option_key,t)},this.deleteForumOption=function(t){return this._deleteOption(this.forum_option_key,t)},this.watchInput=function(t,e,i,n){if("function"==typeof e&&t instanceof jQuery&&!(t.length<=0)){n=void 0===n?1:parseInt(n),i&&e(t,i);var o=0,a=0;t.on("keyup paste",function(){var t=$(this);a=0,o&&cancelRequestAnimFrame(o),function i(){o=requestAnimFrame(i),(a+=1)>60*n&&(a=0,cancelRequestAnimFrame(o),e(t))}()})}},this.setStorage=function(e,i){return!!this.lSAva&&t.storage.setItem(e,i)},this.getStorage=function(e){return!!this.lSAva&&t.storage.getItem(e)},this.deleteStorage=function(e){return!!this.lSAva&&t.storage.removeItem(e)},this.saveSearchHistory=function(t){return this.setStorage("search_history",JSON.stringify(t))},this.getSearchHistory=function(){var t=this.getStorage("search_history");return t?JSON.parse(t):[]},this.permanentDismiss=function(){if(!this.lSAva)return!1;var t=$(".fa-close.permanent");if(0===t.length)return!1;var e=this.getTimestamp(),i=this,n=this.getStorage("dismissed");n=n&&JSON.parse(n),t.each(function(){var t=$(this),o=t.data("key"),a=parseInt(t.data("days")),r=t.parents(".dismissible").length?t.parents(".dismissible"):t.parent();(!n||!n[o]||a&&e-n[o]>86400*a)&&(t.on("click",function(){n||(n={}),r.addClass("hide"),n[o]=a?e:1,i.setStorage("dismissed",JSON.stringify(n))}),r.removeClass("hide"))})},this.mutualExclusiveCheckbox=function(t){if(!t)return!1;var e=t.attr("name"),i=t.attr("type");if(!e||"checkbox"!==i)return!1;t.is(":checked")&&($("input:checkbox[name='"+e+"']").prop("checked",!1),t.prop("checked",!0))},t}}();var TT=new Singleton;function admin_activate_user(t,e){var i=new FormData;if(i.append("submit","Submit"),i.append("action","activate"),i.append("creation_time",$('input[name="creation_time"]').val()),i.append("form_token",$('input[name="form_token"]').val()),"object"==typeof t)for(var n=0;n<t.length;n++)i.append("mark[]",t[n]);else i.append("mark[]",t);$.ajax({url:e,type:"post",data:i,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){},error:function(t,e,i){console.log(t,e,i)},success:function(t){t.S_USER_NOTICE?window.location.reload(!0):hs_popup("Sorry! action failed, please refresh and try again.")}})}function getQueryVariable(t){return parse_query_string(location.search)[t]||""}function parse_query_string(t){for(var e=t.split("&"),i={},n=0;n<e.length;n++){var o=e[n].split("=");void 0===i[o[0]]?i[o[0]]=decodeURIComponent(o[1]):"string"==typeof i[o[0]]?i[o[0]]=[i[o[0]],decodeURIComponent(o[1])]:i[o[0]].push(decodeURIComponent(o[1]))}return i}function removeParam(t,e){if(-1===e.indexOf("?"))return e;var i=e.split("?")[0],n=[],o=-1!==e.indexOf("?")?e.split("?")[1]:"";if(""!==o){for(var a=(n=o.split("&")).length-1;a>=0;a-=1)n[a].split("=")[0]===t&&n.splice(a,1);n.length&&(i=i+"?"+n.join("&"))}return i}function getForumPath(){if("www.tapatalk.com"!==location.hostname)return"/";var t=location.pathname,e=(t=t.replace("/","")).split("/");return e[0]&&e[1]?"/"+e[0]+"/"+e[1]:"/"}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/30)};var loader=$(".loader"),hs_popup=function(t){if(t.length)return function(e){var i="",n=!1,o="",a=null;t.find('button[name="changebtn"]').css("display","inline"),t.find('button[name="changebtnhide"]').css("display","none"),"string"==typeof e?i=e:"object"==typeof e&&(i=e.message,n=e.refresh,o=e.type,a=e.callback,e.changebtn&&(t.find('button[name="changebtn"]').css("display","none"),t.find('button[name="changebtnhide"]').css("display","inline"))),t.find(".success").addClass("hide"),o&&"success"==o&&(t.find(".notice").addClass("hide"),t.find(".success").removeClass("hide")),t.find("p.msg").html(i),t.css("display","block"),t.unbind("click"),t.on("click",function(e){if(e.target===this||e.target.classList.contains("close"))if(t.css("display","none"),a){if("function"!=typeof a)return void console.warn("callback must be a function");a()}else n&&window.location.reload(!0)}),parseInt(n)>0&&setTimeout(function(){window.location.reload(!0)},1e3*parseInt(n))};console.warn("no global popup found")}($("#global_popup")),hs_give_award=function(t){if(t.length)return function(e,i,n,o,a,r,s,c,l){var d='    <div class="notice-message responsive bg2" style="">\n        <div class="notice-title">\n            <span class="notice-title-content">'+L_GIVE_AWARD+'</span>\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"  >  </button>\n        </div>\n        <div>\n            <p class="award_title" style="">'+L_GIVE_AWARD_TO+'</p>\n            <p id="award_description" class="award_description" style="">'+L_GIVE_AWARD_DESC+'</p>\n            <div class="choose_award_frame">\n            <button id="choose_silver_award" type="button" class="choose_award">\n                <div class="silver_award" >  </div>\n                <div class="award_option_title">'+L_SILVER_AWARD_TITLE+'</div>\n                <div id="silver_award_option_subtitle" class="award_option_subtitle" ><i class="gold-coin"></i><div class="gold-amount">50</div></div>\n            </button>\n            <button id="choose_gold_award" type="button" class="choose_award">\n                <div class="gold_award" >  </div>\n                <div class="award_option_title">'+L_GOLD_AWARD_TITLE+'</div>\n                <div id="gold_award_option_subtitle" class="award_option_subtitle" ><i class="gold-coin"></i><div class="gold-amount">200</div></div>\n            </button>\n            <button id="choose_diamond_award" type="button" class="choose_award">\n                <div class="diamond_award" >  </div>\n                <div class="award_option_title">'+L_DIAMOND_AWARD_TITLE+'</div>\n                <div id="diamond_award_option_subtitle" class="award_option_subtitle" ><i class="gold-coin"></i><div class="gold-amount">500</div></div>\n            </button>\n            </div>\n        </div>\n        <div class="award_option_description_frame">\n            <div class="award_option_description_title" id="give_award_desciption_title">'+L_GOLD_AWARD_DESC_TITLE+'</div>\n            <div class="award_option_description" id="give_award_desciption_details">'+L_GOLD_AWARD_DESC_DETAILS+'</div>\n        </div>\n        <div class="bottom" style=\'padding-bottom:0;\'>\n            <div class="award_options">\n                <input type="checkbox" name="give_award_anonymous" id="give-award-anonymous" value="" style="margin-right: 8px;">'+L_GIFT_ANONYMOUSLY+'\n                <br>\n                <input type="checkbox" name="add_private_message_with_gift" id="give-award-with-pm" value="" style="margin-right: 8px;">'+L_ADD_A_PRIVATE_MESSAGE+"\n                <br>\n"+(S_CANUSE_FORUM_WALLET?'<input type="checkbox" name="give_award_from_forum" id="give-award-from-forum" value="" style="margin-right: 8px;">'+L_GIFT_FROM_FORUM+'\n</span>\n<input id="forum-current-gp-balance" name="forum current GPBalance" type="hidden" />\n':'<span id="give-award-from-forum-option" style="display:none;"><br>\n')+'            </div>\n            <input id="give-award-vip-free-silver" name="award vip free silver" type="hidden" value="0"/>\n            <input id="give-award-vip-free-gold" name="award vip free gold" type="hidden" value="0"/>\n            <input id="give-award-with-free" name="award post free" type="hidden" />\n            <input id="give-award-with-like" name="award post like" type="hidden" />\n            <input id="give-award-to-post" name="award receive post" type="hidden" />\n            <input id="give-award-to-poster-ttid" name="award receiver post" type="hidden" />\n            <input id="give-award-type" name="award type" type="hidden" />\n            <button id="award_button" class="button specialbutton award_button tapatalk-theme-background fs-16" style="min-width:144px; height:44px;" >'+L_AWARD+"</button>\n"+(U_IS_VIP_PLUS?"<div style='height:40px;'></div>":'<div class="bottom_vip_promotion">\n<div class="vip_promotion_bg"><div class="vip_promotion_left award">Join VIP+ for 2 silver and 1 gold free awards per month to give away, plus remove all ads and other personalized features.</div><div class="vip_promotion_right"> <button class="button specialbutton award_button tapatalk-theme-background fs-16 vip-plus-btn-event vip_promotion_right_button close" style=\'font-size: 15px !important;\'data-type="award_vip_promotion">JOIN</button></div>\n</div></div>')+"        </div>\n    </div>";t.html(d),t.find("#give-award-to-post").val(e),t.find("#give-award-to-poster-ttid").val(n),t.find("#award_title_receiver_username").html(i),t.find("#award_desc_receiver_username").html(i),setupGoldPointAward();o=parseFloat(o);t.find("#forum-GP-balance").html(o),o>0&&t.find("#forum-current-gp-balance").val(o),t.find("#give-award-anonymous").prop("checked",!1),t.find("#give-award-with-pm").prop("checked",!1),t.find("#give-award-from-forum").prop("checked",!1),t.css("display","block"),t.unbind("click"),t.on("click",function(e){(e.target===this||e.target.classList.contains("close"))&&t.css("display","none")}),t.find("#award_button").off("click"),t.find("#award_button").on("click",function(e){t.css("display","none");var i=t.find("#give-award-type").val(),n=t.find("#give-award-to-post").val(),o=t.find("#give-award-anonymous").prop("checked")?1:0,a=t.find("#give-award-from-forum").prop("checked")?1:0,r=t.find("#give-award-with-pm").prop("checked");l(n,i,o,r,a)}),c?t.find("#give-award-with-like").val(1):t.find("#give-award-with-like").val(0),a?t.find("#give-award-with-free").val(1):t.find("#give-award-with-free").val(0),t.find("#give-award-vip-free-silver").val(s),t.find("#give-award-vip-free-gold").val(r),update_award_case(),choose_gold_award()};console.warn("no global container found")}($("#global_popout_container")),hs_give_vip=function(t){if(t.length)return function(e,i,n,o,a){var r='    <div class="notice-message responsive bg2" style="">\n        <div class="notice-title">\n            <span class="notice-title-content">'+L_GIVE_VIP+'</span>\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"  >  </button>\n        </div>\n        <div>\n            <p class="award_title" style="">'+L_GIVE_VIP_TO+'</p>\n            <p class="award_description" style="">'+L_GIVE_VIP_DESC+'</p>\n            <div class="choose_award_frame">\n            <button id="choose_7days_vip_award" type="button" class="choose_award">\n                <div class="vip-avatar-gift" >  </div>\n                <div class="award_option_title">7 DAYS</div>\n                <div id="7days_vip_option_subtitle" class="award_option_subtitle" ><i class="gold-coin"></i><div class="gold-amount">99</div></div>\n            </button>\n            <button id="choose_30days_vip_award" type="button" class="choose_award">\n                <div class="vip-avatar-gift" >  </div>\n                <div class="award_option_title">30 DAYS</div>\n                <div id="30days_vip_option_subtitle" class="award_option_subtitle" ><i class="gold-coin"></i><div class="gold-amount">299</div></div>\n            </button>\n            <button id="choose_90days_vip_award" type="button" class="choose_award">\n                <div class="vip-avatar-gift" >  </div>\n                <div class="award_option_title">90 DAYS</div>\n                <div id="90days_vip_option_subtitle" class="award_option_subtitle" ><i class="gold-coin"></i><div class="gold-amount">897</div></div>\n            </button>\n            </div>\n        </div>\n        <div class="award_option_description_frame">\n            <div class="award_option_description_title" >VIP+ privileges:</div>\n            <div class="award_option_description" >                <ul style=\'list-style: disc;margin-left: 17px;\'>                     <li>Ad-free access.</li>\n                     <li>Free festive hats and postcards and <a class=\'udl\' href=\'https://www.tapatalk.com/vip_plus_introduction\' target=\'_blank\'>more</a>. </li>                </ul>\n            </div>\n        </div>\n        <div class="bottom" style=\'padding-bottom:0;\'>\n            <div class="award_options">\n                <input type="checkbox" name="give_award_anonymous" id="give-gift-anonymous" value="" style="margin-right: 8px;">'+L_GIFT_ANONYMOUSLY+'\n                <br>\n                <input type="checkbox" name="add_private_message_with_gift" id="give-gift-with-pm" value="" style="margin-right: 8px;">'+L_ADD_A_PRIVATE_MESSAGE+"\n                <br>\n"+(S_CANUSE_FORUM_WALLET?'<input type="checkbox" name="give_award_from_forum" id="give-gift-from-forum" value="" style="margin-right: 8px;">'+L_GIFT_FROM_FORUM+'\n</span>\n<input id="forum-current-gp-balance" name="forum current GPBalance" type="hidden" />\n':'<span id="give-gift-from-forum-option" style="display:none;"><br>\n')+'            </div>\n            <input id="give-gift-to-post" name="award receive post" type="hidden" />\n            <input id="give-gift-to-poster-ttid" name="award receiver post" type="hidden" />\n            <input id="give-gift-type" name="award type" type="hidden" />\n            <button id="vip-gift-award" class="button specialbutton award_button tapatalk-theme-background fs-16" style="min-width:144px; height:44px;" >'+L_SEND_GIFT+'</button>\n            <p class="award_share_description" style="">'+L_GIVE_VIP_EXPIRE_DESC+"</p>\n            <div style='height:40px;'></div>        </div>\n    </div>";t.html(r),t.find("#give-gift-to-post").val(e),t.find("#give-gift-to-poster-ttid").val(n),t.find("#vip_title_receiver_username").html(i),t.find("#vip_desc_receiver_username").html(i),setupVIPGift();o=parseFloat(o);t.find("#forum-GP-balance").html(o),o>0&&t.find("#forum-current-gp-balance").val(o),t.find("#give-gift-anonymous").prop("checked",!1),t.find("#give-gift-with-pm").prop("checked",!1),t.find("#give-gift-from-forum").prop("checked",!1),t.css("display","block"),t.unbind("click"),t.on("click",function(e){(e.target===this||e.target.classList.contains("close"))&&t.css("display","none")}),t.find("#vip-gift-award").off("click"),t.find("#vip-gift-award").on("click",function(e){t.css("display","none");var i=t.find("#give-gift-type").val(),n=t.find("#give-gift-to-post").val(),o=t.find("#give-gift-anonymous").prop("checked")?1:0,r=t.find("#give-gift-from-forum").prop("checked")?1:0,s=t.find("#give-gift-with-pm").prop("checked");a(n,i,o,s,r)}),update_award_case(),choose_7days_vip_plus()};console.warn("no global container found")}($("#global_popout_container")),hs_pin_post=function(t){if(t.length)return function(e,i){t.css("display","block"),t.unbind("click"),t.on("click",function(e){(e.target===this||e.target.classList.contains("close"))&&t.css("display","none")}),$("#pin_topic_button").off("click"),$("#pin_topic_button").on("click",function(n){var o=t.find("#pin-topic-type").val();t.css("display","none"),i(e,o)}),t.find("#switch_pin_30_option").off("click"),t.find("#switch_pin_30_option").on("click",function(e){t.find("#switch_pin_7_option").show(),t.find("#switch_pin_30_option").hide(),t.find("#pin-topic-type").val("2"),$("#pin_topic_desc").html(L_PIN_TOPIC_DESC_30DAYS),$("#pin_topic_button").html(L_PIN_TOPIC_30DAYS)}),t.find("#switch_pin_7_option").off("click"),t.find("#switch_pin_7_option").on("click",function(e){t.find("#switch_pin_30_option").show(),t.find("#switch_pin_7_option").hide(),t.find("#pin-topic-type").val("1"),$("#pin_topic_desc").html(L_PIN_TOPIC_DESC_7DAYS),$("#pin_topic_button").html(L_PIN_TOPIC_7DAYS)})};console.warn("no global pin post found")}($("#global_pin_topic")),hs_award_notification=function(){if(ALWAYS_SHOW_NOTIFICATION>0);else if(!TT.lSAva)return!1;if(AWARD_NOTIFICATION_ID.length>0){var t=new FormData;t.append("notification_id",AWARD_NOTIFICATION_ID),$.ajax({url:BOARD_URL+"app.php/award/read",type:"post",data:t,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){},success:function(t){},error:function(t){console.log(t)},complete:function(){}})}if(S_AWARD_NOTIFICATION_TYPE>0){var e="participated_award",i=AWARD_NOTIFICATION_TITLE_JS,n=AWARD_NOTIFICATION_CONTENT_JS,o="VIEW",a=U_AWARD_NOTIFICATION_LINK_JS,r=!1;if(S_AWARD_NOTIFICATION_TYPE>0){switch(S_AWARD_NOTIFICATION_TYPE){case 1:e="silver_award";break;case 2:e="gold_award";break;case 3:e="diamond_award";break;case 4:e="participated_award",r=!0;break;case 5:default:e="participated_award",o="",a="",r=!0;break;case 6:e="vip-avatar-gift"}return ShowBottomNotifcationBar(10,e,i,n,o,a,r),!0}}return!1},hs_purchase_hat=function(t){if(t.length){var e=PROFILE_HATS_CHOSEN,i=CURRENT_USER_AVATAR;return function(n,o,a){if(U_TTID&&U_TTID>0){var r='<div class="notice-message product bg2" style="">\n        <div class="notice-title">\n        <span class="notice-title-content">'+L_PURCHASE_HAT_TITLE+'</span>\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"  >  </button>\n    </div>\n';r+='    <div id="global_purchse_hat_post_body" style="padding: 20px 20px 0 20px;" >\n',r+='    <div class="post-hat-header">\n',r+="    <div id='post-hat-page-4-header' class=\"post-hat-page-4-header\"></div>\n",r+="    <div id='post-hat-page-5-header' class=\"post-hat-page-5-header\"></div>\n",r+='    <div class="post-hat-turn-off">TURN OFF</div>\n',r+="    </div>\n",r+='<div id="purchase_hat_items_container">\n',r+='<div id="purchase_hat_items_left_page" class="purchase_items_left_page"><i class="icon fa-chevron-left fa-fw purchase_items_arrows "></i></div>',r+='<div id="purchase_hat_items" class="purchase_hat_items"></div>',r+='<div id="purchase_hat_items_right_page" class="purchase_items_right_page"><i class="icon fa-chevron-right fa-fw purchase_items_arrows "></i></div>',r+="</div>",r+='<div id="purchase_hat_pagination_container" class="purchase_hat_pagination_container"></div>',r+='</div>\n    <div class="bottom" style=\'padding-bottom:0;\'>\n        <div class="product_notify_nomore">\n        <input type="checkbox" id="dont_show_hat_notification_anymore" name="dont_show_message_anymore" value="" style="margin-right: 8px;">\n        <span id="dont_show_hat_notification_text_anymore">Don\'t show this message anymore.</span>\n    </div>\n';var s=GP_BALANCE>0?'<div class="gp_balance">\n                My gold points: <i class="gold-coin" style="margin-left: 5px; margin-right: 5px; margin-top: -2px;"></i>\n                <span class="gp_balance_number">'+GP_BALANCE+"</span>\n                </div>":"";r+='    <input id="purchase_hat_chosen_style" name="purchase hat chosen style" type="hidden" />\n        <input id="purchase_hat_chosen_action" name="purchase hat chosen action" type="hidden" />\n        <button id="purchase_hat_button" class="button specialbutton award_button tapatalk-theme-background fs-16" style="min-width:144px; height:44px;" data-has-balance="'+(GP_BALANCE>0?"with_balance":"without_balance")+'" >OK</button>\n'+s+'<p class="purchase-product-description hat" style="">'+L_PURCHASE_HAT_DESC+"&nbsp;"+L_PURCHASE_HAT_EXPIRE_DESC+"</p>\n"+(U_IS_VIP_PLUS?"<div style='height:40px;'></div>":'<div class="bottom_vip_promotion">\n<div class="vip_promotion_bg"><div class="vip_promotion_left"><div style="max-width: 360px;margin: auto;">Join VIP+ for free access to all hats, plus remove ads and other personalized features.</div></div><div class="vip_promotion_right"> <button class="button specialbutton award_button tapatalk-theme-background fs-16 vip-plus-btn-event vip_promotion_right_button close" style=\'font-size: 15px !important;\' data-type="hat_vip_promotion">JOIN</button></div>\n</div></div>')+"</div> ",r+="</div>",t.html(r),$.ajax({url:BOARD_URL+"app.php/hat/get",type:"post",dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},success:function(r){if(r.profile_hats){t.css("display","block"),t.unbind("click"),t.on("click",function(e){(e.target===this||e.target.classList.contains("close"))&&t.css("display","none")}),window.onresize=function(e){t.css("display","none")};var s="",c=0,l=0,d=0;JSON.parse(r.profile_hats).forEach(function(t){c++,e==t.style&&(l=c),0==d&&1==t.owned&&(d=c),s+='<div id="purchase_hat_item_'+t.style+'" class="purchase-avatar-container '+(1==t.chosen?"chosen":"")+" "+(1==t.owned?"has":"")+'" data-hat-style="'+t.style+'" data-hat-owned="'+t.owned+'" >\n        <div class="hat-'+t.style+' avatar-frame">\n'+(i?'<a class="avatar avatar-frame-padding" style="margin: 0 auto">'+i+"</a>":'<a class="avatar avatar-frame-padding" style="margin: 0 auto"><img src="'+T_THEME_PATH+'/images/no_avatar.gif" alt="" /></a>')+'        <div class="avatar-frame-hat hat-style-'+t.style+'"></div>\n        </div>\n                    <div class="purchase-product-price-margin">\n                        <table class="purchase-product-price">\n                            <tr>\n'+(U_IS_VIP_PLUS?'<td><i class="vip-coin purchase_product" ></i></td><td class="purchase-product-price-row"><span class="purchase-product-status">Free</span></td>':t.owned?'<td class="purchase-product-price-row"><span class="purchase-product-status">'+L_PURCHASE_PRODUCT_OWNED+"</span></td>\n":'<td><i class="gold-coin" style="margin: 3px 0px 3px 8px;"></i></td><td class="purchase-product-price-row"><span class="purchase-product-status">'+t.price+"</span></td>\n")+"                            </tr>\n                        </table>\n                    </div>                </div>"});var u=$("#purchase_hat_items").width(),p=152;u<=264?p=66:u<=448&&(p=112);var f=c*p,h=parseInt((c-1)/4)+1;s='<div id="purchase_hat_item_section" class="purchase-hat-container-section " style="width:'+f+'px;">\n'+s,s+="</div>\n",$("#purchase_hat_items").html(s);var _=0;a>0?_=a-1:0!=l?_=parseInt((l-1)/4):0!=d&&(_=parseInt((d-1)/4));var g=function(){$("#post-hat-page-4-header").hide(),$("#post-hat-page-5-header").hide(),3==_?$("#post-hat-page-4-header").show():4==_&&$("#post-hat-page-5-header").show()};g(),$("#purchase_hat_items").scrollLeft(4*(_-1)*p);var m=function(t){var e=parseInt(t/(4*p));e!=_&&(_=e,gaSendEvent("buy-product","tap_hat_page","scroll"),g())},v=function(){$("#purchase_hat_items").on("scroll",function(t){m($(this).scrollLeft())})},b=function(){$("#purchase_hat_items").off("scroll")};v(),$(".purchase-avatar-container").off("click"),$(".purchase-avatar-container").on("click",function(e){var i=$(this).attr("data-hat-style"),n=$(this).attr("data-hat-owned");t.find(".purchase-avatar-container").removeClass("chosen"),$(this).addClass("chosen"),$("#purchase_hat_chosen_style").val(i),1==n?($("#purchase_hat_chosen_action").val("switch_hat"),$("#purchase_hat_button").html("OK")):($("#purchase_hat_chosen_action").val("buy_hat"),$("#purchase_hat_button").html("Get Now"))});$("#purchase_hat_items_right_page").off("click"),$("#purchase_hat_items_right_page").on("click",function(t){if(_<c/4){var e=4*++_*p;b(),$("#purchase_hat_items").scrollLeft(e),m(e),k(_),v()}}),$("#purchase_hat_items_left_page").off("click"),$("#purchase_hat_items_left_page").on("click",function(t){if(_>=1){var e=4*--_*p;b(),$("#purchase_hat_items").scrollLeft(e),m(e),k(_),v()}});for(var w=[],y=1;y<=h;y++)w.push(y);var k=function(t){t+=1,"function"==typeof $("#purchase_hat_pagination_container").pagination&&$("#purchase_hat_pagination_container").pagination({dataSource:w,totalNumber:h,pageNumber:t,pageSize:1,prevText:'<i class="icon fa-chevron-left fa-fw "></i>',nextText:'<i class="icon fa-chevron-right fa-fw "></i>',callback:function(t,e){var i=4*(t[0]-1)*p;b(),$("#purchase_hat_items").scrollLeft(i),m(i),v()}})};if(k(_),o&&"0"==e){var T=t.find(".purchase-avatar-container").not(".has").first();T&&parseInt(T.attr("data-hat-style"))>0&&(t.find(".purchase-avatar-container").removeClass("chosen"),T.addClass("chosen"),$("#purchase_hat_chosen_style").val(T.attr("data-hat-style")),$("#purchase_hat_chosen_action").val("buy_hat"),$("#purchase_hat_button").html("Get Now"))}$(".purchase-avatar-container").off("click"),$(".purchase-avatar-container").on("click",function(e){var i=$(this).attr("data-hat-style"),n=$(this).attr("data-hat-owned");t.find(".purchase-avatar-container").removeClass("chosen"),$(this).addClass("chosen"),$("#purchase_hat_chosen_style").val(i),1==n?($("#purchase_hat_chosen_action").val("switch_hat"),$("#purchase_hat_button").html("OK")):($("#purchase_hat_chosen_action").val("buy_hat"),$("#purchase_hat_button").html("Get Now"))}),$("#purchase_hat_button").off("click"),$("#purchase_hat_button").on("click",function(e){var i=$(this).attr("data-has-balance");t.css("display","none");var o=new FormData,a=$("#purchase_hat_chosen_action").val(),s=$("#purchase_hat_chosen_style").val();if(o.append("hatStyle",s),"switch_hat"==a){$.ajax({url:BOARD_URL+"app.php/hat/choose",type:"post",data:o,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},success:function(t){loader.css("display","block"),setTimeout(function(){loader.css("display","none"),location.reload()},1e3)},error:function(t){hs_popup("Sorry! "+r.description)},complete:function(){loader.css("display","none")}});try{gaSendEvent("buy-product","tap_switch_hat_"+n,s)}catch(e){}}else if("buy_hat"==a){var c=function(){$.ajax({url:BOARD_URL+"app.php/buy/hat",type:"post",data:o,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},success:function(t){t.status?hs_popup({message:"Congrats, your new hat is on!<br/>Now post something to the group and let everyone else to see it!",refresh:!0,type:"success"}):1==t.code?rechargeGp("purchase_hat",function(t,e,i){t?c():console.log("re-charge GP failed")},U_TTID,"hat"):hs_popup("Sorry! "+t.description)},error:function(t){hs_popup("Sorry! "+r.description)},complete:function(){loader.css("display","none")}})};c();try{gaSendEvent("buy-product","tap_buy_hat_"+n+"_"+s,i)}catch(e){}}}),$(".post-hat-turn-off").off("click"),$(".post-hat-turn-off").on("click",function(e){t.css("display","none");var i=new FormData;i.append("hatStyle","0"),$.ajax({url:BOARD_URL+"app.php/hat/choose",type:"post",data:i,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},success:function(t){loader.css("display","block"),setTimeout(function(){loader.css("display","none"),location.reload()},1e3)},error:function(t){hs_popup("Sorry! "+r.description)},complete:function(){loader.css("display","none")}});try{gaSendEvent("buy-product","tap_switch_hat_"+n,"0")}catch(e){}}),o?(t.find("#dont_show_hat_notification_anymore").show(),t.find("#dont_show_hat_notification_text_anymore").show(),t.find("#dont_show_hat_notification_anymore").on("click",function(t){$(this).prop("checked")?TT.storage.setItem("hat_notification_suppressed","1"):TT.storage.removeItem("hat_notification_suppressed")})):(t.find("#dont_show_hat_notification_anymore").hide(),t.find("#dont_show_hat_notification_text_anymore").hide());try{GP_BALANCE>0?gaSendEvent("buy-product","prompt_hat_new_"+n,"with_balance"):gaSendEvent("buy-product","prompt_hat_new_"+n,"without_balance")}catch(t){}}},error:function(t){hs_popup("Sorry! "+response.description)},complete:function(){loader.css("display","none")}})}}}console.warn("no global purchase hat view found")}($("#global_popout_container")),hs_purchase_card=function(t){if(t.length){var e=POST_CARDS_CHOSEN;return function(i,n,o){if(U_TTID&&U_TTID>0){var a="";a+='    <div class="notice-message product purchasecard bg2" style="">\n',a+='        <div class="notice-title">\n            <span class="notice-title-content">'+L_PURCHASE_CARD_TITLE+'</span>\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"  >  </button>\n        </div>\n',a+='        <div id="global_purchse_card_post_body" class="postbody" style="padding: 20px 20px; text-align: left;" >\n            <div id="preview_post_card_container" class="preview_post_body normal-bubble post_content post-bubble-outter-padding" >\n                <div class="avatar-container" >\n'+(CURRENT_USER_AVATAR.length>0?CURRENT_USER_AVATAR:'<img src="{T_THEME_PATH}/images/no_avatar.gif" alt="" />')+'                </div>\n                <i class="arrow-after"></i>\n                <div id="preview_post_card_bg_block" class="post-bubble-container ">\n                <div id="preview_post_card_bg" class="post_card_bg post-card-bg-'+e+'" ></div></div>\n                <div class="pb1">\n                    <ul class="post-buttons" style="margin-right: -10px; margin-top: -2px;">\n                        <i class="icon fa-fw fa-angle-down" ></i>\n                    </ul>\n                    <p class="author">\n                        <i class="icon fa-clock-o"></i>\n                        <span class="posttime"><span class="timespan" >12:00 AM - Jun 1</span></span>\n                        <a class="unread" title="Post"><span>#1</span></a>\n                    </p>\n                </div>\n                <div class="pb2  ">\n                    <div class="content" style="font-size: 16px;">It\'s really great to see these stuff!</div>\n                </div>\n                <div class="pb3">\n                    <div class="postcontent_footer cl-af">\n                        <div class="postcontent_button postcontent_button_quote"><a><i class="fa fa-quote-left"></i><span>Quote</span></a></div>\n                        <div class="postcontent_button postcontent_button_share"><a><i class="fa fa-share-alt"></i><span>Share</span></a></div>\n                        <div class="postcontent_button postcontent_button_like"><a><i class="fa fa-thumbs-o-up"></i><span>Like</span></a></div>\n                        <div class="postcontent_button postcontent_button_award"><a><i class="fa fa-gift"></i><span>Give Award</span></a></div>\n                    </div>\n                </div>\n                <div class="post-card-turn-off">TURN OFF</div>\n            </div>        </div>\n',a+='<div id="purchase_card_sections" class="purchase_card_sections">\n',a+="</div>\n",a+='<div id="purchase_card_items_container">\n',a+='<div id="purchase_card_items_left_page" class="purchase_items_left_page"><i class="icon fa-chevron-left fa-fw purchase_items_arrows "></i></div>',a+='<div id="purchase_card_items" class="purchase_card_items"></div>',a+='<div id="purchase_card_items_right_page" class="purchase_items_right_page"><i class="icon fa-chevron-right fa-fw purchase_items_arrows "></i></div>',a+="</div>",a+='<div id="purchase_card_pagination_container" class="purchase_card_pagination_container"></div>';var r=GP_BALANCE>0?'<div class="gp_balance">\n                My gold points: <i class="gold-coin" style="margin-left: 5px; margin-right: 5px; margin-top: -2px;"></i>\n                <span class="gp_balance_number">'+GP_BALANCE+"</span>\n                </div>":"";a+='        <div id="global_purchse_card_bottom" class="bottom" style=\'padding-bottom:0;\'>\n<div class="product_notify_nomore">\n                <input type="checkbox" id="dont_show_card_notification_anymore" class="" name="dont_show_message_anymore" value="" style="margin-right: 8px;">\n                <span id="dont_show_card_notification_text_anymore">Don\'t show this message anymore.</span>\n            </div>\n            <input id="purchase_card_chosen_style" name="purchase card chosen style" type="hidden" />\n                <input id="purchase_card_chosen_action" name="purchase card chosen action" type="hidden" />\n                <button id="purchase_card_button" class="button specialbutton award_button tapatalk-theme-background fs-16" style="min-width:144px; height:44px;" data-has-balance="'+(GP_BALANCE>0?"with_balance":"without_balance")+'" >OK</button>\n            '+r+' <p class="purchase-product-description" style="">'+L_PURCHASE_CARD_DESC+"&nbsp;"+L_PURCHASE_CARD_EXPIRE_DESC+"</p>\n"+(U_IS_VIP_PLUS?"<div style='height:40px;'></div>":'<div class="bottom_vip_promotion">\n<div class="vip_promotion_bg award"><div class="vip_promotion_left"><div style="max-width: 360px;margin: auto;">Join VIP+ for free access to all card decorations, plus remove ads and other personalized features.</div></div><div class="vip_promotion_right"> <button class="button specialbutton award_button tapatalk-theme-background fs-16 vip-plus-btn-event vip_promotion_right_button close" style=\'font-size: 15px !important;\' data-type="card_vip_promotion">JOIN</button></div>\n</div></div>')+"        </div>\n",a+="</div>\n",t.html(a),$.ajax({url:BOARD_URL+"app.php/card/get",type:"post",dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},success:function(a){if(a.post_cards){t.css("display","block"),t.unbind("click"),t.on("click",function(e){(e.target===this||e.target.classList.contains("close"))&&t.css("display","none")}),window.onresize=function(e){t.css("display","none")};var r=POST_CARDS_CATEGORY_CHOSEN,s=JSON.parse(a.post_cards),c="",l=0;s.forEach(function(t){c+='<div id="preview_post_card_section_'+ ++l+'" class="purchase_card_section_title '+(t.category==POST_CARDS_CATEGORY_CHOSEN?"selected":"")+'" data-section-number="'+l+'">'+t.category_name+"</div>\n"}),$("#purchase_card_sections").html(c);var d="",u=0,p=0,f=0;s.forEach(function(t){var i="";t.group.forEach(function(t){u++,e==t.style&&(p=u),0==f&&1==t.owned&&(f=u),i+='<div id="purchase_card_item_'+t.style+'" class="purchase-card-container '+(1==t.chosen?"chosen":"")+" "+(1==t.owned?"has":"")+'" data-card-style="'+t.style+'" data-card-owned="'+t.owned+'" >\n                    <div class="post_card_bg post-card-bg-'+t.style+'"></div>\n                    <div class="purchase-product-price-margin">\n                        <table class="purchase-product-price">\n                            <tr>\n'+(U_IS_VIP_PLUS?'<td><i class="vip-coin purchase_product"></i></td><td class="purchase-product-price-row"><span class="purchase-product-status">Free</span></td>':t.owned?'<td class="purchase-product-price-row"><span class="purchase-product-status">'+L_PURCHASE_PRODUCT_OWNED+"</span></td>\n":'<td><i class="gold-coin" style="margin: 3px 0px 3px 8px;"></i></td><td class="purchase-product-price-row"><span class="purchase-product-status">'+t.price+"</span></td>\n")+"                            </tr>\n                        </table>\n                    </div>                </div>"}),d+=i});var h=$("#purchase_card_items").width(),_=162;h<=264?_=66:h<=488&&(_=122);var g=u*_,m=parseInt((u-1)/4)+1;d='<div id="purchase_card_item_section" class="purchase-card-container-section " style="width:'+g+'px;">\n'+d,d+="</div>\n",$("#purchase_card_items").html(d);var v=0;o>0?v=o-1:0!=p?v=parseInt((p-1)/4):0!=f&&(v=parseInt((f-1)/4)),$("#purchase_card_items").scrollLeft(4*(v-1)*_);var b=function(e){var i=parseInt(e/(16*_))+1;i!=r&&(r=i,t.find(".purchase_card_section_title").removeClass("selected"),$("#preview_post_card_section_"+r).addClass("selected"));var n=parseInt(e/(4*_));n!=v&&(v=n,gaSendEvent("buy-product","tap_card_page","scroll"))},w=function(){$("#purchase_card_items").on("scroll",function(t){b($(this).scrollLeft())})},y=function(){$("#purchase_card_items").off("scroll")};w(),$(".purchase_card_section_title").off("click"),$(".purchase_card_section_title").on("click",function(e){var i=$(this).attr("data-section-number");t.find(".purchase_card_section_title").removeClass("selected"),$(this).addClass("selected"),y(),$("#purchase_card_items").scrollLeft(16*(i-1)*_),v=parseInt(16*(i-1)/4),C(v),gaSendEvent("buy-product","tap_card_page","section"),w()}),$(".purchase-card-container").off("click"),$(".purchase-card-container").on("click",function(e){var i=$(this).attr("data-card-style"),n=$(this).attr("data-card-owned");t.find(".purchase-card-container").removeClass("chosen"),$(this).addClass("chosen"),$("#purchase_card_chosen_style").val(i),$("#preview_post_card_bg").removeClass(),$("#preview_post_card_bg").addClass("post_card_bg"),$("#preview_post_card_bg").addClass("post-card-bg-"+i),1==n?($("#purchase_card_chosen_action").val("switch_card"),$("#purchase_card_button").html("OK")):($("#purchase_card_chosen_action").val("buy_card"),$("#purchase_card_button").html("Get Now"))});$("#purchase_card_items_right_page").off("click"),$("#purchase_card_items_right_page").on("click",function(t){if(v<u/4){var e=4*++v*_;y(),$("#purchase_card_items").scrollLeft(e),b(e),C(v),w()}}),$("#purchase_card_items_left_page").off("click"),$("#purchase_card_items_left_page").on("click",function(t){if(v>=1){var e=4*--v*_;y(),$("#purchase_card_items").scrollLeft(e),b(e),C(v),w()}});for(var k=[],T=1;T<=m;T++)k.push(T);var C=function(t){t+=1,"function"==typeof $("#purchase_card_pagination_container").pagination&&$("#purchase_card_pagination_container").pagination({dataSource:k,totalNumber:m,pageNumber:t,pageSize:1,prevText:'<i class="icon fa-chevron-left fa-fw "></i>',nextText:'<i class="icon fa-chevron-right fa-fw "></i>',callback:function(t,e){var i=4*(t[0]-1)*_;y(),$("#purchase_card_items").scrollLeft(i),b(i),w()}})};if(C(v),n&&"0"==e){var I="1-1";$("#purchase_card_item_"+I).addClass("chosen");var A=$("#purchase_card_item_"+I).attr("data-card-owned");$("#purchase_card_chosen_style").val(I),1==A?($("#purchase_card_chosen_action").val("switch_card"),$("#purchase_card_button").html("OK")):($("#purchase_card_chosen_action").val("buy_card"),$("#purchase_card_button").html("Get Now"))}$("#purchase_card_button").off("click"),$("#purchase_card_button").on("click",function(e){var n=$(this).attr("data-has-balance");t.css("display","none");var o=new FormData,r=$("#purchase_card_chosen_action").val(),s=$("#purchase_card_chosen_style").val();if(o.append("cardStyle",s),"switch_card"==r){$.ajax({url:BOARD_URL+"app.php/card/choose",type:"post",data:o,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},success:function(t){loader.css("display","block"),setTimeout(function(){loader.css("display","none"),location.reload()},1e3)},error:function(t){hs_popup("Sorry! "+a.description)},complete:function(){loader.css("display","none")}});try{gaSendEvent("buy-product","tap_switch_card_"+i,s)}catch(e){}}else if("buy_card"==r){var c=function(){$.ajax({url:BOARD_URL+"app.php/buy/card",type:"post",data:o,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},success:function(t){t.status?hs_popup({message:"Congrats! Your new card is now displayed in your posts! Now post something and let others see your new style!",refresh:!0,type:"success"}):1==t.code?rechargeGp("purchase_card",function(t,e,i){t?c():console.log("re-charge GP failed")},U_TTID,"card"):hs_popup("Sorry! "+t.description)},error:function(t){hs_popup("Sorry! "+a.description)},complete:function(){loader.css("display","none")}})};c();try{gaSendEvent("buy-product","tap_buy_card_"+i+"_"+s,n)}catch(e){}}}),$(".post-card-turn-off").off("click"),$(".post-card-turn-off").on("click",function(e){t.css("display","none");var n=new FormData;n.append("cardStyle","0"),$.ajax({url:BOARD_URL+"app.php/card/choose",type:"post",data:n,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},success:function(t){loader.css("display","block"),setTimeout(function(){loader.css("display","none"),location.reload()},1e3)},error:function(t){hs_popup("Sorry! "+a.description)},complete:function(){loader.css("display","none")}});try{gaSendEvent("buy-product","tap_switch_card_"+i,I)}catch(e){}}),n?(t.find("#dont_show_card_notification_anymore").show(),t.find("#dont_show_card_notification_text_anymore").show(),t.find("#dont_show_card_notification_anymore").on("click",function(t){$(this).prop("checked")?TT.storage.setItem("hat_notification_suppressed","1"):TT.storage.removeItem("hat_notification_suppressed")})):(t.find("#dont_show_card_notification_anymore").hide(),t.find("#dont_show_card_notification_text_anymore").hide());try{GP_BALANCE>0?gaSendEvent("buy-product","prompt_card_"+i,"with_balance"):gaSendEvent("buy-product","prompt_card_"+i,"without_balance")}catch(t){}}},error:function(t){hs_popup("Sorry! "+response.description)},complete:function(){loader.css("display","none")}})}}}console.warn("no global container found")}($("#global_popout_container")),hs_confirm=function(t){if(t.length)return function(e){if("object"==typeof e){var i=e.message,n=e.title,o=e.callback,a=e.yes,r=e.no;"function"==typeof o?(void 0!==n?t.find(".notice-title-content").html(n):t.find(".notice-title-content").html("Information"),void 0!==a&&$("#global_confirm").find(".yes").html(a),void 0!==r&&$("#global_confirm").find(".yes").next().html(r),t.find("p.msg").html(i),t.css("display","block"),t.unbind("click"),t.on("click",function(e){var i=e.target;(i===this||i.classList.contains("close"))&&(t.css("display","none"),i.classList.contains("yes")&&o())})):console.warn("callback must be a function")}else console.warn("parameters for hs_confirm must be an object")};console.warn("no global popup found")}($("#global_confirm"));function editForum(t){if(t)var e=$(t).data("tab"),i=$(t).data("piwik");$.ajax({async:!1,type:"GET",url:BOARD_URL+"app.php/dynamic_token/create",beforeSend:function(){loader.css("display","block")},success:function(t){t=jQuery.parseJSON(t);var n="dev"===DEV_ENV?"https://siteowners-stage.tapatalk.com":"https://siteowners.tapatalk.com",o=n+"/groups/editForum?token="+t.dynamic_token+"&url="+encodeURIComponent(BOARD_URL);(i&&(o=n+"/piwik/login?token="+t.dynamic_token),e&&(o+="&tab="+e),window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))?window.open("","_blank","resizable=yes,scrollbars=yes,status=yes").location=o:window.open("","_blank").location=o},error:function(t){console.log(t)},complete:function(){loader.css("display","none")}})}function editForumNew(t){if(t)var e=$(t).data("tab"),i=$(t).data("piwik"),n=$(t).data("label");$.ajax({async:!1,type:"GET",url:BOARD_URL+"app.php/dynamic_token/create",beforeSend:function(){loader.css("display","block")},success:function(t){t=jQuery.parseJSON(t);var o="dev"===DEV_ENV?"https://stage.tapatalk.com":"https://www.tapatalk.com",a=o+"/editGroup?token="+t.dynamic_token+"&url="+encodeURIComponent(BOARD_URL);(i&&(a=o+"/piwik/login?token="+t.dynamic_token),e&&(a+="&tab="+e),n&&(a+="&label="+n),window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))?window.open("","_blank","resizable=yes,scrollbars=yes,status=yes").location=a:window.open("","_blank").location=a},error:function(t){console.log(t)},complete:function(){loader.css("display","none")}})}function mark_read(t){var e=$(t).parent().find("input").val();$.ajax({url:e,type:"GET",dataType:"json",data:"",success:function(e){if(void 0!==e.success){var i=Number($("#notification_list_button strong").html())-1;phpbb.markNotifications($(t).parent("li.bg2"),i)}},error:function(t){}})}function feature_image_no_price(t){var e=t.parents(".attach-row"),i=e&&e.find(".attach-price input");t.is(":checked")?(i&&i.val(0).prop("disabled",!0),e.siblings(".attach-row").find(".attach-price input").prop("disabled",!1)):i&&i.prop("disabled",!1)}var cookiePath=TT.cookie_path;function pop_buy_teir(t){void 0!=t&&!0===t?gaSendEvent("admin","forum_tier","clickpopup"):gaSendEvent("admin","forum_tier","popup"),$.ajax({async:!1,type:"GET",url:BOARD_URL+"app.php/dynamic_token/create",beforeSend:function(){},success:function(t){set_localstoreage("permium_popup"),t=jQuery.parseJSON(t);var e='<iframe id="buy_teir_frame" allowpaymentrequest="true" allowtransparency="true" src="'+(("dev"===DEV_ENV?"//pop-stage.tapatalk.com":"https://pop.tapatalk.com")+"/buyPermiumFrame?token="+t.dynamic_token)+'" name="" frameborder="0" class=""></iframe>';$("body").append(e),$("#buy_teir_frame").css("z-index","999"),$("#buy_teir_frame").addClass("dot-com-frame-ready")},error:function(t){console.log(t)},complete:function(){}})}function set_localstoreage(t,e){void 0==e&&(e=2592e6);var i=new Date;i.setTime(i.getTime()+e),TT.lSAva?localStorage.setItem(t,i.getTime()):TT.setTTOption(t,i.getTime(),e)}function setTimeZoneToCookie(){if(!(document.cookie.indexOf("browser_timezone=")>=0)){var t=(new Date).getTimezoneOffset(),e="-";t<0&&(e="+",t=-t);var i=t%60,n=(t-i)/60,o=e+(n=n<10?"0"+n.toString():n.toString())+":"+(i=i<10?"0"+i.toString():i.toString());o+="||"+(new Date((new Date).getFullYear(),1,1).getTimezoneOffset()!=(new Date).getTimezoneOffset()?1:0);try{"undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat().resolvedOptions().timeZone&&(o+="||"+Intl.DateTimeFormat().resolvedOptions().timeZone)}catch(t){}var a=o,r=new Date;r.setTime(r.getTime()+36e5);var s="expires="+r.toUTCString();document.cookie="browser_timezone="+a+";"+s+"; path=/;"}}function showPMCompose(t){U_TTID&&U_TTID>0||"1"==S_USER_LOGGED_IN?PHONEMODE&&"phone"===PHONEMODE?tapatalkPMWindow=window.open(t,"TapatalkPMPopup"):(t=t.replace("mode=compose","mode=compose&iframe=1"),(popup=$('<div class="modal iframe-box"><iframe id="PMCompose" src="'+t+'"/></div>')).modal({escapeClose:!1,clickClose:!1,closeClass:"fa fa-close",closeText:"",showSpinner:!0}),popup.on($.modal.AFTER_CLOSE,function(t,e){popup.remove()})):hs_guest_join(!0,"ttg_features")}function showContactCompose(t){PHONEMODE&&"phone"===PHONEMODE?(tapatalkPMWindow=window.open(t,"TapatalkPMPopup"),location.href=t):(t=t.replace("mode=contactadmin","mode=contactadmin&iframe=1"),(popup=$('<div class="modal iframe-box"><iframe id="ContactCompose" src="'+t+'"/></div>')).modal({escapeClose:!1,clickClose:!1,closeClass:"fa fa-close",closeText:"",showSpinner:!0}),popup.on($.modal.AFTER_CLOSE,function(t,e){popup.remove()}))}function showInviteCompose(t){PHONEMODE&&"phone"===PHONEMODE?(tapatalkPMWindow=window.open(t,"TapatalkPMPopup"),location.href=t):(t=t.replace("mode=admin_invite","mode=admin_invite&iframe=1"),(popup=$('<div class="modal iframe-box"><iframe id="InviteCompose" src="'+t+'"/></div>')).modal({escapeClose:!1,clickClose:!1,closeClass:"fa fa-close",closeText:"",showSpinner:!0}),popup.on($.modal.AFTER_CLOSE,function(t,e){popup.remove()}))}function hidePMHistory(){$("#PM_History").hide(),$("#PM_History_Show").show(),$("#PM_History_Hide").hide()}function showPMHistory(){$("#PM_History").show(),$("#PM_History_Show").hide(),$("#PM_History_Hide").show()}function mark_all(t,e,i){var n=e.checked&&!0!==e.disabled;void 0!=i?($(e).parents("."+i).find("input:checkbox[name='"+t+"[]']").prop("checked",n),$(e).parents("."+i).find("input:checkbox[name='"+t+"[]']").attr("checked",n)):$("input:checkbox[name='"+t+"[]']").each(function(t){$(this).prop("checked",n),$(this).attr("checked",n)}),n?void 0!=i?$(e).parents("."+i).find("li.change_color").addClass("changecolor"):$(".change_color").addClass("changecolor"):void 0!=i?$(e).parents("."+i).find("li.change_color").removeClass("changecolor"):$(".change_color").removeClass("changecolor")}function change_color(t,e,i){void 0!=i&&0!=i||(i=".change_color"),void 0==e||0==e?$(t).prop("checked")?($(t).closest(""+i).addClass("changecolor"),switch_button_status(!0)):($(t).closest(""+i).removeClass("changecolor"),switch_button_status(!1)):$(t).prop("checked")?(t.parents(""+i).addClass("changecolor"),switch_button_status(!0)):(t.parents(""+i).removeClass("changecolor"),switch_button_status(!1))}function reset_global_confirm(){$("#global_confirm").html('<div class="notice-message bg2 ">\n        <div class="notice-title"><span class="notice-title-content" >'+L_INFORMATION+'</span>\n            <button type="button" class="close"  data-dismiss="modal" aria-hidden="true"  >  </button></div>\n\n        <div class="notice-m-t24" >\n            <div class="icon_pop notice" style="\n            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAflBMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZm6u4VLAAAAKXRSTlMABvar3cxkSDfW+r7FMRUP4gxyfSgTde2koZNcHtLwik+GsT2PtFNNQmX9OCUAAAMiSURBVFjDxVnpdrIwEA2RooJsIrK6VG017/+C3zlkYIosCZmer/dPF+Ilk1kyc2UKpC+n9LYZFzyzT17pvFJmDmt9+RADfFzWlhHdpszEBLJys3hz1VbMYltZS+gcWyhhO9qU663QwnatRZfm/U8Vx6tfx4zFtX89Fv135Ro+v0e4nq+q4P15UK04rojuKr6ji/HhxONrYgejyT3Oe2PVrfRecwtfXrdwNeOb2MPz1vecF06tCVpLeGJpxFbC27MJxleEpzbCfKYFv43WUzj6xl17KCHTRNge+W7Mojb8PtkCfLYBOXy0h0f7JXz4sUH0bFzkW4QjxOPmLWBstHchHuDJfhaU4A9mAPBM2TMY3hKaEIZg3U+jZcS4/mTIF1lWBJPx6MrYwf98iwYJm4LXpNjk40R+/pu1OEmDp/PNbQyYzkJp9IkBrqLBTD2QC2YqhVxwRYPgCIwIwQl4KAfYIIUQtnho/rjIGsQohExWvkvzu7xEHBqhI68YDGoe0whT3gV3AklHIMQETDoHVVTCqg0VS+41oBLW8uQsOMItoxIyWx4iuKegExYQLA8o1CRCvAwe7AZZSCZ8NmtuEOI+ndCXCQd5UtMJa8iVc/MzpROmzZozk+XbohNaQlZh8buEgrm/a7LLzmqn4CWldsqZRTphE+Sc54FO2EQQh1dGxhPi8AapR8YeMuUBxYGMAnLZgfJFhg3VBvqkgMpXQ8fUVuyKSlhBxW7vlBWVcNW1HwleowTANZrAvay66A9fnN8Oyosems5I2Yoczk1WHZStSAS9japZ+oIOXNksXaD7UrVzHLQLVTsnwAYPtmhIiBv0+h2sbRmZjC0xlhgYQxNTpyQwlL5PAa5vFja+i1MAnil98Nn1JiniaAZBjShVw7J6ZC5Hp1GxNyvUOI3ivEwbwN3N8AlFIhDHMc3BXMQQ+bgqYiqziF08oduYCUGo2wyVJQOpCpWlIUJPdPDus6Lgz5WhQp3TlftQnVPrh2pBEvVDbYUTJdOnX6eWldb+EyRTPYUTWzehjTz4zyox6tiRmi5ylknjKqXdsf7muwD6txX/AGOD+gMqFBiAAAAAAElFTkSuQmCC) ">  </div>\n            <div class="msg-title">\n            </div>\n            <p class="msg" ></p>\n\n\n\n            <div class="add_content">\n            </div>\n            <div class="hide"></div>\n        </div>\n\n        <div class="bottom" >\n            <div class="yes close button  vip_ads_specialbotton tapatalk-theme-background">'+L_YES+'</div>\n            <div class="close button vip_ads_specialbotton " >'+L_NO+'</div>\n        </div>\n\n        <div class="center-line"></div>\n\n        <div class="notify_box"></div>\n    </div>')}function reset_global_popup(){$("#global_popup").html('<div class="notice-message bg2">\n    <div class="notice-title"><span class="notice-title-content">'+L_INFORMATION+'</span>\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"  >  </button></div>\n    <div class="notice-m-t24">\n        <div class="icon_pop notice"></div>\n        <div class="icon_pop success hide"></div>\n        <p class="msg"></p>\n    </div>\n    <div class="add_content"></div>\n    <div class="bottom">\n        <button name="changebtn" class="yes close button  vip_ads_specialbotton tapatalk-theme-background fs-16" >OK</button>\n        <button name="changebtnhide" class="yes close button  vip_ads_specialbotton tapatalk-theme-background vip-plus-btn-event fs-16" style="display:none" data-type="vip-plus-dislike-bump" >Join</button>\n    </div>\n    <div class="notify_box"></div>\n</div>">')}function hs_pop_wrong(t){void 0==t&&(t="something wrong with server"),hs_popup({message:t,refresh:!1,type:"error"})}function show_edit_history(t){$.post("app.php/history/getposthistory?postid="+t,function(e){$(".edit_history_"+t).html(e),$(".edit_history_"+t).show(),$("#show_history_"+t).parent().hide()})}function preview_post_history(t,e,i,n,o){$.post("app.php/history/getposthistorypreview?forumid="+t+"&postid="+e+"&historytime="+i+"&original="+n+"&editorname="+o,function(t){$("#post_content"+e+" > .pb2").html(t),$("[id^=historyline_"+e+"]").css("font-weight","normal"),$("#historyline_"+e+"_"+i).css("font-weight","bold")})}$(document).ready(function(){var t,e;TT.permanentDismiss(),$.expr[":"].external=function(t){return!t.href.match(/^mailto\:/)&&t.hostname!=location.hostname&&!t.href.match(/^javascript\:/)&&!t.href.match(/^$/)},$(".postbody").find("a:external").attr("target","_blank"),t=$(".scroll-breadcrumbs"),(e=t.length?t.width():0)&&t.scrollLeft(e);var i,n=new Slideout({panel:document.getElementById("wrap"),menu:document.getElementById("menu"),padding:221,tolerance:70,side:"right",touch:!1});function o(t){t.preventDefault(),n.close()}document.querySelector(".js-slideout-toggle")&&document.querySelector(".js-slideout-toggle").addEventListener("click",function(){n.open()}),$("#menu a").on("click",function(t){t.preventDefault(),n.close(),window.location.href=$(this).attr("href")}),n.on("beforeopen",function(){this.menu.style.display="block",this.panel.classList.add("panel-open")}).on("open",function(){this.panel.addEventListener("click",o)}).on("beforeclose",function(){this.menu.style.display="none",this.panel.classList.remove("panel-open"),this.panel.removeEventListener("click",o)}),function(){$("i.avatar-bg").each(function(){var t=$(this);!function(t,e){if(!e||"object"!=typeof t)return;if("none"===e)return void t.css("background-image",'url("'+AVATAR_DEFAULT+'")');var i=new Image;i.onerror=function(){t.css("background-image",'url("'+AVATAR_DEFAULT+'")').attr("data-origin_url",e)},i.src=e}(t,t.css("background-image").replace("url(","").replace(")","").replace(/\"/gi,""))})}(),function(){$("#notification_list_button").on("click",function(){e()});var t=$("#noti_box"),e=function(){$.ajax({url:U_NOTIFICATION_LIST,type:"GET",dataType:"json",beforeSend:function(){0==t.find("li").length&&t.append(n)},error:function(t){console.log(t)},complete:function(){t.find(".notification-loading").remove()},success:function(e){if(t.empty(),e.length){for(var n=0;n<e.length;n++)r(t,e[n]);t.append(o)}else t.append(i)}})},i=$(".no_notifications"),n=$(".notification-loading"),o=$(".noti-ft"),a=$(".noti-lang").data("mark_read"),r=function(t,e){var i='<li class="'+(e.UNREAD?" bg2":"")+(e.STYLING?" "+e.STYLING:"")+(e.URL?"":" no-url")+'">                            <div class="notification-sm-left">';e.URL&&(i=i+'<a class="notification-block" href="'+(e.UNREAD?e.U_MARK_READ+'" data-real-url="'+e.URL:e.URL)+'">'),e.AVATAR?i+=e.AVATAR:i=i+'<i class="avatar-bg" style="background-image:url('+AVATAR_DEFAULT+')"></i>',e.URL&&(i+="</a>"),i+='</div><div class="notification-sm-right">',e.URL&&(i=i+'<a class="notification-block" href="'+(e.UNREAD?e.U_MARK_READ+'" data-real-url="'+e.URL:e.URL)+'">'),i=i+'<div class="notification_text"><p class="notification-title">'+e.FORMATTED_TITLE+"</p>",e.REFERENCE&&(i=i+'<p class="notification-reference">'+e.REFERENCE+"</p>"),e.FORUM&&(i=i+'<p class="notification-forum">'+e.FORUM+"</p>"),e.REASON&&(i=i+'<p class="notification-reason">'+e.REASON+"</p>"),i=i+'<p class="notification-time">'+e.TIME+"</p></div>",e.URL&&(i+="</a>"),i+="</div>",e.UNREAD&&(i=i+'<a href="javascript:void(0)" class="mark_read icon-mark" onclick="mark_read(this)" title="'+a+'">                      <input type="hidden" value="'+e.U_MARK_READ+'" >                      <i class="icon fa-check-circle icon-xl fa-fw" aria-hidden="true"></i>                      <span class="sr-only">'+a+"</span></a>"),i+="</li>",t.append(i)}}(),$(function(){if("index"===SCRIPT_NAME){var t=$(".home-welcome-message");if(t.length){var e="welcome_message";if(TT.storage){var i=TT.storage.getItem(e);i&&ENCODE_WELCOME_MESSAGE&&i!==ENCODE_WELCOME_MESSAGE&&Cookies.remove(e,{path:cookiePath}),TT.storage.setItem(e,ENCODE_WELCOME_MESSAGE)}Cookies.get(e)||(t.removeClass("hide"),t.find("i.fa-close").on("click",function(){t.addClass("hide"),Cookies.set(e,1,{expires:365,path:cookiePath})}))}}}),$("form#topic-search").on("submit",function(t){""==$(this).find('input[name="keywords"]').val()&&t.preventDefault()}),function(){var t=$("#navbar_search"),e=$("#navbar_search_2"),i=$("#navbar_search_1"),n=$("#shSg"),o=e.find("input"),a=$("#navbar_search_submit"),r=$("#navbar_search_reset");i.on("mouseenter",function(){var t=$(".nav-bar-left"),a=$("#nav-main"),r=a.outerWidth(!0),s=t.outerWidth(!0),c=0;a.find(".nml").each(function(){c+=$(this).outerWidth(!0)});var l=parseInt(.9*(r-s-c));if(!(l<150)){var d=o.attr("placeholder").length,u=parseInt(5.5*d+5);u<.5*l&&(u=.5*l);var p=u>l?l:u;o.width(p),n.width(p+14),i.addClass("hide"),e.removeClass("hide")}}),t.on("mouseleave",function(){i.removeClass("hide"),e.addClass("hide"),a.removeClass("hide"),r.addClass("hide")}),n.on("click",function(t){var e=t.target;"LI"===e.tagName&&(o.val(e.innerText),a.addClass("hide"),r.removeClass("hide"))}),a.on("click",function(){e.parents("form").submit()}),r.on("click",function(){o.val(""),a.removeClass("hide"),r.addClass("hide")});var s=0,c=0;o.on("focus click",function(){if(!$(this).val()){var t=TT.getSearchHistory();if(0!=t.length){n.empty();for(var e=0;e<t.length;e++)t[e].key&&n.prepend("<li title='"+t[e].key+"'><i class='icon search-icon history'></i>"+t[e].key+"</li>")}}}),o.on("change keyup paste",function(){var t=$(this).val();if(!t)return a.removeClass("hide"),void r.addClass("hide");a.addClass("hide"),r.removeClass("hide"),s=0,c&&cancelRequestAnimFrame(c),function e(){c=requestAnimFrame(e),(s+=1)>60&&(s=0,cancelRequestAnimFrame(c),$.ajax({dataType:"jsonp",url:"https://suggestqueries.google.com/complete/search",data:{client:"youtube",q:t},beforeSend:function(){n.empty()}}).done(function(t){if(t[1]&&t[1].length)for(var e=0;e<t[1].length;e++)n.prepend("<li title='"+t[1][e][0]+"'><i class='icon icon-search-dark'></i>"+t[1][e][0]+"</li>")}).fail(function(t){console.log(t)}).always(function(){}))}()})}(),i=0,new ClipboardJS(".cp-btn").on("success",function(t){try{i&&clearTimeout(i),t.trigger.innerText="Copied!",i=setTimeout(function(){t.trigger.innerText="Copy link",i=0},1e3)}catch(t){console.warn(t)}}),$(".sr-b .dropdown-trigger").on("click",function(){$(this).parents(".sr-b").find(".inputbox").focus()}),$(".sr-b .btn-cls").on("click",function(){$(this).parents(".dropdown").css("display","none").parents(".dropdown-container").removeClass("dropdown-visible").removeClass("visible")}),$(".sr-ic.b").on("click",function(){var t=$(this),e=removeParam("sid",$('meta[property="og:url"]').attr("content")),i=$('meta[property="og:title"]').attr("content"),n=t.offset(),o="left="+(n.left+50)+",top="+(n.top+50)+",width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0";t.hasClass("fb")?window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e)+"&text="+encodeURIComponent(i),"",o):t.hasClass("tw")?window.open("https://twitter.com/share?url="+encodeURIComponent(e)+"&text="+encodeURIComponent(i),"",o):t.hasClass("tl")&&window.open("https://www.tumblr.com/widgets/share/tool?canonicalUrl="+encodeURIComponent(e)+"&title="+encodeURIComponent(i)+"&posttype=link","",o)}),$(".rules .fa-close").on("click",function(){var t=$(this);t.parents(".rules").addClass("hide");var e=t.data("ck_n");e&&Cookies.set(e,Date.now()/1e3|0,{expires:1,path:cookiePath})}),function(){var t=$("#pp_b");$("#pp_c").on("click",function(){Cookies.set("pp_v",CURRENT_PP_VERSION,{expires:365,path:"/"}),t.remove(),$.ajax({async:!1,type:"GET",url:U_UPDATE_PP,beforeSend:function(){loader.css("display","block")},success:function(t){},error:function(t){console.log(t)},complete:function(){loader.css("display","none")}})})}(),$("#check_in").on("click",function(){$.ajax({type:"GET",url:U_CHECK_IN,dataType:"json",beforeSend:function(){loader.css("display","block")},success:function(t){t.status?(hs_checkin_result(parseInt(CHECK_IN_DAYS)+1),$("#check-in-block").fadeOut(500)):hs_popup(t.error?t.error:"Sorry, check in failed. Please try again later")},error:function(t){console.log(t)},complete:function(){loader.css("display","none")}})}),$("#vote_forum").on("click",function(){$("#vote_forum").hasClass("disable_vote")||(gaSendEvent("vote_forum","vote_forum"),$.ajax({type:"GET",url:U_VOTE_FORUM,dataType:"json",beforeSend:function(){loader.css("display","block")},success:function(t){loader.css("display","none"),t.status?hs_popup({message:"Congrats! Vote again tomorrow.",refresh:!0,type:"success"}):hs_popup(t.error?t.error:"Sorry, vote failed. Please try again later")},error:function(t){console.log(t)},complete:function(){loader.css("display","none")}}))}),SetupPostProfileAndImage(),function(){var t=$("#skw1"),e=$("#shSg_1");e.on("click",function(e){var i=e.target;"LI"===i.tagName&&(t.val(i.innerText),"history-li"==i.className&&$(".specialbutton").trigger("click"))}),t.on("focus click",function(){if(!$(this).val()){var t=TT.getSearchHistory();if(0!=t.length){e.empty();for(var i=0;i<t.length;i++)t[i].key&&e.prepend("<li class='history-li' title='"+t[i].key+"'><i class='icon search-icon history'></i>"+t[i].key+"</li>")}}});var i=0,n=0;t.on("change keyup paste",function(){var t=$(this).val();t&&(i=0,n&&cancelRequestAnimFrame(n),function o(){n=requestAnimFrame(o),(i+=1)>60&&(i=0,cancelRequestAnimFrame(n),$.ajax({dataType:"jsonp",url:"https://suggestqueries.google.com/complete/search",data:{client:"youtube",q:t},beforeSend:function(){e.empty()}}).done(function(t){if(t[1]&&t[1].length)for(var i=0;i<t[1].length;i++)e.prepend("<li title='"+t[1][i][0]+"'><i class='icon icon-search-dark'></i>"+t[1][i][0]+"</li>")}).fail(function(t){console.log(t)}).always(function(){}))}())}),t.on("blur",function(t){window.setTimeout(function(){e.empty()},500)})}();var a,r,s,c,l=$("#tt_theme .btn-tabs");l.on("click",function(){var t=$(this),e=t.data("theme");if(void 0!==e&&TT.getTTOption("thm",e)!==e){TT.setTTOption("thm",e),t.addClass("active").siblings(".btn-tabs").removeClass("active");var i,n=$("#tt_style"),o=$("#settings_style"),a=$("#hs_custom_css"),r=n.attr("href");if("dark"===e?($('meta[name="theme-color"]').attr("content","#3D3F43"),i=r.replace(/stylesheet.*?.css/gi,"stylesheet-"+e+".css"),o.attr("media","max-width: 1px")):($('meta[name="theme-color"]').attr("content",""),i=r.replace(/stylesheet.*?.css/gi,"stylesheet.css"),o.removeAttr("media")),"dark"===e||"original"===e?a.attr("media","max-width: 1px"):a.removeAttr("media"),r!==i){t.addClass("ldg");var s=new Image;$(s).on("error",function(){n.attr("href",i),t.removeClass("ldg")}),s.src=i}}}),l.each(function(){var t=$(this);(GOP.thm===t.data("theme")&&t.addClass("active"),GOP.thm_o&&"dark"===t.data("theme"))&&("dark"===window.getComputedStyle(document.documentElement).getPropertyValue("content").replace(/"/g,"")&&(t.click(),TT.deleteTTOption("thm_o")))}),(a=$("#tt_font .btn-tabs")).on("click",function(){var t=$(this),e=t.data("font");void 0!==e&&TT.getTTOption("ft",e)!==e&&(TT.setTTOption("ft",e),t.addClass("active").siblings(".btn-tabs").removeClass("active"),$("html").css("font-size",e+"px"))}),a.each(function(){var t=$(this);GOP.ft===t.data("font")&&t.addClass("active")}),$("#m_p_vip").on("click",function(){hs_confirm({title:"",message:"You have reached the max number of profiles this forum allows. Please sign up to VIP+ to add more profiles.",callback:function(){vipPlusBtnEvent("add_multi_profile")}})}),r=$("#s_u_l"),s=$("#s_u"),c=s.prev("strong"),TT.watchInput(s,function(t,e){var i=t.val();$.ajax({dataType:"jsonp",url:TAPATALK_COM_DOMAIN+"/ajax/checkUserName",data:{username:i,suggest:e?1:0},beforeSend:function(){r.addClass("disabled"),r.html("Checking Availability...").removeClass("er")}}).done(function(e){e.status?r.attr("href",r.attr("href")+"&suggested_username="+i).html("Confirm, and continue to dismiss this notice").removeClass("disabled er"):e.suggested_username?(t.val(e.suggested_username),c.html(e.suggested_username),r.attr("href",r.attr("href")+"&suggested_username="+e.suggested_username).html("Confirm, and continue to dismiss this notice").removeClass("disabled er")):r.html("Sorry, this username is not available").addClass("er")}).fail(function(){r.html("Sorry, this username is not available").addClass("er")})},!0),r.on("click",function(t){if($(this).hasClass("disabled"))return t.preventDefault(),!1}),$("#c_s_u").on("click",function(){c.hide(),s.prop("type","text"),$(this).hide()}),function(){if(parseInt(CURRENT_USER_ID)&&TT.lSAva){var t=Cookies.get("tt_theme"),e=TT.getTTOption("thm"),i=parseInt("{VIP_DARK_MODE_DEFAULT}");if(!(TT.storage.getItem("tt_theme")||t||e||i)){var n=$("#tt_theme_popup");if(n.length){var o=[],a=n.find("img"),r=n.find(".btn-tabs");r.each(function(){var t=$(this);GOP.thm===t.data("theme")&&t.addClass("active")}),2===r.length?(o[0]=new Image,o[1]=new Image,o[0].src="https://groups.tapatalk-cdn.com/static/image/web-style-tips1.png",o[1].src="https://groups.tapatalk-cdn.com/static/image/web-style-tips3.png"):(o[0]=new Image,o[1]=new Image,o[2]=new Image,o[0].src="https://groups.tapatalk-cdn.com/static/image/web-style-tips1.png",o[1].src="https://groups.tapatalk-cdn.com/static/image/web-style-tips2.png",o[2].src="https://groups.tapatalk-cdn.com/static/image/web-style-tips3.png"),a.attr("src",o[n.find(".btn-tabs.active").index()].src),n.on("click",function(t){var e=t.target;(e===this||e.classList.contains("close"))&&(n.css("display","none"),TT.storage.setItem("tt_theme","1"))}),r.on("click",function(){var t=$(this);"dark"===t.data("theme")?n.find(".w .u").css("backgroundColor","#3b3b3b"):n.find(".w .u").css("backgroundColor","#eff2f4"),a.attr("src",o[t.index()].src),t.addClass("active").siblings(".btn-tabs").removeClass("active")}),n.find(".done").on("click",function(){TT.setTTOption("thm",n.find(".btn-tabs.active").data("theme")),TT.storage.setItem("tt_theme","1"),location.reload()}),n.css("display","block")}}}}(),$(".buy-attach").on("click",function(){var t=$(this).data("attach_id");if(t){gaSendEvent("buy_common","Pay to Download Attachment","click_download");var e=$(this).data("topic_id"),i=$(this).data("post_id"),n=$(this).data("poster_id"),o=new FormData;o.append("attach_id",t),o.append("topic_id",e),o.append("post_id",i),o.append("receive_user_id",n),$.ajax({url:BOARD_URL+"app.php/attachment/sale_link",type:"post",data:o,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},success:function(t){var e;t.status?(e=t.link,buyCommonGoods(function(t,e,i){i.data&&i.data.order_id?window.location.reload(!0):e&&hs_popup("Sorry! Purchase attachment failed. "+e)},e)):hs_popup(t.error)},error:function(t){console.error(t)},complete:function(){loader.css("display","none")}})}}),$(".attach-feature-radio").on("click",function(){var t=$(this);TT.mutualExclusiveCheckbox(t),feature_image_no_price(t)}),$(".timespan").on("click",function(){var t=$(this),e=t.html();t.html(t.attr("title")).attr("title",e)}),$(window).bind("beforeunload",function(){try{__cmp("saveConsent")}catch(t){console.warn("auto set gdpr cookie on leaving page:",t)}});var d=Cookies.get("_no_forum_login");if(d&&!POPUP_TTID_CONNECT&&!HIDE_TTID_POPUP){new Date(1e3*d);var u="The existing forum account login will be removed ";reset_global_popup(),hs_popup(u)}if(POPUP_TTID_CONNECT&&!HIDE_TTID_POPUP){reset_global_popup();u="Your forum account has been upgraded to Tapatalk Account. Please log in to your Tapatalk account to participate in this group. \nYour Tapatalk account is registered with email address: "+POPUP_TTID_CONNECT_EMAIL+".";$("#global_popup div.bottom").append('<a class="button specialbutton capitalize mb-15 " href=" '+HOME_URL+'ucp.php?mode=login&connect_ttid=1">Log in with TTID</a>'),hs_popup(u),$("#global_popup button.close").remove()}}),setTimeZoneToCookie(),window.piwikAsyncInit=function(){if(IS_SUPER_ADMIN)return console.info("no piwik event for super admin"),!1;try{t="//piwik.tapatalk.com/piwik.php",(e=Piwik.getAsyncTracker()).setCookiePath(cookiePath),e.setCustomRequestProcessing(function(t){return t.startsWith("e_c")?t:t+"&adsrequest="+WEB_ADS_REQUEST+"&adsdisplay="+WEB_ADS}),e.enableLinkTracking(!0),e.setTrackerUrl(t),e.setSiteId(TAPATALK_PIWIK_ID),PAGE_TITLE_PIWIK&&e.setDocumentTitle(PAGE_TITLE_PIWIK),parseInt(CURRENT_USER_ID)&&e.setUserId(USERNAME_CLEAN),e.trackPageView()}catch(t){console.error("piwik tracker error",t)}var t,e},$(".mark-all-check").click(function(){$("input[type='checkbox']").prop("checked",!0),switch_button_status(status)}),$(".unmark-all-check").click(function(){$("input[type='checkbox']").attr("checked",!1),switch_button_status(status)}),$("input:checkbox").change(function(){change_color(this,!1)});var postAvatarPopupE=!1;function followUserFromPost(t){$.ajax({url:t,type:"GET",dataType:"json",beforeSend:function(){loader.css("display","block")},error:function(t){console.log(t)},success:function(t){var e=t.S_CONFIRM_ACTION,i=$("<form>"+t.S_HIDDEN_FIELDS+"</form>"),n=new FormData(i[0]);n.append("confirm","Yes"),$.ajax({url:e,type:"POST",dataType:"json",processData:!1,contentType:!1,data:n,error:function(t){console.log(t)},complete:function(){loader.css("display","none")},success:function(t){t.success&&window.location.reload()}})}})}$(".avatar-username .vip.avatar-container, .postusername .vip.avatar-container, .post_vip_corner_promotion").on("mouseenter",function(){postAvatarPopupE||1==U_IS_VIP_PLUS||(postAvatarPopupE=!0,gaSendEvent("goldpoint","vipplus","popup_hover"+DEV_ENV))}),localStorage.setItem("TTIDForumsShow",0);var empty_forum_info=!1,leave_showTTIDForums=!0;function check_show_forums_status(){return!($(window).width()<=700||1==TTID_FORUMS_SWITCH_DISABLE||isNaN(U_COOKIE_TTID)||empty_forum_info)}function getTitleHomeForum(){$(window).width()<=700?window.location.href="https://www.tapatalk.com/":empty_forum_info||isNaN(U_COOKIE_TTID)||1==TTID_FORUMS_SWITCH_DISABLE?window.location.href="https://www.tapatalk.com/":"none"==$("#showTTIDForums").css("display")?(TT.storage.setItem("TTIDForumsShow",1),isNaN(U_COOKIE_TTID)||($("#showTTIDForums").removeClass("border-unset"),$("#showTTIDForums").slideDown(),$(".showTTIDForums").addClass("showTTIDForums-bg"))):(TT.storage.setItem("TTIDForumsShow",0),$("#showTTIDForums").addClass("border-unset"),$("#showTTIDForums").slideUp(),$(".showTTIDForums").removeClass("showTTIDForums-bg"))}function getHomeForum(){if(0==check_show_forums_status())return setTTIDForumsIcon(),!1;var t=2;t=$(window).width()>2556?20:$(window).width()>2326?18:$(window).width()>2086?16:$(window).width()>1846?14:$(window).width()>1642?12:$(window).width()>1398?10:$(window).width()>1e3?8:$(window).width()>750?6:4,$(".showTTIDForums_append").empty();var e=getTTIDForumLocalStorage();if(!1!==e)return(e=JSON.parse(e)).data.length<2?(empty_forum_info=!0,setTTIDForumsIcon(),!1):(setTTIDForumsIcon(!0),addTTIDForumsInfo(e,t),!0);$.ajax({type:"GET",url:"https://www.tapatalk.com/ajax/getHomeForum?ttg_count=20",success:function(e){if(e.data.length<2)return empty_forum_info=!0,setTTIDForumsLocalStorage(JSON.stringify(e)),setTTIDForumsIcon(),!1;setTTIDForumsIcon(!0),addTTIDForumsInfo(e,t)},error:function(){setTTIDForumsIcon(),TTID_FORUMS_SWITCH_DISABLE=1}})}function addTTIDForumsInfo(t,e){var i='<div style="border-left: 1px solid #4f5155;height: 128px; margin-top: 12px;"></div>',n=1;t.data.length>1&&($.each(t.data,function(t,o){if(n>e)return!1;n%2==0?(i+='<a class="ttid-forum-info-url" href="'+o.url,"pb_group"!=o.type?i+='" target="_blank"> ':i+='" > ',SITE_NAME==o.name?i+='<div class="hover-4f5155 hover-4f5155-hover">\n':i+='<div class="hover-4f5155">\n',i+='                    <img style="background-color: white" src="'+o.logo+'">\n                    <div class="ttforum_name" >'+o.name+"</div>\n         </div></a></div>"):(i+=1==n?' <div class="ttid-forum-block-first">':' <div class="ttid-forum-block">',i+='<a class="ttid-forum-info-url" href="'+o.url,"pb_group"!=o.type?i+='" target="_blank"> ':i+='" > ',SITE_NAME==o.name?i+='<div class="hover-4f5155 hover-4f5155-hover">\n':i+='<div class="hover-4f5155">\n',i+='                    <img style="background-color: white" src="'+o.logo+'">\n                    <div class="ttforum_name" >'+o.name+"</div>\n         </div></a>"),n++}),n%2==0&&(i+="</div>"),$(".showTTIDForums_append").append(i))}isNaN(U_COOKIE_TTID)&&(empty_forum_info=!0),$(".showTTIDForums").on("mouseenter",function(){if(leave_showTTIDForums=!1,"none"==$("#showTTIDForums").css("display"))return 0!=check_show_forums_status()&&void((1!=TT.storage.getItem("TTIDForumsShow")||empty_forum_info)&&($("#showTTIDForums").addClass("border-unset"),$("#showTTIDForums").slideDown(),$(".showTTIDForums").addClass("showTTIDForums-bg")))}),$(".showTTIDForums").on("mouseleave",function(){leave_showTTIDForums=!0,setTimeout(function(){(1!=TT.storage.getItem("TTIDForumsShow")||empty_forum_info)&&"none"!=$("#showTTIDForums").css("display")&&0!=leave_showTTIDForums&&($("#showTTIDForums").removeClass("border-unset"),$("#showTTIDForums").slideUp(),$(".showTTIDForums").removeClass("showTTIDForums-bg"))},1e3)}),$(window).scroll(function(){if(!empty_forum_info&&!isNaN(U_COOKIE_TTID)&&1!=TTID_FORUMS_SWITCH_DISABLE&&1==TT.storage.getItem("TTIDForumsShow")&&($(window).scrollTop()>250&&"none"!=$("#showTTIDForums").css("display")&&($("#showTTIDForums").addClass("border-unset"),$("#showTTIDForums").slideUp(),$(".showTTIDForums").removeClass("showTTIDForums-bg")),$(window).scrollTop()<50&&"flex"!=$("#showTTIDForums").css("display"))){var t=getTTIDForumLocalStorage();if((t=JSON.parse(t)).data.length<2)return;$("#showTTIDForums").removeClass("border-unset"),$("#showTTIDForums").slideDown(),$(".showTTIDForums").addClass("showTTIDForums-bg")}});var hs_product_notification=function(){if(!(SHOW_PROFILE_HAT_NOTIFICATION>0||SHOW_PROFILE_CARD_NOTIFICATION>0))return 0;if(TT.lSAva){if(!(U_TTID&&U_TTID>0))return 0;if(TT.storage.getItem("hat_notification_suppressed"))return 0;if(SHOW_PROFILE_HAT_NOTIFICATION>0){var t="prompt_hat_new_notification_thanksgiving",e=(new Date).getTime();if(!TT.storage.getItem(t))return hs_purchase_hat("notification",!0,5),TT.storage.setItem(t,e),1}if(SHOW_PROFILE_CARD_NOTIFICATION>0){t="prompt_card_new_notification_thanksgiving",e=(new Date).getTime();if(!TT.storage.getItem(t))return hs_purchase_card("notification",!0,17),TT.storage.setItem(t,e),1}}},hs_setupwallet_notification=function(){if(SHOW_GP_INTRO&&$(window).width()>700)if(TT.lSAva){if(1!=localStorage.getItem("setWalletShow")&&!isNaN(U_COOKIE_TTID))return gaSendEvent("airdrop_setwallet","popup","setwallet"),setWalletPopup(function(t,e,i){localStorage.setItem("setWalletShow",1)},TAPATALK_COM_DOMAIN+"/gp/intro"),!0}else if(1!=TT.getTTOption("setWalletShow")&&!isNaN(U_COOKIE_TTID))return gaSendEvent("airdrop_setwallet","popup","setwallet"),setWalletPopup(function(t,e,i){TT.setTTOption("setWalletShow",1)},TAPATALK_COM_DOMAIN+"/gp/intro"),!0;return!1};function hs_popTTIDForumsIntro(){if(TT.lSAva&&null===TT.storage.getItem("TTIDForumsIntro")){gaSendEvent("tutorial","popup","multi_forum"),reset_global_popup();var t=$("#global_popup");t.find(".notice-title").remove(),t.find(".notice-m-t24").empty(),t.find(".notice-message").addClass("notice-message4").removeClass("notice-message"),t.find(".vip_ads_specialbotton").css("color","white"),t.find(".vip_ads_specialbotton").css("min-width","144px"),t.find(".vip_ads_specialbotton").css("margin-bottom","10px"),t.find(".vip_ads_specialbotton").css("font-weight","700");var e='<div style=" font-size: 20px; font-weight: 700;margin-top: 36px">Follow multiple groups?</div>';return e+='<div class="TTIDFourms-intro-content" >Check out the new way to discover and navigate different Tapatalk Groups</div>',e+='<div class="TTIDFourms-intro-img"></div>',t.find(".notice-m-t24").append(e),hs_popup({message:""}),TT.storage.setItem("TTIDForumsIntro",1),!0}return!1}function hs_popDonation(){if("index"===SCRIPT_NAME&&2==DONATION_VISIBILITY){var t,e=Cookies.get("nsfw_donation_popup");if(t=$(".new-donation-btn"),!e&&t.length)return newDonation(null,"?donate_from=popout"),Cookies.set("nsfw_donation_popup",1,{expires:7,path:cookiePath}),!0}return!1}function hs_popTiers(){return TT.lSAva?1!==SHOW_PERMIUM_HTML||null===localStorage.getItem("permium_popup")||localStorage.getItem("permium_popup")<now.getTime()||(SHOW_PERMIUM_HTML=0):1!==SHOW_PERMIUM_HTML||null===TT.getTTOption("permium_popup")||TT.getTTOption("permium_popup")<now.getTime()||(SHOW_PERMIUM_HTML=0),1===SHOW_PERMIUM_HTML&&$(window).width()>700&&(pop_buy_teir(!1),!0)}function hs_popVIPPromotion(){if(1==localStorage.getItem("vip_repromotion_after_login")&&(localStorage.setItem("vip_repromotion_after_login",0),EMAIL_VIP_PROMOTION=1),IS_VIP_PLUS)return!1;if(TT.lSAva){return EMAIL_VIP_PROMOTION?(localStorage.setItem("VIPPromotion_poped",1),gaSendEvent("vipplus","1_year_promotion","email"),setTimeout(function(){vipPlusPromotionBtnEvent()},1e3),!0):1==localStorage.getItem("vip_repromotion_after_login")&&(EMAIL_VIP_PROMOTION=1,localStorage.setItem("vip_repromotion_after_login",0),!0)}return!1}function getPostDataFormId(post_id,key){if(null!=post_id&&null!=key){var data=eval("post_data_"+post_id);if(void 0!=data&&data)return"string"==typeof key||"number"==typeof key?data[key]:void 0}}$(document).ready(function(){var t=getHomeForum(),e=!1;(e=hs_popVIPPromotion())||(e=hs_product_notification()),e||(e=hs_setupwallet_notification()),!e&&t&&(e=hs_popTTIDForumsIntro()),e||(e=hs_guest_join(!1,"ttg_popout")),e||(e=hs_popDonation()),e||(e=hs_popTiers())}),$(document).ready(function(){hs_award_notification()});var HtmlUtil={htmlEncode:function(t){var e=document.createElement("div");void 0!=e.textContent?e.textContent=t:e.innerText=t;var i=e.innerHTML;return e=null,i},htmlDecode:function(t){var e=document.createElement("div");e.innerHTML=t;var i=e.innerText||e.textContent||"";return e=null,i}};function getFullPostDataFormId(post_id){if(null!=post_id)return eval("post_data_"+post_id)}function lift_ban(t){gaSendEvent("buy_common","lift ban","click"),buyCommonGoods(function(t,e,i){null!=i.data.order_id&&$.ajax({type:"POST",url:BOARD_URL+"app.php/ban/lift?order_id="+i.data.order_id.toString(),dataType:"json",success:function(t){t.status?hs_popup({message:t.message,refresh:3,type:"success"}):hs_pop_wrong(t.message)},error:function(t){hs_pop_wrong(t.message)}})},t)}function approve_member(t){gaSendEvent("buy common","approve member","click"),buyCommonGoods(function(t,e,i){null!=i.data.order_id&&$.ajax({type:"POST",url:BOARD_URL+"app.php/approve/member?order_id="+i.data.order_id.toString(),dataType:"json",success:function(t){t.status?hs_popup({message:t.message,refresh:3,type:"success"}):hs_pop_wrong(t.message)},error:function(t){hs_pop_wrong(t.message)}})},t)}function hs_guest_join_update(){$(".ttid-login-box.join-button").hide()}var hs_guest_join=function(t){return function(e,i){if(U_TTID&&U_TTID>0||U_COOKIE_TTID&&U_COOKIE_TTID>0)return!1;if("1"==S_USER_LOGGED_IN)return!1;var n="guest_elapse_session",o="Join To Read More",a="We see you've read on Tapatalk for a while. With a few clicks away you'll be able to personalize your experience and get updates from us.";e&&(n="guest_manual","ttg_nav"!=i&&"ttg_sidebar"!=i&&(o="Pardon the interruption",a="We see that you are interested to view or use certain resources in this Tapatalk Group. Please consider signing up for Tapatalk, its just a few clicks away."));var r='<div class="notice-message guest-join bg2" style="">\n            <div class="notice-title guest-join" style="height: 30px;">\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"  >  </button>\n        </div>\n        <div class="guest-join-painting">\n            <img src="https://groups.tapatalk-cdn.com/static/image/tapatalk_network.png" width="" style="width: 100%;">\n            </div>\n            <div class="guest-join-paragraph">\n            <p id="guest-join-title" class="guest-join-title">'+o+'</p>\n        <p id="guest-join-description" class="guest-join-description">'+a+'</p>\n        <div class="controls" style="max-height: 165px;">\n            <form action="'+U_REGISTER+"&type=facebook&channel="+i+'" id="guest-join-forum-facebook" method="post">'+S_LOGIN_REDIRECT+'</form>\n            <form action="'+U_REGISTER+"&type=google&channel="+i+'" id="guest-join-forum-google" method="post">'+S_LOGIN_REDIRECT+'</form>\n            <form action="'+U_REGISTER+"&type=email&channel="+i+'" id="guest-join-forum-email" method="post">'+S_LOGIN_REDIRECT+'</form>\n            <form action="'+U_REGISTER+"&channel="+i+'" id="guest-join-forum-email" method="post">'+S_LOGIN_REDIRECT+"</form>\n"+("<div onclick=\"gaSendEvent('guest-convert','"+n+'\',\'facebook\');document.getElementById(\'guest-join-forum-facebook\').submit();" class="button1 button specialbutton ttid-login-box join-button facebook"><img src="https://www.tapatalk.com/imgs/facebook-ttg.png" style="width: 20px;height: 20px;margin: 0 5px;"><div class="join-button-text">Continue With Facebook</div></div>\n            <div onclick="gaSendEvent(\'guest-convert\',\''+n+'\',\'google\');document.getElementById(\'guest-join-forum-google\').submit();" class="button1 button specialbutton ttid-login-box join-button google"><img src="https://www.tapatalk.com/imgs/g.png" style="width: 20px;height: 20px;margin: 0 5px;"><div class="join-button-text"margin: 0 5px;>Continue With Google</div></div>\n            <div onclick="gaSendEvent(\'guest-convert\',\''+n+'\',\'email\');document.getElementById(\'guest-join-forum-email\').submit();" class="button1 button specialbutton ttid-login-box join-button email"><img src="https://www.tapatalk.com/imgs/login-email.png" style="width: 18px;height: 12px;top:-1px;margin: 0 6px;"><div class="join-button-text" style="line-height:20px;">Continue With Email</div></div>\n')+"        </div>\n        <p id='guest-join-login-access' class=\"guest-join-login-access\"><span onclick=\"gaSendEvent('guest-convert','"+n+"','login');\">Already have an account? <a href=\""+U_LOGIN_LOGOUT+'">LOG IN</a></span></p>\n        </div>\n        <div class="bottom"></div>\n</div>',s=function(){t.css("display","block"),t.unbind("click"),t.on("click",function(e){e.target.classList.contains("close")&&t.css("display","none")}),TT.storage.getItem("guest_login_notified")||TT.storage.setItem("guest_login_notified",c)};if(e)return t.html(r),s(),!0;if(TT.lSAva){if(TT.storage.getItem("guest_login_notified"))return!1;var c=(new Date).getTime(),l=TT.storage.getItem("guest_session_start");if(l||(l=c,TT.storage.setItem("guest_session_start",l)),parseInt(c)>parseInt(l)+12e4||SESSION_ELASPE>120)return t.html(r),$("#guest-join-title").html("Join To Read More"),$("#guest-join-description").html("We see you've read on Tapatalk for a while. With a few clicks away you'll be able to personalize your experience and get updates from us."),s(),!0}return!1}}($("#global_popout_container")),hs_checkin_result=function(t){if(t.length)return function(e){for(var i='<div class="alt-block-content2 check-in-progress">   <div class="day-coin-box cl-af">',n=1;n<6;n++){var o='<div class="day-coin fl">';n<5&&(o+='<div class="progress '+(n<=e?"checked":"")+' moving"></div>'),o+='<div class="coin '+(n<=e?"checked":n==e+1?"rotate":"")+'"><span>+'+n+'</span></div><div class="alt-block-special-font '+(n<=e?"checkin-checked":"")+'"><span>'+(n==e?"Today":"Day"+n)+"</span></div>",i+=o+="</div>"}var a='   <div class="notice-message check-in-result bg2" style="">\n       <div class="check-in-logo"><img class="poplogo" src="https://groups.tapatalk-cdn.com/static/image/calender.png"></div>\n       <div class="check-in-paragraph">Congrats! You\'ve got Gold Points. Check-in again tomorrow to unlock more.</div>\n'+(i+="   </div></div>")+'       <div><a class="udl tapatalk-theme-color" href="'+TAPATALK_COM_DOMAIN+'/goldpoints" target="_blank" style="padding:20px 0;"><span>What are Gold Points?</span></a></div>    </div>';return t.html(a),t.css("display","block"),t.unbind("click"),t.on("click",function(e){(e.target===this||e.target.classList.contains("close"))&&t.css("display","none")}),!1};console.warn("no global popup found")}($("#global_popout_container")),hs_award_result=function(t){if(t.length)return function(e,i,n){var o="gift.png";"gift_vip"==n&&(o="gift_vip.png");var a='   <div class="notice-message award-result bg2" style="">\n       <div class="award-logo"><img class="poplogo" src="https://groups.tapatalk-cdn.com/static/image/'+o+'"></div>\n       <div class="award-paragraph">'+e+"</div>\n    </div>";return t.html(a),t.css("display","block"),t.unbind("click"),t.on("click",function(e){(e.target===this||e.target.classList.contains("close"))&&(t.css("display","none"),i&&window.location.reload(!0))}),!1};console.warn("no global popup found")}($("#global_popout_container"));function SetupPostProfileAndImage(){if(!($(document).width()<850)){var post_images=$(".postbody .pb2 .postimage"),images_url=[],move_event=!1,exiting_url={},duplicated_url={},topic_title=$("h2.topic-title").text(),clickable=$(".postbody .pb2 .postimage, .postbody .collage .has-more");clickable.unbind("click"),clickable.on("click",function(){var cur_image=$(this).hasClass("has-more")?$(this).parents(".b").find(".postimage"):$(this),cur_image_src=cur_image.data("src")?cur_image.data("src"):cur_image.attr("src");if(cur_image_src&&!cur_image_src.match(/^https?:\/\/emoji\.tapatalk\-cdn\.com/)){$("body").css("overflow","hidden"),Object.keys(images_url).length||post_images.each(function(i){var _t=$(this),src=_t.data("src")?_t.data("src"):_t.attr("src"),aid=_t.data("attach_id");if(Object.values&&Object.values(exiting_url).indexOf(src)>=0){for(var exiting_key in exiting_url)exiting_url[exiting_key]===src&&(duplicated_url[i]=exiting_key);return!0}if(!src||src.match(/^https?:\/\/emoji\.tapatalk-cdn\.com/))return!0;exiting_url[i]=src;var post_content=_t.parents(".post_content"),image_title=_t.attr("alt"),time=post_content.find(".timespan").text(),p_id=parseInt(post_content.attr("id").substring(12)),postDataObj=eval("post_data_"+p_id),profile=$('.postprofile[data-uid="'+postDataObj.POSTER_ID+'"]'),poster_avatar=profile.find("i.avatar-bg").length&&profile.find("i.avatar-bg")[0].outerHTML,poster_name=profile.find(".thread-user-name .username, .thread-user-name .username-coloured").length&&profile.find(".thread-user-name .username, .thread-user-name .username-coloured")[0].outerHTML;images_url[i]={preview:src||BOARD_URL+"download/file.php?dt=icon&id="+aid,display:aid?BOARD_URL+"download/file.php?dt=display&id="+aid:src,download:aid?BOARD_URL+"download/file.php?id="+aid:src,username:poster_name,avatar:poster_avatar,time:time,title:image_title,count:_t.data("download"),comment:_t.data("comment"),price:_t.data("price")}});var pop=$(".carousel"),close_event=function(t){"click"!==t.type&&27!==t.keyCode||($("body").css("overflow","auto"),pop.css("display","none"))};if(!pop.length||pop.find(".img-box").length!==images_url.length){move_event=!1,pop.length&&pop.remove();var pop_wrap=$("<div></div>");pop=$('<div class="carousel"></div>').appendTo(pop_wrap);var top=$('<div class="top"></div>').appendTo(pop),btm=$('<div class="btm"></div>').appendTo(pop),b_l=$('<div class="l"></div>').appendTo(btm),b_l_t=$('<div class="t"></div>').appendTo(b_l),b_l_b=$('<div class="b"></div>').appendTo(b_l);btm.append('<div class="r"><div class="t"></div><div class="b" id="TapatalkImageViewerAd"></div></div>'),topic_title=topic_title.replace("<","&lt;"),topic_title=topic_title.replace(">","&gt;");var top_content="<div class='c'><div class='fl'>"+(topic_title||"")+"</div>"+(U_TTID&&!IS_VIP_PLUS&&VIP_PLUS_STATUS>0&&"desktop"===PHONEMODE?"<div class='fr'><span class='vip-plus-btn-event' data-type='carousel_navbar'><i class='fa fa-rocket'></i>Join VIP+</span></div>":"")+"<div class='fr'><a class='download' target='_blank'><i class='fa fa-download'></i><span>Download</span></a></div></div><div class='close'><i class='fa fa-close'></i></div>";for(var prop in top.append(top_content),top.find(".close").on("click",close_event),images_url)b_l_t.append('<div class="img-box" data-indx="'+prop+'"><a target="_blank" href="'+images_url[prop].download+'"><img src="'+images_url[prop].display+'"/></div>'),b_l_b.append("<div class='i-box' data-indx='"+prop+"'><img src='"+images_url[prop].preview+"' alt='"+images_url[prop].title+"'></div>");b_l_t.append('<div class="left"><i class="fa fa-chevron-left"></i></div>'),b_l_t.append('<div class="right"><i class="fa fa-chevron-right"></i></div>'),$("body").append(pop_wrap),"tablet"===PHONEMODE&&b_l_t.css("flex-basis",$(window).height()-top.height()-b_l_b.height()-20),"undefined"!=typeof PBHS_GetCustomAddFor&&PBHS_GetCustomAddFor("TapatalkImageViewerAd","TapatalkImageViewerAd")}if(!move_event){var roll_event=function(t){if(t.type="click"){var e=null;pop.find(".img-box").each(function(t){$(this).hasClass("active")&&(e=$(this))});var i=0;(t.type=$(this).hasClass("left"))||(t.type=37===t.keyCode)?(i=e.prev(".img-box")).length||(i=pop.find(".img-box").parent().find(".left").prev(".img-box")):(i=e.next(".img-box")).length||(i=pop.find(".img-box:first-of-type")),show_image(i.length?i.data("indx"):0)}};pop.find(".left,.right").on("click",roll_event),$("body").on("keydown",function(t){close_event(t),roll_event(t)});var btm_img=pop.find(".btm .l .b .i-box");btm_img.on("click",function(){show_image($(this).data("indx"))}),move_event=!0}var cur=parseInt(post_images.index(cur_image));void 0!==duplicated_url[cur]&&(cur=parseInt(duplicated_url[cur])),show_image(cur),pop.css("display","flex")}function show_image(t){t=parseInt(t);var e=pop.find('.img-box[data-indx="'+t+'"]'),i=pop.find(".img-box.active");i.length&&i.removeClass("active");var n=pop.find(".btm .r .t");if(n.empty(),!images_url[t])return console.warn("invalid image index",t,images_url,duplicated_url,exiting_url,post_images),!0;if(n.append('<div class="author"><div class="a1">'+images_url[t].avatar+'</div><div class="b1"><div class="b11">'+images_url[t].username+'</div><div class="b12"><span class="time">'+images_url[t].time+"</span></div></div></div>"),images_url[t].title){n.append("<div><span>"+images_url[t].title+"</span></div>");var o=images_url[t].count?"<span><i class='fa fa-download'></i>"+images_url[t].count+"</span>":"",a=images_url[t].price?"<span><i class='gold-point-icon'></i>"+images_url[t].price+"</span>":"";(o||a)&&n.append("<div>"+o+a+"</div>")}images_url[t].comment&&n.append("<div>"+images_url[t].comment+"</div>"),pop.find(".top .download").attr("href",images_url[t].download),pop.find(".btm .l .b .i-box").removeClass("active"),pop.find('.btm .l .b .i-box[data-indx="'+t+'"]').addClass("active"),e.addClass("active")}})}}var now=new Date,updateDonationCampignAccordingToNavDonation=function(){var t=$("#nav_donation");t.length<1||(t.removeClass("hide"),$("#donation_alt_block_donation").addClass("nav_donation_hidden"),$("#donation_alt_block_statistic").length>0?($("#donation_alt_block_statistic").removeClass("alt-block-top-dashed"),$("#donation_alt_block_statistic").addClass("alt-block-top-dashed-nav-hidden")):$("#donation_alt_block").addClass("nav_donation_hidden"))};function nav_donate(t){var e=$(".usd_value.donate_select").attr("data-value"),i=$(".donate_type.donate_select").attr("data-value");if(void 0==e||e<0)hs_pop_wrong("Please select the amount");else if(void 0==i||"subscribe-amount"!=i&&"onetime-amount"!=i)hs_pop_wrong("Please select the donate type");else{var n="?usd="+e+"&donate_type="+i+"&donate_from=nav_banner";gaSendEvent("donate","donate_banner","click"),newDonation(t,n)}}function close_nav_donate(){if(2!=DONATION_VISIBILITY){gaSendEvent("donate","donate_banner_close","click");var t=new Date;t.setTime(t.getTime()+2592e6),$("#nav_donation").remove(),TT.lSAva?localStorage.setItem("n_donation_hide",t.getTime()):TT.setTTOption("n_donation_hide",t.getTime(),2592e6)}}function blockquote_readmore_click(t){var e=$(t).parent();e.css("max-height","unset"),e.find("blockquote").css("max-height","unset"),e.find(".has-mask").removeClass("has-mask"),e.find(".lines-hidden").removeClass("lines-hidden"),e.addClass("click_readmore"),e.removeClass("blockquote-collapse"),$(t).remove()}function enableForumAutoRemoveAds(){var t=function(){var e=new FormData;$.ajax({url:BOARD_URL+"app.php/admin/adsremove",type:"post",data:e,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){loader.css("display","block")},error:function(t){console.log(t)},complete:function(){loader.css("display","none")},success:function(e){if(e.status){hs_popup({message:"Congrats! The forum is ads-free now. You can turn this feature off in Tapatalk Console at anytime!",refresh:!0,type:"success"})}else 10==e.code&&setupWallet("ads_remove_by_gp",function(e,i,n){e?t():(console.log("setup wallet failed"),console.log(i),console.log(n))},U_TTID,0)}})};t(),gaSendEvent("admin","ads_remove","enable")}function nav_login_message(t){if("login"==t.data.action&&$("#nav-main > .nav-button > .vertical-box > .login").click(),"join"==t.data.action&&$("#nav-main > .nav-button > .vertical-box > .register").click(),"email"==t.data.action){var e=t.data.data,i=$("#nav-register-url-data").attr("data-href")+"&channel="+e+"&type=email";window.location.href=i}if("href"==t.data.action&&(window.location.href=t.data.data),"refresh"==t.data.action&&window.location.reload(!0),"height"==t.data.action){var n=t.data.data,o=t.data.class;n<34&&(n=34),$(window).width()<375&&n<50&&(n=74),/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&"nav_login"==o&&(n=40),$("."+o).height(n+6)}if("changename"==t.data.action){var a="Hi, "+t.data.data;$(".nav_login_change_name").text(a)}"done"==t.data.action&&("ttid"==t.data.data?($(".nav_login_continue").hide(),$(".nav_login_hide").removeClass("nav_login_hide")):$(".nav_login_continue").show(),$(".nav_login_block").show(),$(".nav_message_block").attr("display","block"),$(".nav_login_change_name").show());"has_account"==t.data.action&&(window.location.href=HOME_URL+"auth.php?action=ttid_login",TT.lSAva&&EMAIL_VIP_PROMOTION&&localStorage.setItem("vip_repromotion_after_login",1))}function switch_button_status(t){void 0!==$(".button_status")&&(void 0!=t&&1==t?$(".button_status").show():$(".button_status").hide())}function check_post_container(){$(".post-profile-block ").each(function(){calculate_profile_block_height(this)})}function calculate_profile_block_height(t){var e=$(t).parent().nextAll("div[id^=p_]").first();if(void 0==typeof e||0==e.length||e.find(".post-profile-block").length>0){var i=$(t).siblings(".postbody");if(i.find(".post_content > .pb3 > .signature").length>0)var n=i.find(".post_content > .pb3").height()-i.find(".post_content > .pb3 > .signature").height();else n=i.find(".post_content > .pb3").height();if(i.height()-$(t).find(".postprofile").height()+15>n){var o=i.height()-n+15;$(t).height(o),o-=$(t).find(".postprofile").height(),i.find(".float-arrow-block").height(o)}else{if(i.height()<$(t).find(".postprofile").height()+15){var a=i.find(".post_content > .pb2").height()+$(t).find(".postprofile").height()-i.height()+15;i.find(".post_content > .pb2").css("min-height",a)}i.find(".float-arrow-block").height("0")}return!0}for(;e.nextAll("div[id^=p_]").length>0&&0==e.find(".post-profile-block").length;)e=e.nextAll("div[id^=p_]").first();if(0==$(t).parent().nextAll(".has-profile-block").length){if(e.find(".post_content > .pb3 > .signature").length>0)n=e.find(".post_content > .pb3").height()-e.find(".post_content > .pb3 > .signature").height();else n=e.find(".post_content > .pb3").height();o=e.height()+e.offset().top-$(t).parent().offset().top-n;(s=e.height()-$(t).find(".postprofile").height()-n)>0?$(t).parent().nextAll("div[id^=p_]").last().find(".float-arrow-block").height(s):$(t).parent().nextAll("div[id^=p_]").last().find(".float-arrow-block").height("0")}else{var r=e.prevAll("div[id^=p_]").first();if(e.find(".post_content > .pb3 > .signature").length>0)n=r.find(".post_content > .pb3").height()-r.find(".post_content > .pb3 > .signature").height();else n=r.find(".post_content > .pb3").height();var s;o=r.height()+r.offset().top-$(t).parent().offset().top-n;(s=r.height()-$(t).find(".postprofile").height()-n)>0?r.find(".float-arrow-block").height(s):r.find(".float-arrow-block").height(0)}$(t).height()<o&&$(t).height(o)}function share_gaSendEvent(t,e,i){if("viewforum"==SCRIPT_NAME)gaSendEvent("share_forum",e,i);else if($(t).parents(".viewtopic_wrapper").length>0){gaSendEvent("share_post",e,i);var n=$(t),o=removeParam("sid",$('meta[property="og:url"]').attr("content")),a=$('meta[property="og:title"]').attr("content"),r=($(window).width()-550)/2;r<0&&(r=0);var s=($(window).height()-450)/2;s<0&&(s=0);var c="left="+r+",top="+s+",width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0";n.hasClass("fb")?window.open("//www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(o)+"&text="+encodeURIComponent(a),"",c):n.hasClass("tw")?window.open("//twitter.com/share?url="+encodeURIComponent(o)+"&text="+encodeURIComponent(a),"",c):n.hasClass("tl")&&window.open("//www.tumblr.com/widgets/share/tool?canonicalUrl="+encodeURIComponent(o)+"&title="+encodeURIComponent(a)+"&posttype=link","",c)}else gaSendEvent("share_topic",e,i)}function append_endoftopicbar(){$("div[name='endoftopicbar']").length>0&&!$("div[name='endoftopicbar']").hasClass("hide")?($("div[name='endoftopicbar']").addClass("endoftopicbar-share-bottom"),$(".share_icon_area").removeClass("hide"),$(".share_icon_area").addClass("endoftopicbar-share-top")):$(".share_icon_area").hasClass("hide")&&($(".share_icon_area").removeClass("hide"),$(".share_icon_area").addClass("endoftopicbar-only-share"))}function refresh(){window.location.reload(!0)}function DecorateAvatar(){$(".avatar-frame-hat").unbind("click"),$(".avatar-frame-hat").on("click",function(t){hs_purchase_hat("hat",!1,0)}),$(".post_card_bg").unbind("click"),$(".post_card_bg").on("click",function(t){hs_purchase_card("card",!1,0)})}function GenerateBottomNotificationBar(){$("#sticky-float-bottom").html('    <div id="sticky-float-bottom-bar" class="sticky-float-bottom-bar">\n        <div id="sticky-float-bottom-bar-icon-frame" class="sticky-float-bottom-bar-icon" > <div id="sticky-float-bottom-bar-icon" class=""></div> </div>\n        <div class="sticky-float-bottom-bar-action ">\n            <button type="button" class="sticky-float-bottom-bar-close close" onclick="HideBottomNotifcationBar();gaSendEvent(\'notificaion\',\'floating\',\'close\');">  </button>\n            <button id="sticky-float-bottom-bar-button" class="button specialbutton tapatalk-theme-background" onclick="gaSendEvent(\'notificaion\',\'floating\',\'click\');"></button>\n        </div>\n        <div class="sticky-float-bottom-bar-content ">\n            <p id="sticky-float-bottom-bar-title" class="float-bar-title checkbox" ></p>\n            <p id="sticky-float-bottom-bar-content" class="float-bar-content checkbox" ></p>\n        </div>\n        <div id="sticky-float-bottom-bar-checkbox" class="float-bar-checkbox">\n            <input type="checkbox" id="dont_show_float_notification_anymore" value="" style="margin-right: 8px;">Don\'t show this message anymore.\n        </div>\n    </div>\n')}function ShowBottomNotifcationBar(t,e,i,n,o,a,r){if(GenerateBottomNotificationBar(),r&&TT.lSAva){if(TT.storage.getItem("float_notification_suppressed"))return;$("#dont_show_float_notification_anymore").off("click",function(){}),$("#dont_show_float_notification_anymore").on("click",function(t){$(this).prop("checked")?TT.storage.setItem("float_notification_suppressed","1"):TT.storage.removeItem("float_notification_suppressed")})}$("#sticky-float-bottom-bar-icon").removeClass(),$("#sticky-float-bottom-bar-icon-frame").removeClass("sticky-float-bottom-bar-icon-placeholder"),e.length>0?($("#sticky-float-bottom-bar-icon").addClass(e),$("#sticky-float-bottom-bar-icon").show()):($("#sticky-float-bottom-bar-icon-frame").addClass("sticky-float-bottom-bar-icon-placeholder"),$("#sticky-float-bottom-bar-icon").hide()),$("#sticky-float-bottom-bar-title").html(i),$("#sticky-float-bottom-bar-content").html(n),r?($("#sticky-float-bottom-bar-title").addClass("checkbox"),$("#sticky-float-bottom-bar-content").addClass("checkbox"),$("#sticky-float-bottom-bar-checkbox").show()):($("#sticky-float-bottom-bar-title").removeClass("checkbox"),$("#sticky-float-bottom-bar-content").removeClass("checkbox"),$("#sticky-float-bottom-bar-checkbox").hide()),$("#sticky-float-bottom-bar-button").off("click",function(){}),gaSendEvent("notificaion","floating","show"),o&&o.length>0?($("#sticky-float-bottom-bar-button").removeClass("hide"),$("#sticky-float-bottom-bar-button").html(o),a&&a.length>0?$("#sticky-float-bottom-bar-button").attr("href",a):$("#sticky-float-bottom-bar-button").attr("href","javascript:HideBottomNotifcationBar()"),$("#sticky-float-bottom-bar-button").on("click",function(){window.location.href=$(this).attr("href")})):$("#sticky-float-bottom-bar-button").addClass("hide");var s=null;$("#sticky-float-bottom").animate({display:"block"},function(){$("#sticky-float-bottom").animate({bottom:"0px"});var e=0;t>0&&(e=1e3*t),e&&(s=setTimeout(function(){HideBottomNotifcationBar()},e))}),$("#sticky-float-bottom-bar").mouseover(function(){s&&(clearTimeout(s),s=null)}),$("#sticky-float-bottom-bar").mouseout(function(){s&&(clearTimeout(s),s=null),s=setTimeout(function(){HideBottomNotifcationBar()},1e3)})}function HideBottomNotifcationBar(){$("#sticky-float-bottom").animate({bottom:"-150px"},function(){$("#sticky-float-bottom").css("display","none")})}function CheckElementOfClassOnScreen(t,e){if(!($("."+t).length<1)){var i=$("."+t).offset().top,n=$("."+t).offset().top+$("."+t).outerHeight(),o=$(window).scrollTop()+$(window).innerHeight(),a=$(window).scrollTop();if(o>i&&a<n)e&&e();else{var r=!1;$(window).scroll(function(){if(!r){var i=$("."+t).offset().top,n=$("."+t).offset().top+$("."+t).outerHeight(),o=$(window).scrollTop()+$(window).innerHeight(),a=$(window).scrollTop();o>i&&a<n&&(r=!0,e&&e())}})}}}function CheckHintBubble(t){if(!TT.lSAva)return!1;if(0==GOLD_POINT_ENABLED)return!1;var e=null,i=null,n=null,o=0,a="",r="",s="",c=0;switch(t){case 1:e="member_post_new_topic",i="task_create_topic_visible",n="task_create_topic_done",o=16,a="create-topic",r="Make your first topic to earn 20 Gold Points!",s="bubble_task_create_topic",c=10;break;case 2:e="member_post_new_reply",i="task_create_reply_visible",n="task_create_reply_done",o=17,a="create-reply",r="Make your first reply to earn 5 Gold Points!",s="bubble_task_create_reply",c=10;break;case 3:e="member_post_first_like",i="task_first_like_visible",n="task_first_like_done",o=18,a="like-post",r="Like a post to earn 5 Gold Points!",s="bubble_task_first_like",c=20;break;default:return}if(localStorage.getItem(n))return!1;CheckElementOfClassOnScreen(e,function(){var t=localStorage.getItem(i);if(t++,localStorage.setItem(i,parseInt(t)),5==t||10==t||15==t){var e=new FormData;e.append("task_id",o),$.ajax({url:U_GET_TASK_STATUS,type:"post",data:e,dataType:"json",processData:!1,contentType:!1,success:function(t){if(t.status)if(0==t.task_status){var e=function(){$("#"+s).fadeOut(500,function(){$("#"+s).html(""),$("#"+s).removeClass()})};setTimeout(function(){var t='            <div class="speech-bubble '+a+'">\n                <div class="speech-goldpoint-coin"></div>\n                <div class="speech-task-desc">'+r+"</div>\n            </div>\n";$("#"+s).html(t),$("#"+s).addClass("speech-task-bubble "+a),$("#"+s).fadeIn(500,function(){var t=setTimeout(function(){e()},1e3*c);$("#"+s).mouseover(function(){t&&(clearTimeout(t),t=null)}),$("#"+s).mouseout(function(){t&&(clearTimeout(t),t=null),t=setTimeout(function(){e()},1e3)})})},1e3)}else localStorage.setItem(n,1);else localStorage.setItem(n,1),t.error&&console.warn("Error:"+t.error)},error:function(t){console.log(t)}})}})}if(TT.lSAva?(localStorage.getItem("n_donation_hide")<=now.getTime()&&1==DONATION_VISIBILITY||2==DONATION_VISIBILITY)&&updateDonationCampignAccordingToNavDonation():(TT.getTTOption("n_donation_hide")<=now.getTime()&&1==DONATION_VISIBILITY||2==DONATION_VISIBILITY)&&updateDonationCampignAccordingToNavDonation(),$(".usd_value").on("click",function(){$(".usd_value").removeClass("donate_select"),$(this).addClass("donate_select")}),$(".donate_type").on("click",function(){$(".donate_type").removeClass("donate_select"),$(this).addClass("donate_select")}),window.twttr=function(t,e,i){var n,o=t.getElementsByTagName("script")[0],a=window.twttr||{};return t.getElementById(i)?a:((n=t.createElement("script")).id=i,n.src="//platform.twitter.com/widgets.js",o.parentNode.insertBefore(n,o),a._e=[],a.ready=function(t){a._e.push(t)},a)}(document,0,"twitter-wjs"),$(document).ready(function(){setTimeout(function(){try{twttr.events.bind("click",function(t){gaSendEvent("share-topic","twitter")})}catch(t){}},1e3),$.getScript("//connect.facebook.net/en_UK/all.js",function(){FB.init({appId:"469687153111700",status:!0,cookie:!0,xfbml:!0,oauth:!0}),FB.Event.subscribe("edge.create",function(){gaSendEvent("share-topic","recommend")})})}),"function"!=typeof getFullConfigData)function getFullConfigData(){if($(".config_data_for_js").length>0)return JSON.parse($(".config_data_for_js").attr("data-for-js"))}var topicDataObj=void 0,configDataObj=void 0;function fast_register(t,e){gaSendEvent("one-click-join",t,"start"),window.location.href=void 0==e?BOARD_URL+"auth.php?action=ttid_login&fast_register=1&action_url="+encodeURIComponent(window.location.href):BOARD_URL+"auth.php?action=ttid_login&fast_register=1&action_url="+encodeURIComponent(e)}$(document).ready(function(){DecorateAvatar(),configDataObj=getFullConfigData()}),"object"!=typeof JSON_PIWIK&&"object"==typeof window.JSON&&window.JSON.stringify&&window.JSON.parse?JSON_PIWIK=window.JSON:function(){var t={};(function(){var e="function"==typeof define&&define.amd,i={function:!0,object:!0},n=i[typeof t]&&t&&!t.nodeType&&t,o=i[typeof window]&&window||this,a=n&&i[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;function r(t,e){t||(t=o.Object()),e||(e=o.Object());var n=t.Number||o.Number,a=t.String||o.String,s=t.Object||o.Object,c=t.Date||o.Date,l=t.SyntaxError||o.SyntaxError,d=t.TypeError||o.TypeError,u=t.Math||o.Math,p=t.JSON||o.JSON;"object"==typeof p&&p&&(e.stringify=p.stringify,e.parse=p.parse);var f,h,_,g=s.prototype,m=g.toString,v=new c(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(t){}function b(t){if(b[t]!==_)return b[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=b("json-stringify")&&b("json-parse");else{var o,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var s=e.stringify,l="function"==typeof s&&v;if(l){(o=function(){return 1}).toJSON=o;try{l="0"===s(0)&&"0"===s(new n)&&'""'==s(new a)&&s(m)===_&&s(_)===_&&s()===_&&"1"===s(o)&&"[1]"==s([o])&&"[null]"==s([_])&&"null"==s(null)&&"[null,null,null]"==s([_,m,null])&&s({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===s(null,o)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new c(-1))}catch(t){l=!1}}i=l}if("json-parse"==t){var d=e.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){var u=5==(o=d(r)).a.length&&1===o.a[0];if(u){try{u=!d('"\t"')}catch(t){}if(u)try{u=1!==d("01")}catch(t){}if(u)try{u=1!==d("1.")}catch(t){}}}}catch(t){u=!1}i=u}}return b[t]=!!i}if(!b("json")){var w="[object Function]",y="[object Number]",k="[object String]",T="[object Array]",C=b("bug-string-char-index");if(!v)var I=u.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(t,e){return A[e]+365*(t-1970)+I((t-1969+(e=+(e>1)))/4)-I((t-1901+e)/100)+I((t-1601+e)/400)};if((f=g.hasOwnProperty)||(f=function(t){var e,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=m?f=function(t){var e=this.__proto__,i=t in(this.__proto__=null,this);return this.__proto__=e,i}:(e=i.constructor,f=function(t){var i=(this.constructor||e).prototype;return t in this&&!(t in i&&this[t]===i[t])}),i=null,f.call(this,t)}),h=function(t,e){var n,o,a,r=0;for(a in(n=function(){this.valueOf=0}).prototype.valueOf=0,o=new n)f.call(o,a)&&r++;return n=o=null,r?h=2==r?function(t,e){var i,n={},o=m.call(t)==w;for(i in t)o&&"prototype"==i||f.call(n,i)||!(n[i]=1)||!f.call(t,i)||e(i)}:function(t,e){var i,n,o=m.call(t)==w;for(i in t)o&&"prototype"==i||!f.call(t,i)||(n="constructor"===i)||e(i);(n||f.call(t,i="constructor"))&&e(i)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(t,e){var n,a,r=m.call(t)==w,s=!r&&"function"!=typeof t.constructor&&i[typeof t.hasOwnProperty]&&t.hasOwnProperty||f;for(n in t)r&&"prototype"==n||!s.call(t,n)||e(n);for(a=o.length;n=o[--a];s.call(t,n)&&e(n));}),h(t,e)},!b("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},O=function(t,e){return("000000"+(e||0)).slice(-t)},$=function(t){for(var e='"',i=0,n=t.length,o=!C||n>10,a=o&&(C?t.split(""):t);i<n;i++){var r=t.charCodeAt(i);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=S[r];break;default:if(r<32){e+="\\u00"+O(2,r.toString(16));break}e+=o?a[i]:t.charAt(i)}}return e+'"'},x=function(t,e,i,n,o,a,r){var s,c,l,u,p,g,v,b,w,C,A,S,D,N,P,R;try{s=e[t]}catch(t){}if("object"==typeof s&&s)if("[object Date]"!=(c=m.call(s))||f.call(s,"toJSON"))"function"==typeof s.toJSON&&(c!=y&&c!=k&&c!=T||f.call(s,"toJSON"))&&(s=s.toJSON(t));else if(s>-1/0&&s<1/0){if(E){for(p=I(s/864e5),l=I(p/365.2425)+1970-1;E(l+1,0)<=p;l++);for(u=I((p-E(l,0))/30.42);E(l,u+1)<=p;u++);p=1+p-E(l,u),v=I((g=(s%864e5+864e5)%864e5)/36e5)%24,b=I(g/6e4)%60,w=I(g/1e3)%60,C=g%1e3}else l=s.getUTCFullYear(),u=s.getUTCMonth(),p=s.getUTCDate(),v=s.getUTCHours(),b=s.getUTCMinutes(),w=s.getUTCSeconds(),C=s.getUTCMilliseconds();s=(l<=0||l>=1e4?(l<0?"-":"+")+O(6,l<0?-l:l):O(4,l))+"-"+O(2,u+1)+"-"+O(2,p)+"T"+O(2,v)+":"+O(2,b)+":"+O(2,w)+"."+O(3,C)+"Z"}else s=null;if(i&&(s=i.call(e,t,s)),null===s)return"null";if("[object Boolean]"==(c=m.call(s)))return""+s;if(c==y)return s>-1/0&&s<1/0?""+s:"null";if(c==k)return $(""+s);if("object"==typeof s){for(N=r.length;N--;)if(r[N]===s)throw d();if(r.push(s),A=[],P=a,a+=o,c==T){for(D=0,N=s.length;D<N;D++)S=x(D,s,i,n,o,a,r),A.push(S===_?"null":S);R=A.length?o?"[\n"+a+A.join(",\n"+a)+"\n"+P+"]":"["+A.join(",")+"]":"[]"}else h(n||s,function(t){var e=x(t,s,i,n,o,a,r);e!==_&&A.push($(t)+":"+(o?" ":"")+e)}),R=A.length?o?"{\n"+a+A.join(",\n"+a)+"\n"+P+"}":"{"+A.join(",")+"}":"{}";return r.pop(),R}};e.stringify=function(t,e,n){var o,a,r,s;if(i[typeof e]&&e)if((s=m.call(e))==w)a=e;else if(s==T){r={};for(var c,l=0,d=e.length;l<d;c=e[l++],((s=m.call(c))==k||s==y)&&(r[c]=1));}if(n)if((s=m.call(n))==y){if((n-=n%1)>0)for(o="",n>10&&(n=10);o.length<n;o+=" ");}else s==k&&(o=n.length<=10?n:n.slice(0,10));return x("",((c={})[""]=t,c),a,r,o,"",[])}}if(!b("json-parse")){var D,N,P=a.fromCharCode,R={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},L=function(){throw D=N=null,l()},U=function(){for(var t,e,i,n,o,a=N,r=a.length;D<r;)switch(o=a.charCodeAt(D)){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=C?a.charAt(D):a[D],D++,t;case 34:for(t="@",D++;D<r;)if((o=a.charCodeAt(D))<32)L();else if(92==o)switch(o=a.charCodeAt(++D)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=R[o],D++;break;case 117:for(e=++D,i=D+4;D<i;D++)(o=a.charCodeAt(D))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||L();t+=P("0x"+a.slice(e,D));break;default:L()}else{if(34==o)break;for(o=a.charCodeAt(D),e=D;o>=32&&92!=o&&34!=o;)o=a.charCodeAt(++D);t+=a.slice(e,D)}if(34==a.charCodeAt(D))return D++,t;L();default:if(e=D,45==o&&(n=!0,o=a.charCodeAt(++D)),o>=48&&o<=57){for(48==o&&((o=a.charCodeAt(D+1))>=48&&o<=57)&&L(),n=!1;D<r&&((o=a.charCodeAt(D))>=48&&o<=57);D++);if(46==a.charCodeAt(D)){for(i=++D;i<r&&((o=a.charCodeAt(i))>=48&&o<=57);i++);i==D&&L(),D=i}if(101==(o=a.charCodeAt(D))||69==o){for(43!=(o=a.charCodeAt(++D))&&45!=o||D++,i=D;i<r&&((o=a.charCodeAt(i))>=48&&o<=57);i++);i==D&&L(),D=i}return+a.slice(e,D)}if(n&&L(),"true"==a.slice(D,D+4))return D+=4,!0;if("false"==a.slice(D,D+5))return D+=5,!1;if("null"==a.slice(D,D+4))return D+=4,null;L()}return"$"},F=function(t){var e,i;if("$"==t&&L(),"string"==typeof t){if("@"==(C?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=U());i||(i=!0))i&&(","==t?"]"==(t=U())&&L():L()),","==t&&L(),e.push(F(t));return e}if("{"==t){for(e={};"}"!=(t=U());i||(i=!0))i&&(","==t?"}"==(t=U())&&L():L()),","!=t&&"string"==typeof t&&"@"==(C?t.charAt(0):t[0])&&":"==U()||L(),e[t.slice(1)]=F(U());return e}L()}return t},j=function(t,e,i){var n=H(t,e,i);n===_?delete t[e]:t[e]=n},H=function(t,e,i){var n,o=t[e];if("object"==typeof o&&o)if(m.call(o)==T)for(n=o.length;n--;)j(o,n,i);else h(o,function(t){j(o,t,i)});return i.call(t,e,o)};e.parse=function(t,e){var i,n;return D=0,N=""+t,i=F(U()),"$"!=U()&&L(),D=N=null,e&&m.call(e)==w?H(((n={})[""]=i,n),"",e):i}}}return e.runInContext=r,e}if(!a||a.global!==a&&a.window!==a&&a.self!==a||(o=a),n&&!e)r(o,n);else{var s=o.JSON,c=o.JSON3,l=!1,d=r(o,o.JSON3={noConflict:function(){return l||(l=!0,o.JSON=s,o.JSON3=c,s=c=null),d}});o.JSON={parse:d.parse,stringify:d.stringify}}e&&define(function(){return d})}).call(this),JSON_PIWIK=t}(),"object"!=typeof _paq&&(_paq=[]),"object"!=typeof window.Piwik&&(window.Piwik=function(){"use strict";var expireDateTime,plugins={},eventHandlers={},documentAlias=document,navigatorAlias=navigator,screenAlias=screen,windowAlias=window,performanceAlias=windowAlias.performance||windowAlias.mozPerformance||windowAlias.msPerformance||windowAlias.webkitPerformance,encodeWrapper=windowAlias.encodeURIComponent,decodeWrapper=windowAlias.decodeURIComponent,urldecode=unescape,asyncTrackers=[],iterator,Piwik,missedPluginTrackerCalls=[],coreConsentCounter=0,isPageUnloading=!1;function safeDecodeWrapper(t){try{return decodeWrapper(t)}catch(e){return unescape(t)}}function isDefined(t){return"undefined"!==typeof t}function isFunction(t){return"function"==typeof t}function isObject(t){return"object"==typeof t}function isString(t){return"string"==typeof t||t instanceof String}function isObjectEmpty(t){if(!t)return!0;var e,i=!0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i=!1);return i}function logConsoleError(t){"undefined"!==typeof console&&console&&console.error&&console.error(t)}function apply(){var t,e,i,n,o;for(t=0;t<arguments.length;t+=1){var a,r;if(o=null,arguments[t]&&arguments[t].slice&&(o=arguments[t].slice()),isString(i=(n=arguments[t]).shift())&&i.indexOf("::")>0)r=(a=i.split("::"))[0],i=a[1],"object"==typeof Piwik[r]&&"function"==typeof Piwik[r][i]?Piwik[r][i].apply(Piwik[r],n):o&&missedPluginTrackerCalls.push(o);else for(e=0;e<asyncTrackers.length;e++)if(isString(i)){r=asyncTrackers[e];var s=i.indexOf(".")>0;if(s)if(a=i.split("."),r&&"object"==typeof r[a[0]])r=r[a[0]],i=a[1];else if(o){missedPluginTrackerCalls.push(o);break}if(r[i])r[i].apply(r,n);else{var c="The method '"+i+'\' was not found in "_paq" variable.  Please have a look at the Piwik tracker documentation: https://developer.piwik.org/api-reference/tracking-javascript';if(logConsoleError(c),!s)throw new TypeError(c)}if("addTracker"===i)break;if("setTrackerUrl"===i||"setSiteId"===i)break}else i.apply(asyncTrackers[e],n)}}function addEventListener(t,e,i,n){return t.addEventListener?(t.addEventListener(e,i,n),!0):t.attachEvent?t.attachEvent("on"+e,i):void(t["on"+e]=i)}function trackCallbackOnLoad(t){"complete"===documentAlias.readyState?t():windowAlias.addEventListener?windowAlias.addEventListener("load",t):windowAlias.attachEvent&&windowAlias.attachEvent("onload",t)}function trackCallbackOnReady(t){var e=!1;(e=documentAlias.attachEvent?"complete"===documentAlias.readyState:"loading"!==documentAlias.readyState)?t():(documentAlias.addEventListener?addEventListener(documentAlias,"DOMContentLoaded",function i(){documentAlias.removeEventListener("DOMContentLoaded",i,!1),e||(e=!0,t())}):documentAlias.attachEvent&&(documentAlias.attachEvent("onreadystatechange",function i(){"complete"===documentAlias.readyState&&(documentAlias.detachEvent("onreadystatechange",i),e||(e=!0,t()))}),documentAlias.documentElement.doScroll&&windowAlias===windowAlias.top&&function i(){if(!e){try{documentAlias.documentElement.doScroll("left")}catch(t){return void setTimeout(i,0)}e=!0,t()}}()),addEventListener(windowAlias,"load",function(){e||(e=!0,t())},!1))}function executePluginMethod(t,e,i){if(!t)return"";var n,o,a="";for(n in plugins)Object.prototype.hasOwnProperty.call(plugins,n)&&(plugins[n]&&"function"==typeof plugins[n][t])&&(o=(0,plugins[n][t])(e||{},i))&&(a+=o);return a}function beforeUnloadHandler(){var t;if(isPageUnloading=!0,executePluginMethod("unload"),expireDateTime)do{t=new Date}while(t.getTimeAlias()<expireDateTime)}function loadScript(t,e){var i=documentAlias.createElement("script");i.type="text/javascript",i.src=t,i.readyState?i.onreadystatechange=function(){var t=this.readyState;"loaded"!==t&&"complete"!==t||(i.onreadystatechange=null,e())}:i.onload=e,documentAlias.getElementsByTagName("head")[0].appendChild(i)}function getReferrer(){var t="";try{t=windowAlias.top.document.referrer}catch(e){if(windowAlias.parent)try{t=windowAlias.parent.document.referrer}catch(e){t=""}}return""===t&&(t=documentAlias.referrer),t}function getProtocolScheme(t){var e=new RegExp("^([a-z]+):").exec(t);return e?e[1]:null}function getHostName(t){var e=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(t);return e?e[1]:t}function stringStartsWith(t,e){return 0===(t=String(t)).lastIndexOf(e,0)}function stringEndsWith(t,e){return-1!==(t=String(t)).indexOf(e,t.length-e.length)}function stringContains(t,e){return-1!==(t=String(t)).indexOf(e)}function removeCharactersFromEndOfString(t,e){return(t=String(t)).substr(0,t.length-e)}function addUrlParameter(t,e,i){t=String(t),i||(i="");var n=t.indexOf("#"),o=t.length;-1===n&&(n=o);var a=t.substr(0,n),r=t.substr(n,o-n);return-1===a.indexOf("?")?a+="?":stringEndsWith(a,"?")||(a+="&"),a+encodeWrapper(e)+"="+encodeWrapper(i)+r}function removeUrlParameter(t,e){if(-1===(t=String(t)).indexOf("?"+e+"=")&&-1===t.indexOf("&"+e+"="))return t;var i=t.indexOf("?");if(-1===i)return t;var n=t.substr(i+1),o=t.substr(0,i);if(n){var a="",r=n.indexOf("#");-1!==r&&(a=n.substr(r+1),n=n.substr(0,r));for(var s=n.split("&"),c=s.length-1;c>=0;c--)s[c].split("=")[0]===e&&s.splice(c,1);var l=s.join("&");l&&(o=o+"?"+l),a&&(o+="#"+a)}return o}function getUrlParameter(t,e){var i=new RegExp("[\\?&#]"+e+"=([^&#]*)").exec(t);return i?decodeWrapper(i[1]):""}function trim(t){return t&&String(t)===t?t.replace(/^\s+|\s+$/g,""):t}function utf8_encode(t){return unescape(encodeWrapper(t))}function sha1(t){var e,i,n,o,a,r,s,c,l,d,u=function(t,e){return t<<e|t>>>32-e},p=function(t){var e,i="";for(e=7;e>=0;e--)i+=(t>>>4*e&15).toString(16);return i},f=[],h=1732584193,_=4023233417,g=2562383102,m=271733878,v=3285377520,b=[];for(d=(t=utf8_encode(t)).length,i=0;i<d-3;i+=4)n=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),b.push(n);switch(3&d){case 0:i=2147483648;break;case 1:i=t.charCodeAt(d-1)<<24|8388608;break;case 2:i=t.charCodeAt(d-2)<<24|t.charCodeAt(d-1)<<16|32768;break;case 3:i=t.charCodeAt(d-3)<<24|t.charCodeAt(d-2)<<16|t.charCodeAt(d-1)<<8|128}for(b.push(i);14!=(15&b.length);)b.push(0);for(b.push(d>>>29),b.push(d<<3&4294967295),e=0;e<b.length;e+=16){for(i=0;i<16;i++)f[i]=b[e+i];for(i=16;i<=79;i++)f[i]=u(f[i-3]^f[i-8]^f[i-14]^f[i-16],1);for(o=h,a=_,r=g,s=m,c=v,i=0;i<=19;i++)l=u(o,5)+(a&r|~a&s)+c+f[i]+1518500249&4294967295,c=s,s=r,r=u(a,30),a=o,o=l;for(i=20;i<=39;i++)l=u(o,5)+(a^r^s)+c+f[i]+1859775393&4294967295,c=s,s=r,r=u(a,30),a=o,o=l;for(i=40;i<=59;i++)l=u(o,5)+(a&r|a&s|r&s)+c+f[i]+2400959708&4294967295,c=s,s=r,r=u(a,30),a=o,o=l;for(i=60;i<=79;i++)l=u(o,5)+(a^r^s)+c+f[i]+3395469782&4294967295,c=s,s=r,r=u(a,30),a=o,o=l;h=h+o&4294967295,_=_+a&4294967295,g=g+r&4294967295,m=m+s&4294967295,v=v+c&4294967295}return(l=p(h)+p(_)+p(g)+p(m)+p(v)).toLowerCase()}function urlFixup(t,e,i){return t||(t=""),e||(e=""),"translate.googleusercontent.com"===t?(""===i&&(i=e),t=getHostName(e=getUrlParameter(e,"u"))):"cc.bingj.com"!==t&&"webcache.googleusercontent.com"!==t&&"74.6."!==t.slice(0,5)||(t=getHostName(e=documentAlias.links[0].href)),[t,e,i]}function domainFixup(t){var e=t.length;return"."===t.charAt(--e)&&(t=t.slice(0,e)),"*."===t.slice(0,2)&&(t=t.slice(1)),-1!==t.indexOf("/")&&(t=t.substr(0,t.indexOf("/"))),t}function titleFixup(t){if(!isString(t=t&&t.text?t.text:t)){var e=documentAlias.getElementsByTagName("title");e&&isDefined(e[0])&&(t=e[0].text)}return t}function getChildrenFromNode(t){return t?!isDefined(t.children)&&isDefined(t.childNodes)?t.children:isDefined(t.children)?t.children:[]:[]}function containsNodeElement(t,e){return!(!t||!e)&&(t.contains?t.contains(e):t===e||!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e)))}function indexOfArray(t,e){if(t&&t.indexOf)return t.indexOf(e);if(!isDefined(t)||null===t)return-1;if(!t.length)return-1;var i=t.length;if(0===i)return-1;for(var n=0;n<i;){if(t[n]===e)return n;n++}return-1}function isVisible(t){if(!t)return!1;function e(t,e){return windowAlias.getComputedStyle?documentAlias.defaultView.getComputedStyle(t,null)[e]:t.currentStyle?t.currentStyle[e]:void 0}return function i(n,o,a,r,s,c,l){var d=n.parentNode;return!!function(t){for(t=t.parentNode;t;){if(t===documentAlias)return!0;t=t.parentNode}return!1}(n)&&(9===d.nodeType||"0"!==e(n,"opacity")&&"none"!==e(n,"display")&&"hidden"!==e(n,"visibility")&&(isDefined(o)&&isDefined(a)&&isDefined(r)&&isDefined(s)&&isDefined(c)&&isDefined(l)||(o=n.offsetTop,s=n.offsetLeft,r=o+n.offsetHeight,a=s+n.offsetWidth,c=n.offsetWidth,l=n.offsetHeight),(t!==n||0!==l&&0!==c||"hidden"!==e(n,"overflow"))&&(!d||("hidden"!==e(d,"overflow")&&"scroll"!==e(d,"overflow")||!(s+1>d.offsetWidth+d.scrollLeft||s+c-1<d.scrollLeft||o+1>d.offsetHeight+d.scrollTop||o+l-1<d.scrollTop))&&(n.offsetParent===d&&(s+=d.offsetLeft,o+=d.offsetTop),i(d,o,a,r,s,c,l)))))}(t)}var query={htmlCollectionToArray:function(t){var e,i=[];if(!t||!t.length)return i;for(e=0;e<t.length;e++)i.push(t[e]);return i},find:function(t){if(!document.querySelectorAll||!t)return[];var e=document.querySelectorAll(t);return this.htmlCollectionToArray(e)},findMultiple:function(t){if(!t||!t.length)return[];var e,i,n=[];for(e=0;e<t.length;e++)i=this.find(t[e]),n=n.concat(i);return n=this.makeNodesUnique(n)},findNodesByTagName:function(t,e){if(!t||!e||!t.getElementsByTagName)return[];var i=t.getElementsByTagName(e);return this.htmlCollectionToArray(i)},makeNodesUnique:function(t){var e=[].concat(t);if(t.sort(function(t,i){if(t===i)return 0;var n=indexOfArray(e,t),o=indexOfArray(e,i);return n===o?0:n>o?-1:1}),t.length<=1)return t;var i,n=0,o=0,a=[];for(i=t[n++];i;)i===t[n]&&(o=a.push(n)),i=t[n++]||null;for(;o--;)t.splice(a[o],1);return t},getAttributeValueFromNode:function(t,e){if(this.hasNodeAttribute(t,e)){if(t&&t.getAttribute)return t.getAttribute(e);if(t&&t.attributes)if("undefined"!==typeof t.attributes[e]){if(t.attributes[e].value)return t.attributes[e].value;if(t.attributes[e].nodeValue)return t.attributes[e].nodeValue;var i,n=t.attributes;if(n){for(i=0;i<n.length;i++)if(n[i].nodeName===e)return n[i].nodeValue;return null}}}},hasNodeAttributeWithValue:function(t,e){return!!this.getAttributeValueFromNode(t,e)},hasNodeAttribute:function(t,e){return t&&t.hasAttribute?t.hasAttribute(e):!(!t||!t.attributes)&&"undefined"!==typeof t.attributes[e]},hasNodeCssClass:function(t,e){if(t&&e&&t.className&&-1!==indexOfArray("string"==typeof t.className?t.className.split(" "):[],e))return!0;return!1},findNodesHavingAttribute:function(t,e,i){if(i||(i=[]),!t||!e)return i;var n,o,a=getChildrenFromNode(t);if(!a||!a.length)return i;for(n=0;n<a.length;n++)o=a[n],this.hasNodeAttribute(o,e)&&i.push(o),i=this.findNodesHavingAttribute(o,e,i);return i},findFirstNodeHavingAttribute:function(t,e){if(t&&e){if(this.hasNodeAttribute(t,e))return t;var i=this.findNodesHavingAttribute(t,e);return i&&i.length?i[0]:void 0}},findFirstNodeHavingAttributeWithValue:function(t,e){if(t&&e){if(this.hasNodeAttributeWithValue(t,e))return t;var i,n=this.findNodesHavingAttribute(t,e);if(n&&n.length)for(i=0;i<n.length;i++)if(this.getAttributeValueFromNode(n[i],e))return n[i]}},findNodesHavingCssClass:function(t,e,i){if(i||(i=[]),!t||!e)return i;if(t.getElementsByClassName){var n=t.getElementsByClassName(e);return this.htmlCollectionToArray(n)}var o,a,r=getChildrenFromNode(t);if(!r||!r.length)return[];for(o=0;o<r.length;o++)a=r[o],this.hasNodeCssClass(a,e)&&i.push(a),i=this.findNodesHavingCssClass(a,e,i);return i},findFirstNodeHavingClass:function(t,e){if(t&&e){if(this.hasNodeCssClass(t,e))return t;var i=this.findNodesHavingCssClass(t,e);return i&&i.length?i[0]:void 0}},isLinkElement:function(t){if(!t)return!1;return-1!==indexOfArray(["a","area"],String(t.nodeName).toLowerCase())},setAnyAttribute:function(t,e,i){t&&e&&(t.setAttribute?t.setAttribute(e,i):t[e]=i)}},content={CONTENT_ATTR:"data-track-content",CONTENT_CLASS:"piwikTrackContent",CONTENT_NAME_ATTR:"data-content-name",CONTENT_PIECE_ATTR:"data-content-piece",CONTENT_PIECE_CLASS:"piwikContentPiece",CONTENT_TARGET_ATTR:"data-content-target",CONTENT_TARGET_CLASS:"piwikContentTarget",CONTENT_IGNOREINTERACTION_ATTR:"data-content-ignoreinteraction",CONTENT_IGNOREINTERACTION_CLASS:"piwikContentIgnoreInteraction",location:void 0,findContentNodes:function(){var t="."+this.CONTENT_CLASS,e="["+this.CONTENT_ATTR+"]";return query.findMultiple([t,e])},findContentNodesWithinNode:function(t){if(!t)return[];var e,i=query.findNodesHavingCssClass(t,this.CONTENT_CLASS),n=query.findNodesHavingAttribute(t,this.CONTENT_ATTR);if(n&&n.length)for(e=0;e<n.length;e++)i.push(n[e]);return query.hasNodeAttribute(t,this.CONTENT_ATTR)?i.push(t):query.hasNodeCssClass(t,this.CONTENT_CLASS)&&i.push(t),i=query.makeNodesUnique(i)},findParentContentNode:function(t){if(t)for(var e=t,i=0;e&&e!==documentAlias&&e.parentNode;){if(query.hasNodeAttribute(e,this.CONTENT_ATTR))return e;if(query.hasNodeCssClass(e,this.CONTENT_CLASS))return e;if(e=e.parentNode,i>1e3)break;i++}},findPieceNode:function(t){var e;return(e=query.findFirstNodeHavingAttribute(t,this.CONTENT_PIECE_ATTR))||(e=query.findFirstNodeHavingClass(t,this.CONTENT_PIECE_CLASS)),e||t},findTargetNodeNoDefault:function(t){if(t){var e=query.findFirstNodeHavingAttributeWithValue(t,this.CONTENT_TARGET_ATTR);return e||((e=query.findFirstNodeHavingAttribute(t,this.CONTENT_TARGET_ATTR))?e:(e=query.findFirstNodeHavingClass(t,this.CONTENT_TARGET_CLASS))||void 0)}},findTargetNode:function(t){var e=this.findTargetNodeNoDefault(t);return e||t},findContentName:function(t){if(t){var e=query.findFirstNodeHavingAttributeWithValue(t,this.CONTENT_NAME_ATTR);if(e)return query.getAttributeValueFromNode(e,this.CONTENT_NAME_ATTR);var i=this.findContentPiece(t);if(i)return this.removeDomainIfIsInLink(i);if(query.hasNodeAttributeWithValue(t,"title"))return query.getAttributeValueFromNode(t,"title");var n=this.findPieceNode(t);if(query.hasNodeAttributeWithValue(n,"title"))return query.getAttributeValueFromNode(n,"title");var o=this.findTargetNode(t);return query.hasNodeAttributeWithValue(o,"title")?query.getAttributeValueFromNode(o,"title"):void 0}},findContentPiece:function(t){if(t){var e=query.findFirstNodeHavingAttributeWithValue(t,this.CONTENT_PIECE_ATTR);if(e)return query.getAttributeValueFromNode(e,this.CONTENT_PIECE_ATTR);var i=this.findPieceNode(t),n=this.findMediaUrlInNode(i);return n?this.toAbsoluteUrl(n):void 0}},findContentTarget:function(t){if(t){var e,i=this.findTargetNode(t);if(query.hasNodeAttributeWithValue(i,this.CONTENT_TARGET_ATTR))return query.getAttributeValueFromNode(i,this.CONTENT_TARGET_ATTR);if(query.hasNodeAttributeWithValue(i,"href"))return e=query.getAttributeValueFromNode(i,"href"),this.toAbsoluteUrl(e);var n=this.findPieceNode(t);return query.hasNodeAttributeWithValue(n,"href")?(e=query.getAttributeValueFromNode(n,"href"),this.toAbsoluteUrl(e)):void 0}},isSameDomain:function(t){if(!t||!t.indexOf)return!1;if(0===t.indexOf(this.getLocation().origin))return!0;var e=t.indexOf(this.getLocation().host);return 8>=e&&0<=e},removeDomainIfIsInLink:function(t){return t&&t.search&&-1!==t.search(new RegExp("^https?://[^/]+"))&&this.isSameDomain(t)&&((t=t.replace(new RegExp("^.*//[^/]+"),""))||(t="/")),t},findMediaUrlInNode:function(t){if(t){var e=t.nodeName.toLowerCase();if(-1!==indexOfArray(["img","embed","video","audio"],e)&&query.findFirstNodeHavingAttributeWithValue(t,"src")){var i=query.findFirstNodeHavingAttributeWithValue(t,"src");return query.getAttributeValueFromNode(i,"src")}if("object"===e&&query.hasNodeAttributeWithValue(t,"data"))return query.getAttributeValueFromNode(t,"data");if("object"===e){var n,o=query.findNodesByTagName(t,"param");if(o&&o.length)for(n=0;n<o.length;n++)if("movie"===query.getAttributeValueFromNode(o[n],"name")&&query.hasNodeAttributeWithValue(o[n],"value"))return query.getAttributeValueFromNode(o[n],"value");var a=query.findNodesByTagName(t,"embed");if(a&&a.length)return this.findMediaUrlInNode(a[0])}}},trim:function(t){return trim(t)},isOrWasNodeInViewport:function(t){if(!t||!t.getBoundingClientRect||1!==t.nodeType)return!0;var e=t.getBoundingClientRect(),i=documentAlias.documentElement||{},n=e.top<0;n&&t.offsetTop&&(n=t.offsetTop+e.height>0);var o=i.clientWidth;windowAlias.innerWidth&&o>windowAlias.innerWidth&&(o=windowAlias.innerWidth);var a=i.clientHeight;return windowAlias.innerHeight&&a>windowAlias.innerHeight&&(a=windowAlias.innerHeight),(e.bottom>0||n)&&e.right>0&&e.left<o&&(e.top<a||n)},isNodeVisible:function(t){var e=isVisible(t),i=this.isOrWasNodeInViewport(t);return e&&i},buildInteractionRequestParams:function(t,e,i,n){var o="";return t&&(o+="c_i="+encodeWrapper(t)),e&&(o&&(o+="&"),o+="c_n="+encodeWrapper(e)),i&&(o&&(o+="&"),o+="c_p="+encodeWrapper(i)),n&&(o&&(o+="&"),o+="c_t="+encodeWrapper(n)),o},buildImpressionRequestParams:function(t,e,i){var n="c_n="+encodeWrapper(t)+"&c_p="+encodeWrapper(e);return i&&(n+="&c_t="+encodeWrapper(i)),n},buildContentBlock:function(t){if(t){var e=this.findContentName(t),i=this.findContentPiece(t),n=this.findContentTarget(t);return e=this.trim(e),i=this.trim(i),n=this.trim(n),{name:e||"Unknown",piece:i||"Unknown",target:n||""}}},collectContent:function(t){if(!t||!t.length)return[];var e,i,n=[];for(e=0;e<t.length;e++)isDefined(i=this.buildContentBlock(t[e]))&&n.push(i);return n},setLocation:function(t){this.location=t},getLocation:function(){var t=this.location||windowAlias.location;return t.origin||(t.origin=t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")),t},toAbsoluteUrl:function(t){if((!t||String(t)!==t)&&""!==t)return t;if(""===t)return this.getLocation().href;if(-1!==t.search(/^\/\//))return this.getLocation().protocol+t;if(-1!==t.search(/:\/\//))return t;if(0===t.indexOf("#"))return this.getLocation().origin+this.getLocation().pathname+t;if(0===t.indexOf("?"))return this.getLocation().origin+this.getLocation().pathname+t;if(0===t.search("^[a-zA-Z]{2,11}:"))return t;if(-1!==t.search(/^\//))return this.getLocation().origin+t;return this.getLocation().origin+this.getLocation().pathname.match(new RegExp("(.*/)"))[0]+t},isUrlToCurrentDomain:function(t){var e=this.toAbsoluteUrl(t);if(!e)return!1;var i=this.getLocation().origin;return i===e||0===String(e).indexOf(i)&&":"!==String(e).substr(i.length,1)},setHrefAttribute:function(t,e){t&&e&&query.setAnyAttribute(t,"href",e)},shouldIgnoreInteraction:function(t){var e=query.hasNodeAttribute(t,this.CONTENT_IGNOREINTERACTION_ATTR),i=query.hasNodeCssClass(t,this.CONTENT_IGNOREINTERACTION_CLASS);return e||i}};function getPiwikUrlForOverlay(t,e){if(e)return e;if(stringContains(t=content.toAbsoluteUrl(t),"?")){var i=t.indexOf("?");t=t.slice(0,i)}if(stringEndsWith(t,"piwik.php"))t=removeCharactersFromEndOfString(t,"piwik.php".length);else if(stringEndsWith(t,".php")){var n=t.lastIndexOf("/");t=t.slice(0,n+1)}return stringEndsWith(t,"/js/")&&(t=removeCharactersFromEndOfString(t,"js/".length)),t}function isOverlaySession(t){var e="Piwik_Overlay",i=new RegExp("index\\.php\\?module=Overlay&action=startOverlaySession&idSite=([0-9]+)&period=([^&]+)&date=([^&]+)(&segment=.*)?$").exec(documentAlias.referrer);if(i){if(i[1]!==String(t))return!1;var n=i[2],o=i[3],a=i[4];a?0===a.indexOf("&segment=")&&(a=a.substr("&segment=".length)):a="",windowAlias.name=e+"###"+n+"###"+o+"###"+a}var r=windowAlias.name.split("###");return 4===r.length&&r[0]===e}function injectOverlayScripts(t,e,i){var n=windowAlias.name.split("###"),o=n[1],a=n[2],r=n[3],s=getPiwikUrlForOverlay(t,e);loadScript(s+"plugins/Overlay/client/client.js?v=1",function(){Piwik_Overlay_Client.initialize(s,i,o,a,r)})}function isInsideAnIframe(){var t;try{t=windowAlias.frameElement}catch(t){return!0}if(isDefined(t))return!(!t||"iframe"!==String(t.nodeName).toLowerCase());try{return windowAlias.self!==windowAlias.top}catch(t){return!0}}function Tracker(trackerUrl,siteId){var registeredHooks={},trackerInstance=this,CONSENT_COOKIE_NAME="mtm_consent",CONSENT_REMOVED_COOKIE_NAME="mtm_consent_removed",locationArray=urlFixup(documentAlias.domain,windowAlias.location.href,getReferrer()),domainAlias=domainFixup(locationArray[0]),locationHrefAlias=safeDecodeWrapper(locationArray[1]),configReferrerUrl=safeDecodeWrapper(locationArray[2]),enableJSErrorTracking=!1,defaultRequestMethod="GET",configRequestMethod=defaultRequestMethod,defaultRequestContentType="application/x-www-form-urlencoded; charset=UTF-8",configRequestContentType=defaultRequestContentType,configTrackerUrl=trackerUrl||"",configApiUrl="",configAppendToTrackingUrl="",configTrackerSiteId=siteId||"",configUserId="",visitorUUID="",configCustomUrl,configTitle="",configDownloadExtensions=["7z","aac","apk","arc","arj","asf","asx","avi","azw3","bin","csv","deb","dmg","doc","docx","epub","exe","flv","gif","gz","gzip","hqx","ibooks","jar","jpg","jpeg","js","mobi","mp2","mp3","mp4","mpg","mpeg","mov","movie","msi","msp","odb","odf","odg","ods","odt","ogg","ogv","pdf","phps","png","ppt","pptx","qt","qtm","ra","ram","rar","rpm","sea","sit","tar","tbz","tbz2","bz","bz2","tgz","torrent","txt","wav","wma","wmv","wpd","xls","xlsx","xml","z","zip"],configHostsAlias=[domainAlias],configIgnoreClasses=[],configDownloadClasses=[],configLinkClasses=[],configTrackerPause=500,configMinimumVisitTime,configHeartBeatDelay,heartBeatPingIfActivityAlias,configDiscardHashTag,configCustomData,configCampaignNameParameters=["pk_campaign","piwik_campaign","utm_campaign","utm_source","utm_medium"],configCampaignKeywordParameters=["pk_kwd","piwik_kwd","utm_term"],configCookieNamePrefix="_pk_",configVisitorIdUrlParameter="pk_vid",configVisitorIdUrlParameterTimeoutInSeconds=180,configCookieDomain,configCookiePath,configCookieIsSecure=!1,configCookiesDisabled=!1,configDoNotTrack,configCountPreRendered,configConversionAttributionFirstReferrer,configVisitorCookieTimeout=339552e5,configSessionCookieTimeout=18e5,configReferralCookieTimeout=15768e6,configPerformanceTrackingEnabled=!0,configPerformanceGenerationTime=0,configStoreCustomVariablesInCookie=!1,customVariables=!1,configCustomRequestContentProcessing,customVariablesPage={},customVariablesEvent={},customDimensions={},customVariableMaximumLength=200,ecommerceItems={},browserFeatures={},trackedContentImpressions=[],isTrackOnlyVisibleContentEnabled=!1,timeNextTrackingRequestCanBeExecutedImmediately=!1,linkTrackingInstalled=!1,linkTrackingEnabled=!1,crossDomainTrackingEnabled=!1,heartBeatSetUp=!1,hadWindowFocusAtLeastOnce=isInsideAnIframe(),lastTrackerRequestTime=null,heartBeatTimeout,lastButton,lastTarget,hash=sha1,domainHash,configIdPageView,numTrackedPageviews=0,configCookiesToDelete=["id","ses","cvar","ref"],configHasConsent=null,consentRequestsQueue=[];try{configTitle=documentAlias.title}catch(t){configTitle=""}if(!configCookiePath)if("www.tapatalk.com"!==location.hostname&&"tapatalk.com"!==location.hostname)configCookiePath="/";else{var ttg_pathname=location.pathname;ttg_pathname=ttg_pathname.replace("/","");var ttg_path=ttg_pathname.split("/");configCookiePath=ttg_path[0]&&ttg_path[1]?"/"+ttg_path[0]+"/"+ttg_path[1]:"/"}function setCookie(t,e,i,n,o,a){var r;configCookiesDisabled||(i&&(r=new Date).setTime(r.getTime()+i),documentAlias.cookie=t+"="+encodeWrapper(e)+(i?";expires="+r.toGMTString():"")+";path="+(n||"/")+(o?";domain="+o:"")+(a?";secure":""))}function getCookie(t){if(configCookiesDisabled)return 0;var e=new RegExp("(^|;)[ ]*"+t+"=([^;]*)").exec(documentAlias.cookie);return e?decodeWrapper(e[2]):0}function purify(t){var e;return t=removeUrlParameter(t,configVisitorIdUrlParameter),configDiscardHashTag?(e=new RegExp("#.*"),t.replace(e,"")):t}function resolveRelativeReference(t,e){var i;return getProtocolScheme(e)?e:"/"===e.slice(0,1)?getProtocolScheme(t)+"://"+getHostName(t)+e:((i=(t=purify(t)).indexOf("?"))>=0&&(t=t.slice(0,i)),(i=t.lastIndexOf("/"))!==t.length-1&&(t=t.slice(0,i+1)),t+e)}function isSameHost(t,e){var i;if((t=String(t).toLowerCase())===(e=String(e).toLowerCase()))return!0;if("."===e.slice(0,1)){if(t===e.slice(1))return!0;if((i=t.length-e.length)>0&&t.slice(i)===e)return!0}return!1}function getPathName(t){var e=document.createElement("a");return 0!==t.indexOf("//")&&0!==t.indexOf("http")&&(0===t.indexOf("*")&&(t=t.substr(1)),0===t.indexOf(".")&&(t=t.substr(1)),t="http://"+t),e.href=content.toAbsoluteUrl(t),e.pathname?e.pathname:""}function isSitePath(t,e){stringStartsWith(e,"/")||(e="/"+e),stringStartsWith(t,"/")||(t="/"+t);var i="/"===e||"/*"===e;return!!i||(t===e||(e=String(e).toLowerCase(),t=String(t).toLowerCase(),stringEndsWith(e,"*")?!!(i=!(e=e.slice(0,-1))||"/"===e)||(t===e||0===t.indexOf(e)):(stringEndsWith(t,"/")||(t+="/"),stringEndsWith(e,"/")||(e+="/"),0===t.indexOf(e))))}function isSiteHostPath(t,e){var i,n,o;for(i=0;i<configHostsAlias.length;i++)if(n=domainFixup(configHostsAlias[i]),o=getPathName(configHostsAlias[i]),isSameHost(t,n)&&isSitePath(e,o))return!0;return!1}function isSiteHostName(t){var e,i,n;for(e=0;e<configHostsAlias.length;e++){if(t===(i=domainFixup(configHostsAlias[e].toLowerCase())))return!0;if("."===i.slice(0,1)){if(t===i.slice(1))return!0;if((n=t.length-i.length)>0&&t.slice(n)===i)return!0}}return!1}function getImage(t,e){t=t.replace("send_image=0","send_image=1");var i=new Image(1,1);i.onload=function(){iterator=0,"function"==typeof e&&e()},i.src=configTrackerUrl+(configTrackerUrl.indexOf("?")<0?"?":"&")+t}function sendPostRequestViaSendBeacon(t){if(!("object"==typeof navigatorAlias&&"function"==typeof navigatorAlias.sendBeacon&&"function"==typeof Blob))return!1;var e=!1;try{var i=new Blob([t],{type:"application/x-www-form-urlencoded; charset=UTF-8"});e=navigatorAlias.sendBeacon(configTrackerUrl,i)}catch(t){return!1}return e}function sendXmlHttpRequest(t,e,i){isDefined(i)&&null!==i||(i=!0),isPageUnloading&&sendPostRequestViaSendBeacon(t)||setTimeout(function(){if(!isPageUnloading||!sendPostRequestViaSendBeacon(t))try{var n=windowAlias.XMLHttpRequest?new windowAlias.XMLHttpRequest:windowAlias.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;n.open("POST",configTrackerUrl,!0),n.onreadystatechange=function(){4!==this.readyState||this.status>=200&&this.status<300?4===this.readyState&&"function"==typeof e&&e():!(isPageUnloading&&sendPostRequestViaSendBeacon(t))&&i&&getImage(t,e)},n.setRequestHeader("Content-Type",configRequestContentType),n.send(t)}catch(n){!(isPageUnloading&&sendPostRequestViaSendBeacon(t))&&i&&getImage(t,e)}},50)}function setExpireDateTime(t){var e=(new Date).getTime()+t;(!expireDateTime||e>expireDateTime)&&(expireDateTime=e)}function heartBeatUp(t){!heartBeatTimeout&&configHeartBeatDelay&&configHasConsent&&(heartBeatTimeout=setTimeout(function(){if(heartBeatTimeout=null,hadWindowFocusAtLeastOnce||(hadWindowFocusAtLeastOnce=!documentAlias.hasFocus||documentAlias.hasFocus()),hadWindowFocusAtLeastOnce){if(!heartBeatPingIfActivityAlias()){var t=new Date,e=configHeartBeatDelay-(t.getTime()-lastTrackerRequestTime);heartBeatUp(e=Math.min(configHeartBeatDelay,e))}}else heartBeatUp(configHeartBeatDelay)},t||configHeartBeatDelay))}function heartBeatDown(){heartBeatTimeout&&(clearTimeout(heartBeatTimeout),heartBeatTimeout=null)}function heartBeatOnFocus(){hadWindowFocusAtLeastOnce=!0,heartBeatPingIfActivityAlias()||heartBeatUp()}function heartBeatOnBlur(){heartBeatDown()}function setUpHeartBeat(){!heartBeatSetUp&&configHeartBeatDelay&&(heartBeatSetUp=!0,addEventListener(windowAlias,"focus",heartBeatOnFocus),addEventListener(windowAlias,"blur",heartBeatOnBlur),heartBeatUp())}function makeSureThereIsAGapAfterFirstTrackingRequestToPreventMultipleVisitorCreation(t){var e=(new Date).getTime();if(lastTrackerRequestTime=e,timeNextTrackingRequestCanBeExecutedImmediately&&e<timeNextTrackingRequestCanBeExecutedImmediately){var i=timeNextTrackingRequestCanBeExecutedImmediately-e;return setTimeout(t,i),setExpireDateTime(i+50),void(timeNextTrackingRequestCanBeExecutedImmediately+=50)}if(!1===timeNextTrackingRequestCanBeExecutedImmediately){timeNextTrackingRequestCanBeExecutedImmediately=e+800}t()}function sendRequest(t,e,i){configHasConsent?(!configDoNotTrack&&t&&makeSureThereIsAGapAfterFirstTrackingRequestToPreventMultipleVisitorCreation(function(){"POST"===configRequestMethod||String(t).length>2e3?sendXmlHttpRequest(t,i):getImage(t,i),setExpireDateTime(e)}),heartBeatSetUp?heartBeatUp():setUpHeartBeat()):consentRequestsQueue.push(t)}function canSendBulkRequest(t){return!configDoNotTrack&&(t&&t.length)}function sendBulkRequest(t,e){if(canSendBulkRequest(t))if(configHasConsent){var i='{"requests":["?'+t.join('","?')+'"]}';makeSureThereIsAGapAfterFirstTrackingRequestToPreventMultipleVisitorCreation(function(){sendXmlHttpRequest(i,null,!1),setExpireDateTime(e)})}else consentRequestsQueue.push(t)}function getCookieName(t){return configCookieNamePrefix+t+"."+configTrackerSiteId+"."+domainHash}function hasCookies(){if(configCookiesDisabled)return"0";if(!isDefined(navigatorAlias.cookieEnabled)){var t=getCookieName("testcookie");return setCookie(t,"1"),"1"===getCookie(t)?"1":"0"}return navigatorAlias.cookieEnabled?"1":"0"}function updateDomainHash(){domainHash=hash((configCookieDomain||domainAlias)+(configCookiePath||"/")).slice(0,4)}function getCustomVariablesFromCookie(){var t=getCookie(getCookieName("cvar"));return t.length&&isObject(t=JSON_PIWIK.parse(t))?t:{}}function loadCustomVariables(){!1===customVariables&&(customVariables=getCustomVariablesFromCookie())}function generateRandomUuid(){return hash((navigatorAlias.userAgent||"")+(navigatorAlias.platform||"")+JSON_PIWIK.stringify(browserFeatures)+(new Date).getTime()+Math.random()).slice(0,16)}function generateBrowserSpecificId(){return hash((navigatorAlias.userAgent||"")+(navigatorAlias.platform||"")+JSON_PIWIK.stringify(browserFeatures)).slice(0,6)}function getCurrentTimestampInSeconds(){return Math.floor((new Date).getTime()/1e3)}function makeCrossDomainDeviceId(){var t=getCurrentTimestampInSeconds(),e=generateBrowserSpecificId();return String(t)+e}function isSameCrossDomainDevice(t){t=String(t);var e=generateBrowserSpecificId(),i=e.length,n=t.substr(-1*i,i),o=parseInt(t.substr(0,t.length-i),10);if(o&&n&&n===e){var a=getCurrentTimestampInSeconds();if(configVisitorIdUrlParameterTimeoutInSeconds<=0)return!0;if(a>=o&&a<=o+configVisitorIdUrlParameterTimeoutInSeconds)return!0}return!1}function getVisitorIdFromUrl(t){if(!crossDomainTrackingEnabled)return"";var e=getUrlParameter(t,configVisitorIdUrlParameter);if(!e)return"";e=String(e);var i=new RegExp("^[a-zA-Z0-9]+$");if(32===e.length&&i.test(e)&&isSameCrossDomainDevice(e.substr(16,32)))return e.substr(0,16);return""}function loadVisitorIdCookie(){visitorUUID||(visitorUUID=getVisitorIdFromUrl(locationHrefAlias));var t,e=new Date,i=Math.round(e.getTime()/1e3),n=getCookie(getCookieName("id"));return n?((t=n.split(".")).unshift("0"),visitorUUID.length&&(t[1]=visitorUUID),t):t=["1",visitorUUID.length?visitorUUID:"0"===hasCookies()?"":generateRandomUuid(),i,0,i,"",""]}function getValuesFromVisitorIdCookie(){var t=loadVisitorIdCookie(),e=t[0],i=t[1],n=t[2],o=t[3],a=t[4],r=t[5];return isDefined(t[6])||(t[6]=""),{newVisitor:e,uuid:i,createTs:n,visitCount:o,currentVisitTs:a,lastVisitTs:r,lastEcommerceOrderTs:t[6]}}function getRemainingVisitorCookieTimeout(){var t=(new Date).getTime(),e=getValuesFromVisitorIdCookie().createTs;return 1e3*parseInt(e,10)+configVisitorCookieTimeout-t}function setVisitorIdCookie(t){if(configTrackerSiteId){var e=new Date,i=Math.round(e.getTime()/1e3);isDefined(t)||(t=getValuesFromVisitorIdCookie());var n=t.uuid+"."+t.createTs+"."+t.visitCount+"."+i+"."+t.lastVisitTs+"."+t.lastEcommerceOrderTs;setCookie(getCookieName("id"),n,getRemainingVisitorCookieTimeout(),configCookiePath,configCookieDomain,configCookieIsSecure)}}function loadReferrerAttributionCookie(){var t=getCookie(getCookieName("ref"));if(t.length)try{if(isObject(t=JSON_PIWIK.parse(t)))return t}catch(t){}return["","",0,""]}function deleteCookie(t,e,i){setCookie(t,"",-86400,e,i)}function isPossibleToSetCookieOnDomain(t){var e="testvalue";return setCookie("test",e,1e4,null,t),getCookie("test")===e&&(deleteCookie("test",null,t),!0)}function deleteCookies(){var t,e,i=configCookiesDisabled;for(configCookiesDisabled=!1,t=0;t<configCookiesToDelete.length;t++)(e=getCookieName(configCookiesToDelete[t]))!==CONSENT_REMOVED_COOKIE_NAME&&e!==CONSENT_COOKIE_NAME&&0!==getCookie(e)&&deleteCookie(e,configCookiePath,configCookieDomain);configCookiesDisabled=i}function setSiteId(t){configTrackerSiteId=t,setVisitorIdCookie()}function sortObjectByKeys(t){if(t&&isObject(t)){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);var n={};i.sort();var o,a=i.length;for(o=0;o<a;o++)n[i[o]]=t[i[o]];return n}}function setSessionCookie(){setCookie(getCookieName("ses"),"*",configSessionCookieTimeout,configCookiePath,configCookieDomain,configCookieIsSecure)}function generateUniqueId(){var t,e="",i="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=i.length;for(t=0;t<6;t++)e+=i.charAt(Math.floor(Math.random()*n));return e}function getRequest(t,e,i,n){var o,a,r,s,c,l,d,u=new Date,p=Math.round(u.getTime()/1e3),f=customVariables,h=getCookieName("ses"),_=getCookieName("ref"),g=getCookieName("cvar"),m=getCookie(h),v=loadReferrerAttributionCookie(),b=configCustomUrl||locationHrefAlias;if(configCookiesDisabled&&deleteCookies(),configDoNotTrack)return"";var w=getValuesFromVisitorIdCookie();isDefined(n)||(n="");var y=documentAlias.characterSet||documentAlias.charset;if(y&&"utf-8"!==y.toLowerCase()||(y=null),l=v[0],d=v[1],a=v[2],r=v[3],!m){var k=configSessionCookieTimeout/1e3;if((!w.lastVisitTs||p-w.lastVisitTs>k)&&(w.visitCount++,w.lastVisitTs=w.currentVisitTs),!configConversionAttributionFirstReferrer||!l.length){for(o in configCampaignNameParameters)if(Object.prototype.hasOwnProperty.call(configCampaignNameParameters,o)&&(l=getUrlParameter(b,configCampaignNameParameters[o])).length)break;for(o in configCampaignKeywordParameters)if(Object.prototype.hasOwnProperty.call(configCampaignKeywordParameters,o)&&(d=getUrlParameter(b,configCampaignKeywordParameters[o])).length)break}s=getHostName(configReferrerUrl),c=r.length?getHostName(r):"",!s.length||isSiteHostName(s)||configConversionAttributionFirstReferrer&&c.length&&!isSiteHostName(c)||(r=configReferrerUrl),(r.length||l.length)&&(v=[l,d,a=p,purify(r.slice(0,1024))],setCookie(_,JSON_PIWIK.stringify(v),configReferralCookieTimeout,configCookiePath,configCookieDomain))}for(o in t+="&idsite="+configTrackerSiteId+"&rec=1&r="+String(Math.random()).slice(2,8)+"&h="+u.getHours()+"&m="+u.getMinutes()+"&s="+u.getSeconds()+"&url="+encodeWrapper(purify(b))+(configReferrerUrl.length?"&urlref="+encodeWrapper(purify(configReferrerUrl)):"")+(configUserId&&configUserId.length?"&uid="+encodeWrapper(configUserId):"")+"&_id="+w.uuid+"&_idts="+w.createTs+"&_idvc="+w.visitCount+"&_idn="+w.newVisitor+(l.length?"&_rcn="+encodeWrapper(l):"")+(d.length?"&_rck="+encodeWrapper(d):"")+"&_refts="+a+"&_viewts="+w.lastVisitTs+(String(w.lastEcommerceOrderTs).length?"&_ects="+w.lastEcommerceOrderTs:"")+(String(r).length?"&_ref="+encodeWrapper(purify(r.slice(0,1024))):"")+(y?"&cs="+encodeWrapper(y):"")+"&send_image=0",browserFeatures)Object.prototype.hasOwnProperty.call(browserFeatures,o)&&(t+="&"+o+"="+browserFeatures[o]);var T=[];if(e)for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&/^dimension\d+$/.test(o)){var C=o.replace("dimension","");T.push(parseInt(C,10)),T.push(String(C)),t+="&"+o+"="+e[o],delete e[o]}for(o in e&&isObjectEmpty(e)&&(e=null),customDimensions){if(Object.prototype.hasOwnProperty.call(customDimensions,o))-1===indexOfArray(T,o)&&(t+="&dimension"+o+"="+customDimensions[o])}function I(t,e){var i=JSON_PIWIK.stringify(t);return i.length>2?"&"+e+"="+encodeWrapper(i):""}e?t+="&data="+encodeWrapper(JSON_PIWIK.stringify(e)):configCustomData&&(t+="&data="+encodeWrapper(JSON_PIWIK.stringify(configCustomData)));var A=sortObjectByKeys(customVariablesPage),E=sortObjectByKeys(customVariablesEvent);if(t+=I(A,"cvar"),t+=I(E,"e_cvar"),customVariables){for(o in t+=I(customVariables,"_cvar"),f)Object.prototype.hasOwnProperty.call(f,o)&&(""!==customVariables[o][0]&&""!==customVariables[o][1]||delete customVariables[o]);configStoreCustomVariablesInCookie&&setCookie(g,JSON_PIWIK.stringify(customVariables),configSessionCookieTimeout,configCookiePath,configCookieDomain)}return configPerformanceTrackingEnabled&&(configPerformanceGenerationTime?t+="&gt_ms="+configPerformanceGenerationTime:performanceAlias&&performanceAlias.timing&&performanceAlias.timing.requestStart&&performanceAlias.timing.responseEnd&&(t+="&gt_ms="+(performanceAlias.timing.responseEnd-performanceAlias.timing.requestStart))),configIdPageView&&(t+="&pv_id="+configIdPageView),w.lastEcommerceOrderTs=isDefined(n)&&String(n).length?n:w.lastEcommerceOrderTs,setVisitorIdCookie(w),setSessionCookie(),t+=executePluginMethod(i,{tracker:trackerInstance,request:t}),configAppendToTrackingUrl.length&&(t+="&"+configAppendToTrackingUrl),isFunction(configCustomRequestContentProcessing)&&(t=configCustomRequestContentProcessing(t)),t}function logEcommerce(t,e,i,n,o,a){var r,s,c="idgoal=0",l=new Date,d=[],u=String(t).length;if(u&&(c+="&ec_id="+encodeWrapper(t),r=Math.round(l.getTime()/1e3)),c+="&revenue="+e,String(i).length&&(c+="&ec_st="+i),String(n).length&&(c+="&ec_tx="+n),String(o).length&&(c+="&ec_sh="+o),String(a).length&&(c+="&ec_dt="+a),ecommerceItems){for(s in ecommerceItems)Object.prototype.hasOwnProperty.call(ecommerceItems,s)&&(isDefined(ecommerceItems[s][1])||(ecommerceItems[s][1]=""),isDefined(ecommerceItems[s][2])||(ecommerceItems[s][2]=""),isDefined(ecommerceItems[s][3])&&0!==String(ecommerceItems[s][3]).length||(ecommerceItems[s][3]=0),isDefined(ecommerceItems[s][4])&&0!==String(ecommerceItems[s][4]).length||(ecommerceItems[s][4]=1),d.push(ecommerceItems[s]));c+="&ec_items="+encodeWrapper(JSON_PIWIK.stringify(d))}sendRequest(c=getRequest(c,configCustomData,"ecommerce",r),configTrackerPause),u&&(ecommerceItems={})}function logEcommerceOrder(t,e,i,n,o,a){String(t).length&&isDefined(e)&&logEcommerce(t,e,i,n,o,a)}function logEcommerceCartUpdate(t){isDefined(t)&&logEcommerce("",t,"","","","")}function logPageView(t,e,i){configIdPageView=generateUniqueId(),sendRequest(getRequest("action_name="+encodeWrapper(titleFixup(t||configTitle)),e,"log"),configTrackerPause,i)}function getClassesRegExp(t,e){var i,n="(^| )(piwik[_-]"+e;if(t)for(i=0;i<t.length;i++)n+="|"+t[i];return n+=")( |$)",new RegExp(n)}function startsUrlWithTrackerUrl(t){return configTrackerUrl&&t&&0===String(t).indexOf(configTrackerUrl)}function getLinkType(t,e,i,n){if(startsUrlWithTrackerUrl(e))return 0;var o=getClassesRegExp(configDownloadClasses,"download"),a=getClassesRegExp(configLinkClasses,"link"),r=new RegExp("\\.("+configDownloadExtensions.join("|")+")([?&#]|$)","i");return a.test(t)?"link":n||o.test(t)||r.test(e)?"download":i?0:"link"}function getSourceElement(t){var e;for(e=t.parentNode;null!==e&&isDefined(e)&&!query.isLinkElement(t);)e=(t=e).parentNode;return t}function getLinkIfShouldBeProcessed(t){if((t=getSourceElement(t),query.hasNodeAttribute(t,"href"))&&(isDefined(t.href)&&!startsUrlWithTrackerUrl(query.getAttributeValueFromNode(t,"href")))){var e=t.pathname||getPathName(t.href),i=t.hostname||getHostName(t.href),n=i.toLowerCase(),o=t.href.replace(i,n);if(!new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto|tel):","i").test(o)){var a=getLinkType(t.className,o,isSiteHostPath(n,e),query.hasNodeAttribute(t,"download"));if(a)return{type:a,href:o}}}}function buildContentInteractionRequest(t,e,i,n){var o=content.buildInteractionRequestParams(t,e,i,n);if(o)return getRequest(o,null,"contentInteraction")}function buildContentInteractionTrackingRedirectUrl(t,e,i,n,o){if(isDefined(t)){if(startsUrlWithTrackerUrl(t))return t;var a=content.toAbsoluteUrl(t),r="redirecturl="+encodeWrapper(a)+"&";r+=buildContentInteractionRequest(e,i,n,o||t);var s="&";return configTrackerUrl.indexOf("?")<0&&(s="?"),configTrackerUrl+s+r}}function isNodeAuthorizedToTriggerInteraction(t,e){if(!t||!e)return!1;var i=content.findTargetNode(t);return!content.shouldIgnoreInteraction(i)&&!((i=content.findTargetNodeNoDefault(t))&&!containsNodeElement(i,e))}function getContentInteractionToRequestIfPossible(t,e,i){if(t){var n=content.findParentContentNode(t);if(n&&isNodeAuthorizedToTriggerInteraction(n,t)){var o=content.buildContentBlock(n);if(o)return!o.target&&i&&(o.target=i),content.buildInteractionRequestParams(e,o.name,o.piece,o.target)}}}function wasContentImpressionAlreadyTracked(t){if(!trackedContentImpressions||!trackedContentImpressions.length)return!1;var e,i;for(e=0;e<trackedContentImpressions.length;e++)if((i=trackedContentImpressions[e])&&i.name===t.name&&i.piece===t.piece&&i.target===t.target)return!0;return!1}function replaceHrefIfInternalLink(t){if(!t)return!1;var e=content.findTargetNode(t);if(!e||content.shouldIgnoreInteraction(e))return!1;var i=getLinkIfShouldBeProcessed(e);if(linkTrackingEnabled&&i&&i.type)return!1;if(query.isLinkElement(e)&&query.hasNodeAttributeWithValue(e,"href")){var n=String(query.getAttributeValueFromNode(e,"href"));if(0===n.indexOf("#"))return!1;if(startsUrlWithTrackerUrl(n))return!0;if(!content.isUrlToCurrentDomain(n))return!1;var o=content.buildContentBlock(t);if(!o)return;var a=o.name,r=o.piece,s=o.target;query.hasNodeAttributeWithValue(e,content.CONTENT_TARGET_ATTR)&&!e.wasContentTargetAttrReplaced||(e.wasContentTargetAttrReplaced=!0,s=content.toAbsoluteUrl(n),query.setAnyAttribute(e,content.CONTENT_TARGET_ATTR,s));var c=buildContentInteractionTrackingRedirectUrl(n,"click",a,r,s);return content.setHrefAttribute(e,c),!0}return!1}function replaceHrefsIfInternalLink(t){var e;if(t&&t.length)for(e=0;e<t.length;e++)replaceHrefIfInternalLink(t[e])}function trackContentImpressionClickInteraction(t){return function(e){if(t){var i,n=content.findParentContentNode(t);if(e&&(i=e.target||e.srcElement),i||(i=t),isNodeAuthorizedToTriggerInteraction(n,i)){if(setExpireDateTime(configTrackerPause),query.isLinkElement(t)&&query.hasNodeAttributeWithValue(t,"href")&&query.hasNodeAttributeWithValue(t,content.CONTENT_TARGET_ATTR))!startsUrlWithTrackerUrl(query.getAttributeValueFromNode(t,"href"))&&t.wasContentTargetAttrReplaced&&query.setAnyAttribute(t,content.CONTENT_TARGET_ATTR,"");var o=getLinkIfShouldBeProcessed(t);if(linkTrackingInstalled&&o&&o.type)return o.type;if(replaceHrefIfInternalLink(n))return"href";var a=content.buildContentBlock(n);if(a){var r=buildContentInteractionRequest("click",a.name,a.piece,a.target);return sendRequest(r,configTrackerPause),r}}}}}function setupInteractionsTracking(t){var e,i;if(t&&t.length)for(e=0;e<t.length;e++)(i=content.findTargetNode(t[e]))&&!i.contentInteractionTrackingSetupDone&&(i.contentInteractionTrackingSetupDone=!0,addEventListener(i,"click",trackContentImpressionClickInteraction(i)))}function buildContentImpressionsRequests(t,e){if(!t||!t.length)return[];var i,n;for(i=0;i<t.length;i++)wasContentImpressionAlreadyTracked(t[i])?(t.splice(i,1),i--):trackedContentImpressions.push(t[i]);if(!t||!t.length)return[];replaceHrefsIfInternalLink(e),setupInteractionsTracking(e);var o=[];for(i=0;i<t.length;i++)(n=getRequest(content.buildImpressionRequestParams(t[i].name,t[i].piece,t[i].target),void 0,"contentImpressions"))&&o.push(n);return o}function getContentImpressionsRequestsFromNodes(t){return buildContentImpressionsRequests(content.collectContent(t),t)}function getCurrentlyVisibleContentImpressionsRequestsIfNotTrackedYet(t){if(!t||!t.length)return[];var e;for(e=0;e<t.length;e++)content.isNodeVisible(t[e])||(t.splice(e,1),e--);return t&&t.length?getContentImpressionsRequestsFromNodes(t):[]}function buildContentImpressionRequest(t,e,i){return getRequest(content.buildImpressionRequestParams(t,e,i),null,"contentImpression")}function buildContentInteractionRequestNode(t,e){if(t){var i=content.findParentContentNode(t),n=content.buildContentBlock(i);if(n)return e||(e="Unknown"),buildContentInteractionRequest(e,n.name,n.piece,n.target)}}function buildEventRequest(t,e,i,n){return"e_c="+encodeWrapper(t)+"&e_a="+encodeWrapper(e)+(isDefined(i)?"&e_n="+encodeWrapper(i):"")+(isDefined(n)?"&e_v="+encodeWrapper(n):"")}function logEvent(t,e,i,n,o,a){if(0===trim(String(t)).length||0===trim(String(e)).length)return logConsoleError("Error while logging event: Parameters `category` and `action` must not be empty or filled with whitespaces"),!1;sendRequest(getRequest(buildEventRequest(t,e,i,n),o,"event"),configTrackerPause,a)}function logSiteSearch(t,e,i,n){sendRequest(getRequest("search="+encodeWrapper(t)+(e?"&search_cat="+encodeWrapper(e):"")+(isDefined(i)?"&search_count="+i:""),n,"sitesearch"),configTrackerPause)}function logGoal(t,e,i){sendRequest(getRequest("idgoal="+t+(e?"&revenue="+e:""),i,"goal"),configTrackerPause)}function logLink(t,e,i,n,o){var a=e+"="+encodeWrapper(purify(t)),r=getContentInteractionToRequestIfPossible(o,"click",t);r&&(a+="&"+r),sendRequest(getRequest(a,i,"link"),configTrackerPause,n)}function prefixPropertyName(t,e){return""!==t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function trackCallback(t){var e,i,n,o=["","webkit","ms","moz"];if(!configCountPreRendered)for(i=0;i<o.length;i++)if(n=o[i],Object.prototype.hasOwnProperty.call(documentAlias,prefixPropertyName(n,"hidden"))){"prerender"===documentAlias[prefixPropertyName(n,"visibilityState")]&&(e=!0);break}e?addEventListener(documentAlias,n+"visibilitychange",function e(){documentAlias.removeEventListener(n+"visibilitychange",e,!1),t()}):t()}function getCrossDomainVisitorId(){return getValuesFromVisitorIdCookie().uuid+makeCrossDomainDeviceId()}function replaceHrefForCrossDomainLink(t){if(t&&query.hasNodeAttribute(t,"href")){var e=query.getAttributeValueFromNode(t,"href");if(e&&!startsUrlWithTrackerUrl(e)){(e=removeUrlParameter(e,configVisitorIdUrlParameter)).indexOf("?")>0?e+="&":e+="?";var i=getCrossDomainVisitorId();e=addUrlParameter(e,configVisitorIdUrlParameter,i),query.setAnyAttribute(t,"href",e)}}}function isLinkToDifferentDomainButSamePiwikWebsite(t){var e=query.getAttributeValueFromNode(t,"href");if(!e)return!1;if(!(0===(e=String(e)).indexOf("//")||0===e.indexOf("http://")||0===e.indexOf("https://")))return!1;var i=t.pathname||getPathName(t.href),n=(t.hostname||getHostName(t.href)).toLowerCase();return!!isSiteHostPath(n,i)&&!isSameHost(domainAlias,domainFixup(n))}function processClick(t){var e=getLinkIfShouldBeProcessed(t);if(e&&e.type)return e.href=safeDecodeWrapper(e.href),void logLink(e.href,e.type,void 0,null,t);crossDomainTrackingEnabled&&isLinkToDifferentDomainButSamePiwikWebsite(t=getSourceElement(t))&&replaceHrefForCrossDomainLink(t)}function isIE8orOlder(){return documentAlias.all&&!documentAlias.addEventListener}function getKeyCodeFromEvent(t){var e=t.which,i=typeof t.button;return e||"undefined"===i||(isIE8orOlder()?1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2):0===t.button||"0"===t.button?e=1:1&t.button?e=2:2&t.button&&(e=3)),e}function getNameOfClickedButton(t){switch(getKeyCodeFromEvent(t)){case 1:return"left";case 2:return"middle";case 3:return"right"}}function getTargetElementFromEvent(t){return t.target||t.srcElement}function clickHandler(t){return function(e){var i=getNameOfClickedButton(e=e||windowAlias.event),n=getTargetElementFromEvent(e);if("click"===e.type){var o=!1;t&&"middle"===i&&(o=!0),n&&!o&&processClick(n)}else"mousedown"===e.type?"middle"===i&&n?(lastButton=i,lastTarget=n):lastButton=lastTarget=null:"mouseup"===e.type?(i===lastButton&&n===lastTarget&&processClick(n),lastButton=lastTarget=null):"contextmenu"===e.type&&processClick(n)}}function addClickListener(t,e){"undefined"===typeof e&&(e=!0),addEventListener(t,"click",clickHandler(e),!1),e&&(addEventListener(t,"mouseup",clickHandler(e),!1),addEventListener(t,"mousedown",clickHandler(e),!1),addEventListener(t,"contextmenu",clickHandler(e),!1))}function addClickListeners(t,e){linkTrackingInstalled=!0;var i,n=getClassesRegExp(configIgnoreClasses,"ignore"),o=documentAlias.links,a=null;if(o)for(i=0;i<o.length;i++)a=o[i],n.test(a.className)||("undefined"===typeof a.piwikTrackers&&(a.piwikTrackers=[]),-1===indexOfArray(a.piwikTrackers,e)&&(a.piwikTrackers.push(e),addClickListener(a,t)))}function enableTrackOnlyVisibleContent(t,e,i){if(isTrackOnlyVisibleContentEnabled)return!0;isTrackOnlyVisibleContentEnabled=!0;var n,o,a=!1;function r(){a=!0}trackCallbackOnLoad(function(){if(t){for(n=["scroll","resize"],o=0;o<n.length;o++)documentAlias.addEventListener?documentAlias.addEventListener(n[o],r):windowAlias.attachEvent("on"+n[o],r);!function t(e){setTimeout(function(){isTrackOnlyVisibleContentEnabled&&(a&&(a=!1,i.trackVisibleContentImpressions()),t(e))},e)}(100)}e&&e>0&&function t(e){setTimeout(function(){isTrackOnlyVisibleContentEnabled&&(a=!1,i.trackVisibleContentImpressions(),t(e))},e)}(e=parseInt(e,10))})}function detectBrowserFeatures(){var t,e,i={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"};if(!new RegExp("MSIE").test(navigatorAlias.userAgent)){if(navigatorAlias.mimeTypes&&navigatorAlias.mimeTypes.length)for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e=navigatorAlias.mimeTypes[i[t]],browserFeatures[t]=e&&e.enabledPlugin?"1":"0");!new RegExp("Edge[ /](\\d+[\\.\\d]+)").test(navigatorAlias.userAgent)&&"unknown"!=typeof navigator.javaEnabled&&isDefined(navigatorAlias.javaEnabled)&&navigatorAlias.javaEnabled()&&(browserFeatures.java="1"),isFunction(windowAlias.GearsFactory)&&(browserFeatures.gears="1"),browserFeatures.cookie=hasCookies()}var n=parseInt(screenAlias.width,10),o=parseInt(screenAlias.height,10);browserFeatures.res=parseInt(n,10)+"x"+parseInt(o,10)}function registerHook(hookName,userHook){var hookObj=null;if(isString(hookName)&&!isDefined(registeredHooks[hookName])&&userHook){if(isObject(userHook))hookObj=userHook;else if(isString(userHook))try{eval("hookObj ="+userHook)}catch(t){}registeredHooks[hookName]=hookObj}return hookObj}configHasConsent=!getCookie(CONSENT_REMOVED_COOKIE_NAME),heartBeatPingIfActivityAlias=function(){var t=new Date;return lastTrackerRequestTime+configHeartBeatDelay<=t.getTime()&&(sendRequest(getRequest("ping=1",null,"ping"),configTrackerPause),!0)},detectBrowserFeatures(),updateDomainHash(),setVisitorIdCookie(),executePluginMethod("run",null,registerHook),this.hook=registeredHooks,this.getHook=function(t){return registeredHooks[t]},this.getQuery=function(){return query},this.getContent=function(){return content},this.setVisitorId=function(t){visitorUUID=t},this.buildContentImpressionRequest=buildContentImpressionRequest,this.buildContentInteractionRequest=buildContentInteractionRequest,this.buildContentInteractionRequestNode=buildContentInteractionRequestNode,this.buildContentInteractionTrackingRedirectUrl=buildContentInteractionTrackingRedirectUrl,this.getContentImpressionsRequestsFromNodes=getContentImpressionsRequestsFromNodes,this.getCurrentlyVisibleContentImpressionsRequestsIfNotTrackedYet=getCurrentlyVisibleContentImpressionsRequestsIfNotTrackedYet,this.trackCallbackOnLoad=trackCallbackOnLoad,this.trackCallbackOnReady=trackCallbackOnReady,this.buildContentImpressionsRequests=buildContentImpressionsRequests,this.wasContentImpressionAlreadyTracked=wasContentImpressionAlreadyTracked,this.appendContentInteractionToRequestIfPossible=getContentInteractionToRequestIfPossible,this.setupInteractionsTracking=setupInteractionsTracking,this.trackContentImpressionClickInteraction=trackContentImpressionClickInteraction,this.internalIsNodeVisible=isVisible,this.isNodeAuthorizedToTriggerInteraction=isNodeAuthorizedToTriggerInteraction,this.replaceHrefIfInternalLink=replaceHrefIfInternalLink,this.getDomains=function(){return configHostsAlias},this.getConfigIdPageView=function(){return configIdPageView},this.getConfigDownloadExtensions=function(){return configDownloadExtensions},this.enableTrackOnlyVisibleContent=function(t,e){return enableTrackOnlyVisibleContent(t,e,this)},this.clearTrackedContentImpressions=function(){trackedContentImpressions=[]},this.getTrackedContentImpressions=function(){return trackedContentImpressions},this.clearEnableTrackOnlyVisibleContent=function(){isTrackOnlyVisibleContentEnabled=!1},this.disableLinkTracking=function(){linkTrackingInstalled=!1,linkTrackingEnabled=!1},this.getConfigVisitorCookieTimeout=function(){return configVisitorCookieTimeout},this.removeAllAsyncTrackersButFirst=function(){var t=asyncTrackers[0];asyncTrackers=[t]},this.getConsentRequestsQueue=function(){return consentRequestsQueue},this.hasConsent=function(){return configHasConsent},this.getRemainingVisitorCookieTimeout=getRemainingVisitorCookieTimeout,this.getVisitorId=function(){return getValuesFromVisitorIdCookie().uuid},this.getVisitorInfo=function(){return loadVisitorIdCookie()},this.getAttributionInfo=function(){return loadReferrerAttributionCookie()},this.getAttributionCampaignName=function(){return loadReferrerAttributionCookie()[0]},this.getAttributionCampaignKeyword=function(){return loadReferrerAttributionCookie()[1]},this.getAttributionReferrerTimestamp=function(){return loadReferrerAttributionCookie()[2]},this.getAttributionReferrerUrl=function(){return loadReferrerAttributionCookie()[3]},this.setTrackerUrl=function(t){configTrackerUrl=t},this.getTrackerUrl=function(){return configTrackerUrl},this.getPiwikUrl=function(){return getPiwikUrlForOverlay(this.getTrackerUrl(),configApiUrl)},this.addTracker=function(t,e){if(!e)throw new Error("A siteId must be given to add a new tracker");isDefined(t)&&null!==t||(t=this.getTrackerUrl());var i=new Tracker(t,e);return asyncTrackers.push(i),i},this.getSiteId=function(){return configTrackerSiteId},this.setSiteId=function(t){setSiteId(t)},this.resetUserId=function(){configUserId=""},this.setUserId=function(t){isDefined(t)&&t.length&&(configUserId=t)},this.getUserId=function(){return configUserId},this.setCustomData=function(t,e){isObject(t)?configCustomData=t:(configCustomData||(configCustomData={}),configCustomData[t]=e)},this.getCustomData=function(){return configCustomData},this.setCustomRequestProcessing=function(t){configCustomRequestContentProcessing=t},this.appendToTrackingUrl=function(t){configAppendToTrackingUrl=t},this.getRequest=function(t){return getRequest(t)},this.addPlugin=function(t,e){plugins[t]=e},this.setCustomDimension=function(t,e){(t=parseInt(t,10))>0&&(isDefined(e)||(e=""),isString(e)||(e=String(e)),customDimensions[t]=e)},this.getCustomDimension=function(t){if((t=parseInt(t,10))>0&&Object.prototype.hasOwnProperty.call(customDimensions,t))return customDimensions[t]},this.deleteCustomDimension=function(t){(t=parseInt(t,10))>0&&delete customDimensions[t]},this.setCustomVariable=function(t,e,i,n){var o;isDefined(n)||(n="visit"),isDefined(e)&&(isDefined(i)||(i=""),t>0&&(e=isString(e)?e:String(e),i=isString(i)?i:String(i),o=[e.slice(0,customVariableMaximumLength),i.slice(0,customVariableMaximumLength)],"visit"===n||2===n?(loadCustomVariables(),customVariables[t]=o):"page"===n||3===n?customVariablesPage[t]=o:"event"===n&&(customVariablesEvent[t]=o)))},this.getCustomVariable=function(t,e){var i;return isDefined(e)||(e="visit"),"page"===e||3===e?i=customVariablesPage[t]:"event"===e?i=customVariablesEvent[t]:"visit"!==e&&2!==e||(loadCustomVariables(),i=customVariables[t]),!(!isDefined(i)||i&&""===i[0])&&i},this.deleteCustomVariable=function(t,e){this.getCustomVariable(t,e)&&this.setCustomVariable(t,"","",e)},this.deleteCustomVariables=function(t){"page"===t||3===t?customVariablesPage={}:"event"===t?customVariablesEvent={}:"visit"!==t&&2!==t||(customVariables={})},this.storeCustomVariablesInCookie=function(){configStoreCustomVariablesInCookie=!0},this.setLinkTrackingTimer=function(t){configTrackerPause=t},this.getLinkTrackingTimer=function(){return configTrackerPause},this.setDownloadExtensions=function(t){isString(t)&&(t=t.split("|")),configDownloadExtensions=t},this.addDownloadExtensions=function(t){var e;for(isString(t)&&(t=t.split("|")),e=0;e<t.length;e++)configDownloadExtensions.push(t[e])},this.removeDownloadExtensions=function(t){var e,i=[];for(isString(t)&&(t=t.split("|")),e=0;e<configDownloadExtensions.length;e++)-1===indexOfArray(t,configDownloadExtensions[e])&&i.push(configDownloadExtensions[e]);configDownloadExtensions=i},this.setDomains=function(t){configHostsAlias=isString(t)?[t]:t;for(var e,i=!1,n=0;n<configHostsAlias.length;n++){if(e=String(configHostsAlias[n]),isSameHost(domainAlias,domainFixup(e))){i=!0;break}var o=getPathName(e);if(o&&"/"!==o&&"/*"!==o){i=!0;break}}i||configHostsAlias.push(domainAlias)},this.enableCrossDomainLinking=function(){crossDomainTrackingEnabled=!0},this.disableCrossDomainLinking=function(){crossDomainTrackingEnabled=!1},this.isCrossDomainLinkingEnabled=function(){return crossDomainTrackingEnabled},this.setCrossDomainLinkingTimeout=function(t){configVisitorIdUrlParameterTimeoutInSeconds=t},this.getCrossDomainLinkingUrlParameter=function(){return encodeWrapper(configVisitorIdUrlParameter)+"="+encodeWrapper(getCrossDomainVisitorId())},this.setIgnoreClasses=function(t){configIgnoreClasses=isString(t)?[t]:t},this.setRequestMethod=function(t){configRequestMethod=t||defaultRequestMethod},this.setRequestContentType=function(t){configRequestContentType=t||defaultRequestContentType},this.setReferrerUrl=function(t){configReferrerUrl=t},this.setCustomUrl=function(t){configCustomUrl=resolveRelativeReference(locationHrefAlias,t)},this.getCurrentUrl=function(){return configCustomUrl||locationHrefAlias},this.setDocumentTitle=function(t){configTitle=t},this.setAPIUrl=function(t){configApiUrl=t},this.setDownloadClasses=function(t){configDownloadClasses=isString(t)?[t]:t},this.setLinkClasses=function(t){configLinkClasses=isString(t)?[t]:t},this.setCampaignNameKey=function(t){configCampaignNameParameters=isString(t)?[t]:t},this.setCampaignKeywordKey=function(t){configCampaignKeywordParameters=isString(t)?[t]:t},this.discardHashTag=function(t){configDiscardHashTag=t},this.setCookieNamePrefix=function(t){configCookieNamePrefix=t,customVariables=getCustomVariablesFromCookie()},this.setCookieDomain=function(t){var e=domainFixup(t);isPossibleToSetCookieOnDomain(e)&&(configCookieDomain=e,updateDomainHash())},this.getCookieDomain=function(){return configCookieDomain},this.hasCookies=function(){return"1"===hasCookies()},this.setSessionCookie=function(t,e,i){if(!t)throw new Error("Missing cookie name");isDefined(i)||(i=configSessionCookieTimeout),configCookiesToDelete.push(t),setCookie(getCookieName(t),e,i,configCookiePath,configCookieDomain)},this.getCookie=function(t){var e=getCookie(getCookieName(t));return 0===e?null:e},this.setCookiePath=function(t){configCookiePath=t,updateDomainHash()},this.getCookiePath=function(t){return configCookiePath},this.setVisitorCookieTimeout=function(t){configVisitorCookieTimeout=1e3*t},this.setSessionCookieTimeout=function(t){configSessionCookieTimeout=1e3*t},this.getSessionCookieTimeout=function(){return configSessionCookieTimeout},this.setReferralCookieTimeout=function(t){configReferralCookieTimeout=1e3*t},this.setConversionAttributionFirstReferrer=function(t){configConversionAttributionFirstReferrer=t},this.setSecureCookie=function(t){configCookieIsSecure=t},this.disableCookies=function(){configCookiesDisabled=!0,browserFeatures.cookie="0",configTrackerSiteId&&deleteCookies()},this.deleteCookies=function(){deleteCookies()},this.setDoNotTrack=function(t){var e=navigatorAlias.doNotTrack||navigatorAlias.msDoNotTrack;(configDoNotTrack=t&&("yes"===e||"1"===e))&&this.disableCookies()},this.addListener=function(t,e){addClickListener(t,e)},this.enableLinkTracking=function(t){linkTrackingEnabled=!0;var e=this;trackCallback(function(){trackCallbackOnReady(function(){addClickListeners(t,e)})})},this.enableJSErrorTracking=function(){if(!enableJSErrorTracking){enableJSErrorTracking=!0;var t=windowAlias.onerror;windowAlias.onerror=function(e,i,n,o,a){return trackCallback(function(){var t=i+":"+n;o&&(t+=":"+o),logEvent("JavaScript Errors",t,e)}),!!t&&t(e,i,n,o,a)}}},this.disablePerformanceTracking=function(){configPerformanceTrackingEnabled=!1},this.setGenerationTimeMs=function(t){configPerformanceGenerationTime=parseInt(t,10)},this.enableHeartBeatTimer=function(t){t=Math.max(t,1),configHeartBeatDelay=1e3*(t||15),null!==lastTrackerRequestTime&&setUpHeartBeat()},this.disableHeartBeatTimer=function(){heartBeatDown(),(configHeartBeatDelay||heartBeatSetUp)&&(windowAlias.removeEventListener?(windowAlias.removeEventListener("focus",heartBeatOnFocus,!0),windowAlias.removeEventListener("blur",heartBeatOnBlur,!0)):windowAlias.detachEvent&&(windowAlias.detachEvent("onfocus",heartBeatOnFocus),windowAlias.detachEvent("onblur",heartBeatOnBlur))),configHeartBeatDelay=null,heartBeatSetUp=!1},this.killFrame=function(){windowAlias.location!==windowAlias.top.location&&(windowAlias.top.location=windowAlias.location)},this.redirectFile=function(t){"file:"===windowAlias.location.protocol&&(windowAlias.location=t)},this.setCountPreRendered=function(t){configCountPreRendered=t},this.trackGoal=function(t,e,i){trackCallback(function(){logGoal(t,e,i)})},this.trackLink=function(t,e,i,n){trackCallback(function(){logLink(t,e,i,n)})},this.getNumTrackedPageViews=function(){return numTrackedPageviews},this.trackPageView=function(t,e,i){trackedContentImpressions=[],consentRequestsQueue=[],isOverlaySession(configTrackerSiteId)?trackCallback(function(){injectOverlayScripts(configTrackerUrl,configApiUrl,configTrackerSiteId)}):trackCallback(function(){numTrackedPageviews++,logPageView(t,e,i)})},this.trackAllContentImpressions=function(){isOverlaySession(configTrackerSiteId)||trackCallback(function(){trackCallbackOnReady(function(){sendBulkRequest(getContentImpressionsRequestsFromNodes(content.findContentNodes()),configTrackerPause)})})},this.trackVisibleContentImpressions=function(t,e){isOverlaySession(configTrackerSiteId)||(isDefined(t)||(t=!0),isDefined(e)||(e=750),enableTrackOnlyVisibleContent(t,e,this),trackCallback(function(){trackCallbackOnLoad(function(){sendBulkRequest(getCurrentlyVisibleContentImpressionsRequestsIfNotTrackedYet(content.findContentNodes()),configTrackerPause)})}))},this.trackContentImpression=function(t,e,i){isOverlaySession(configTrackerSiteId)||(t=trim(t),e=trim(e),i=trim(i),t&&(e=e||"Unknown",trackCallback(function(){sendRequest(buildContentImpressionRequest(t,e,i),configTrackerPause)})))},this.trackContentImpressionsWithinNode=function(t){!isOverlaySession(configTrackerSiteId)&&t&&trackCallback(function(){isTrackOnlyVisibleContentEnabled?trackCallbackOnLoad(function(){sendBulkRequest(getCurrentlyVisibleContentImpressionsRequestsIfNotTrackedYet(content.findContentNodesWithinNode(t)),configTrackerPause)}):trackCallbackOnReady(function(){sendBulkRequest(getContentImpressionsRequestsFromNodes(content.findContentNodesWithinNode(t)),configTrackerPause)})})},this.trackContentInteraction=function(t,e,i,n){isOverlaySession(configTrackerSiteId)||(t=trim(t),e=trim(e),i=trim(i),n=trim(n),t&&e&&(i=i||"Unknown",trackCallback(function(){sendRequest(buildContentInteractionRequest(t,e,i,n),configTrackerPause)})))},this.trackContentInteractionNode=function(t,e){!isOverlaySession(configTrackerSiteId)&&t&&trackCallback(function(){sendRequest(buildContentInteractionRequestNode(t,e),configTrackerPause)})},this.logAllContentBlocksOnPage=function(){var t=content.findContentNodes(),e=content.collectContent(t);"undefined"!==typeof console&&console&&console.log&&console.log(e)},this.trackEvent=function(t,e,i,n,o,a){trackCallback(function(){logEvent(t,e,i,n,o,a)})},this.trackSiteSearch=function(t,e,i,n){trackCallback(function(){logSiteSearch(t,e,i,n)})},this.setEcommerceView=function(t,e,i,n){isDefined(i)&&i.length?i instanceof Array&&(i=JSON_PIWIK.stringify(i)):i="",customVariablesPage[5]=["_pkc",i],isDefined(n)&&String(n).length&&(customVariablesPage[2]=["_pkp",n]),(isDefined(t)&&t.length||isDefined(e)&&e.length)&&(isDefined(t)&&t.length&&(customVariablesPage[3]=["_pks",t]),isDefined(e)&&e.length||(e=""),customVariablesPage[4]=["_pkn",e])},this.addEcommerceItem=function(t,e,i,n,o){t.length&&(ecommerceItems[t]=[t,e,i,n,o])},this.trackEcommerceOrder=function(t,e,i,n,o,a){logEcommerceOrder(t,e,i,n,o,a)},this.trackEcommerceCartUpdate=function(t){logEcommerceCartUpdate(t)},this.trackRequest=function(t,e,i,n){trackCallback(function(){sendRequest(getRequest(t,e,n),configTrackerPause,i)})},this.getRememberedConsent=function(){var t=getCookie(CONSENT_COOKIE_NAME);return getCookie(CONSENT_REMOVED_COOKIE_NAME)?(t&&deleteCookie(CONSENT_COOKIE_NAME,configCookiePath,configCookieDomain),null):t&&0!==t?t:null},this.hasRememberedConsent=function(){return!!this.getRememberedConsent()},this.requireConsent=function(){configHasConsent=this.hasRememberedConsent(),plugins["CoreConsent"+ ++coreConsentCounter]={unload:function(){configHasConsent||deleteCookies()}}},this.setConsentGiven=function(){var t,e;for(configHasConsent=!0,deleteCookie(CONSENT_REMOVED_COOKIE_NAME,configCookiePath,configCookieDomain),t=0;t<consentRequestsQueue.length;t++)"string"===(e=typeof consentRequestsQueue[t])?sendRequest(consentRequestsQueue[t],configTrackerPause):"object"===e&&sendBulkRequest(consentRequestsQueue[t],configTrackerPause);consentRequestsQueue=[]},this.rememberConsentGiven=function(t){if(configCookiesDisabled)logConsoleError("rememberConsentGiven is called but cookies are disabled, consent will not be remembered");else{t&&(t=60*t*60*1e3),this.setConsentGiven();var e=(new Date).getTime();setCookie(CONSENT_COOKIE_NAME,e,t,configCookiePath,configCookieDomain,configCookieIsSecure)}},this.forgetConsentGiven=function(){configCookiesDisabled?logConsoleError("forgetConsentGiven is called but cookies are disabled, consent will not be forgotten"):(deleteCookie(CONSENT_COOKIE_NAME,configCookiePath,configCookieDomain),setCookie(CONSENT_REMOVED_COOKIE_NAME,(new Date).getTime(),0,configCookiePath,configCookieDomain,configCookieIsSecure),this.requireConsent())},this.isUserOptedOut=function(){return!configHasConsent},this.optUserOut=this.forgetConsentGiven,this.forgetUserOptOut=this.rememberConsentGiven,Piwik.trigger("TrackerSetup",[this])}function TrackerProxy(){return{push:apply}}function applyMethodsInOrder(t,e){var i,n,o={};for(i=0;i<e.length;i++){var a=e[i];for(o[a]=1,n=0;n<t.length;n++)if(t[n]&&t[n][0]){var r=t[n][0];a===r&&(apply(t[n]),delete t[n],o[r]>1&&"addTracker"!==r&&logConsoleError("The method "+r+' is registered more than once in "_paq" variable. Only the last call has an effect. Please have a look at the multiple Piwik trackers documentation: https://developer.piwik.org/guides/tracking-javascript-guide#multiple-piwik-trackers'),o[r]++)}}return t}var applyFirst=["addTracker","disableCookies","setTrackerUrl","setAPIUrl","enableCrossDomainLinking","setCrossDomainLinkingTimeout","setSecureCookie","setCookiePath","setCookieDomain","setDomains","setUserId","setSiteId","enableLinkTracking","requireConsent","setConsentGiven"];function createFirstTracker(t,e){var i=new Tracker(t,e);for(asyncTrackers.push(i),_paq=applyMethodsInOrder(_paq,applyFirst),iterator=0;iterator<_paq.length;iterator++)_paq[iterator]&&apply(_paq[iterator]);return _paq=new TrackerProxy,i}return addEventListener(windowAlias,"beforeunload",beforeUnloadHandler,!1),Date.prototype.getTimeAlias=Date.prototype.getTime,Piwik={initialized:!1,JSON:JSON_PIWIK,DOM:{addEventListener:function(t,e,i,n){"undefined"===typeof n&&(n=!1),addEventListener(t,e,i,n)},onLoad:trackCallbackOnLoad,onReady:trackCallbackOnReady,isNodeVisible:isVisible,isOrWasNodeVisible:content.isNodeVisible},on:function(t,e){eventHandlers[t]||(eventHandlers[t]=[]),eventHandlers[t].push(e)},off:function(t,e){if(eventHandlers[t])for(var i=0;i<eventHandlers[t].length;i++)eventHandlers[t][i]===e&&eventHandlers[t].splice(i,1)},trigger:function(t,e,i){if(eventHandlers[t])for(var n=0;n<eventHandlers[t].length;n++)eventHandlers[t][n].apply(i||windowAlias,e)},addPlugin:function(t,e){plugins[t]=e},getTracker:function(t,e){return isDefined(e)||(e=this.getAsyncTracker().getSiteId()),isDefined(t)||(t=this.getAsyncTracker().getTrackerUrl()),new Tracker(t,e)},getAsyncTrackers:function(){return asyncTrackers},addTracker:function(t,e){return asyncTrackers.length?asyncTrackers[0].addTracker(t,e):createFirstTracker(t,e)},getAsyncTracker:function(t,e){var i;if(!(asyncTrackers&&asyncTrackers.length&&asyncTrackers[0]))return createFirstTracker(t,e);if(i=asyncTrackers[0],!e&&!t)return i;isDefined(e)&&null!==e||!i||(e=i.getSiteId()),isDefined(t)&&null!==t||!i||(t=i.getTrackerUrl());for(var n,o=0;o<asyncTrackers.length;o++)if((n=asyncTrackers[o])&&String(n.getSiteId())===String(e)&&n.getTrackerUrl()===t)return n},retryMissedPluginCalls:function(){var t=missedPluginTrackerCalls;missedPluginTrackerCalls=[];for(var e=0;e<t.length;e++)apply(t[e])}},"function"==typeof define&&define.amd&&define("piwik",[],function(){return Piwik}),Piwik}()),function(){"use strict";if(window&&"object"==typeof window.piwikPluginAsyncInit&&window.piwikPluginAsyncInit.length)for(var t=0;t<window.piwikPluginAsyncInit.length;t++)"function"==typeof window.piwikPluginAsyncInit[t]&&window.piwikPluginAsyncInit[t]();window&&window.piwikAsyncInit&&window.piwikAsyncInit(),window.Piwik.getAsyncTrackers().length||("object"==typeof _paq&&void 0!==_paq.length&&_paq.length?window.Piwik.addTracker():_paq={push:function(t){"undefined"!==typeof console&&console&&console.error&&console.error("_paq.push() was used but Piwik tracker was not initialized before the piwik.js file was loaded. Make sure to configure the tracker via _paq.push before loading piwik.js. Alternatively, you can create a tracker via Piwik.addTracker() manually and then use _paq.push but it may not fully work as tracker methods may not be executed in the correct order.",t)}}),window.Piwik.trigger("PiwikInitialized",[]),window.Piwik.initialized=!0}(),"undefined"==typeof AnalyticsTracker&&(AnalyticsTracker=window.Piwik),"function"!=typeof piwik_log&&(piwik_log=function(t,e,i,n){"use strict";function o(t){try{if(window["piwik_"+t])return window["piwik_"+t]}catch(t){}}var a,r=window.Piwik.getTracker(i,e);r.setDocumentTitle(t),r.setCustomData(n),(a=o("tracker_pause"))&&r.setLinkTrackingTimer(a),(a=o("download_extensions"))&&r.setDownloadExtensions(a),(a=o("hosts_alias"))&&r.setDomains(a),(a=o("ignore_classes"))&&r.setIgnoreClasses(a),r.trackPageView(),o("install_tracker")&&(piwik_track=function(t,e,i,n){r.setSiteId(e),r.setTrackerUrl(i),r.trackLink(t,n)},r.enableLinkTracking())});