/*! For license information please see gdpr.bundle.js.LICENSE.txt */
!function(){var e={291:function(){!function(){if("function"!=typeof window.__tcfapi||window.__tcfapi&&"function"!=typeof window.__tcfapi.start){var e,t=[],s=window,o=s.document,i=s.__tcfapi?s.__tcfapi.start:function(){};if(!s.__tcfapi&&function e(){var t=!!s.frames.__tcfapiLocator;if(!t)if(o.body){var i=o.createElement("iframe");i.style.cssText="display:none",i.name="__tcfapiLocator",o.body.appendChild(i)}else setTimeout(e,5);return!t}()||s.__tcfapi&&!s.__tcfapi.start){var n=s.__tcfapi?s.__tcfapi():[];t.push.apply(t,n),s.__tcfapi=function(s,o,i,n){var r=[s,o,i,n];if(!r.length)return t;if("setGdprApplies"===r[0])r.length>3&&2===parseInt(r[1],10)&&"boolean"==typeof r[3]&&(e=r[3],"function"==typeof r[2]&&r[2]("set",!0));else if("ping"===r[0]){var a={gdprApplies:e,cmpLoaded:!1,apiVersion:"2.0"};"function"==typeof r[2]&&r[2](a,!0)}else t.push(r)},s.__tcfapi.commandQueue=t,s.__tcfapi.start=i,s.addEventListener("message",(function(e){var t="string"==typeof e.data,o={};try{o=t?JSON.parse(e.data):e.data}catch(e){}var i=o.__tcfapiCall;i&&s.__tcfapi(i.command,i.version,(function(s,o){if(e.source){var n={__tcfapiReturn:{returnValue:s,success:o,callId:i.callId,command:i.command}};t&&(n=JSON.stringify(n)),e.source.postMessage(n,"*")}}),i.parameter)}),!1)}}}()},206:function(e,t,s){const o=s(928),{padLeft:i,padRight:n}=s(421),{encodeFields:r}=s(14),{decodeFields:a,decodePublisherTC:l}=s(827);function c(e){let t=e;for(;t.length%4!=0;)t+="=";t=t.replace(/-/g,"+").replace(/_/g,"/");const s=o.decode(t);let n="";for(let e=0;e<s.length;e+=1){const t=s.charCodeAt(e).toString(2);n+=i(t,8-t.length)}return n}e.exports={encodeToBase64:function(e,t,s){return function(e){if(e){const t=n(e,7-(e.length+7)%8);let s="";for(let e=0;e<t.length;e+=8)s+=String.fromCharCode(parseInt(t.substr(e,8),2));return o.encode(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}return null}(r(e,t,s))},decodeFromBase64:function(e,t){const s=c(e),{decodedObject:o}=a(s,t);return o},decodePublisherTCFromBase64:function(e){const t=c(e);return l(t)},getSegmentType:function(e){const t=c(e);return parseInt(t.substr(0,3),2)}}},827:function(e){function t(e,t,s){if(void 0!==s&&e.length<t+s)throw new Error("Invalid decoding input")}function s(e,s,o){return t(e,s,o),parseInt(e.substr(s,o),2)}function o(e,o,i){return t(e,o,i),new Date(100*s(e,o,i))}function i(e,t){return 1===parseInt(e.substr(t,1),2)}function n(e){const t=s(e);return String.fromCharCode(t+65).toLowerCase()}function r(e,s,o){t(e,s,o);const i=e.substr(s,o);return n(i.slice(0,o/2))+n(i.slice(o/2))}function a(e,t){let o=t;const n=[],r=s(e,o,12);o+=12;let a=0;for(;a<r;){const t=i(e,o);if(o+=1,t){const t=s(e,o,16);o+=16;const i=s(e,o,16);o+=16;for(let e=t;e<=i;e+=1)n.push(e)}else{const t=s(e,o,16);o+=16,n.push(t)}a+=1}return{fieldValue:n,newPosition:o}}function l(e,s,o){t(e,s,o);const i=[],n=e.substr(s,o);for(let e=0;e<n.length;e+=1)"0"!==n[e]&&i.push(e+1);return i}function c(e,t,o){let n=[],r=t;const c=s(e,t,o);r+=o;const d=i(e,r);return r+=1,d?a(e,r):(n=l(e.substr(r,c)),r+=c,{fieldValue:n,newPosition:r})}function d(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=s;t.segmentId&&(o+=3);const i=t.fields.reduce(((t,s)=>{const{name:i,numBits:n}=s,{fieldValue:r,newPosition:a}=p(e,t,o,s);return void 0!==r&&(t[i]=r),void 0!==a?o=a:"number"==typeof n&&(o+=n),t}),{});return{decodedObject:i,newPosition:o}}function u(e,t,o,i){let n=t;const r=[],a=s(e,n,o);n+=o;for(let t=0;t<a;t+=1){const{decodedObject:t,newPosition:s}=d(e,i,n);n=s,r.push(t)}return{fieldValue:r,newPosition:n}}function p(e,t,n,d){const{type:p,numBits:h}=d,g="function"==typeof h?h(t):h;switch(p){case"int":return{fieldValue:s(e,n,g)};case"bool":return{fieldValue:i(e,n)};case"date":return{fieldValue:o(e,n,g)};case"list":return{fieldValue:l(e,n,g)};case"textcode":return{fieldValue:r(e,n,g)};case"range":return a(e,n);case"minlist":return c(e,n,g);case"array":return u(e,n,g,d);default:throw new Error(`TCStringV2 - Unknown field type ${p} for decoding`)}}e.exports={decodeBitsToInt:s,decodeBitsToBool:i,decodeBitsToDate:o,decodeBitsToLetter:n,decodeBitsToTextCode:r,decodeBitsToRange:a,decodeBitsToMinList:c,decodeBitsToArray:u,decodeFields:d,decodePublisherTC:function(e){let t=0;const o=s(e,t,3);if(t+=3,3!==o)throw new Error("Invalid consent string");const i=l(e,t,24);t+=24;const n=l(e,t,24);t+=24;const r=s(e,t,6);t+=6;const a=l(e,t,r);return t+=r,{pubPurposesConsent:i,pubPurposesLITransparency:n,numCustomPurposes:r,customPurposesConsent:a,customPurposesLITransparency:l(e,t,r)}}}},600:function(e){e.exports={consentStringDefinition:{core:{fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"textcode",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"tcfPolicyVersion",type:"int",numBits:6},{name:"isServiceSpecific",type:"bool",numBits:1},{name:"useNonStandardStacks",type:"bool",numBits:1},{name:"specialFeatureOptIns",type:"list",numBits:12},{name:"purposesConsent",type:"list",numBits:24},{name:"purposeLITransparency",type:"list",numBits:24},{name:"purposeOneTreatment",type:"bool",numBits:1},{name:"publisherCC",type:"textcode",numBits:12},{name:"vendorsConsent",type:"minlist",numBits:16},{name:"vendorsLegitimateInterest",type:"minlist",numBits:16},{name:"publisherRestrictions",type:"array",numBits:12,fields:[{name:"purposeId",type:"int",numBits:6},{name:"restrictionType",type:"int",numBits:2},{name:"restrictedVendors",type:"range"}]}]},disclosedVendors:{segmentId:1,fields:[{name:"disclosedVendors",type:"minlist",numBits:16}]},allowedVendors:{segmentId:2,fields:[{name:"allowedVendors",type:"minlist",numBits:16}]},publisherTC:{segmentId:3,fields:[{name:"pubPurposesConsent",type:"list",numBits:24},{name:"pubPurposesLITransparency",type:"list",numBits:24},{name:"numCustomPurposes",type:"int",numBits:6},{name:"customPurposesConsent",type:"list",numBits:e=>e.numCustomPurposes},{name:"customPurposesLITransparency",type:"list",numBits:e=>e.numCustomPurposes}]}}}},14:function(e,t,s){const{padLeft:o,getMaxListElement:i}=s(421);function n(e,t){let s="";return"number"!=typeof e||Number.isNaN(e)||(s=parseInt(e,10).toString(2)),t>=s.length&&(s=o(s,t-s.length)),s.length>t&&(s=s.substring(0,t)),s}function r(e){return n(!0===e?1:0,1)}function a(e,t){return e instanceof Date?n(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())/100,t):n(e,t)}function l(e,t){return n(e.toUpperCase().charCodeAt(0)-65,t)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return l(e.slice(0,1),t/2)+l(e.slice(1),t/2)}function d(e,t){let s="";for(let o=1;o<=t;o+=1)s+=-1!==e.indexOf(o)?"1":"0";return s}function u(e,t){return s=function(e,t){const s=i(e);let o=[];const n=[];if(t)n.push({isRange:!0,startId:1,endId:s});else for(let t=1;t<=s;t+=1){const s=t;if(-1!==e.indexOf(s)&&o.push(s),(-1===e.indexOf(s)||-1===e.indexOf(s+1))&&o.length){const e=o.shift(),t=o.pop();o=[],n.push({isRange:"number"==typeof t,startId:e,endId:t})}}return n}(e,t),n(s.length,12)+s.reduce(((e,t)=>e+function(e){return r(e.isRange)+n(e.startId,16)+(e.isRange?n(e.endId,16):"")}(t)),"");var s}function p(e,t){const s=u(e),o=d(e,i(e));return n(i(e),t)+r(s.length<o.length)+(s.length<o.length?s:o)}function h(e,t,s){let o="";return t.segmentId&&(o=n(t.segmentId,3)),t.fields.reduce(((t,o)=>t+function(e,t,s){const{name:o,type:i,numBits:l}=t,h=e[o],f=null==h?"":h,m="function"==typeof l?l(e):l;switch(i){case"int":return n(f,m);case"bool":return r(f);case"date":return a(f,m);case"list":return d(f,m);case"textcode":return c(f,m);case"range":return u(f,s);case"minlist":return p(f,m);case"array":return g(f,m,t,s);default:throw new Error(`TCStringV2 - Unknown field type ${i} for encoding`)}}(e,o,s)),o)}function g(e,t,s,o){const i=e||[];return n(i.length,t)+i.reduce(((e,t)=>e+h(t,s,o)),"")}e.exports={encodeBoolToBits:r,encodeIntToBits:n,encodeDateToBits:a,encodeLetterToBits:l,encodeTextCodeToBits:c,encodeListToBits:d,encodeListToRangeBits:u,encodeMinListToBits:p,encodeArrayToBits:g,encodeFields:h}},924:function(e,t,s){const{TCStringV2:o}=s(45);e.exports={TCStringV2:o}},45:function(e,t,s){const{encodeToBase64:o,decodeFromBase64:i,decodePublisherTCFromBase64:n,getSegmentType:r}=s(206),{consentStringDefinition:a}=s(600);e.exports={TCStringV2:class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setConsentString(e)}getCoreSegmentData(){return this.core?{...this.core}:null}setCoreSegmentData(e){this.core={...e}}getCoreSegmentString(e){return this.core?o(this.core,a.core,e):null}setCoreSegmentString(e){this.core=i(e,a.core)}getDisclosedVendorsData(){return this.disclosedVendors?{...this.disclosedVendors}:null}setDisclosedVendorsData(e){this.disclosedVendors={...e}}getDisclosedVendorsString(){return this.disclosedVendors?o(this.disclosedVendors,a.disclosedVendors):null}setDisclosedVendorsString(e){this.disclosedVendors=i(e,a.disclosedVendors)}getAllowedVendorsData(){return this.allowedVendors?{...this.allowedVendors}:null}setAllowedVendorsData(e){this.allowedVendors={...e}}getAllowedVendorsString(){return this.allowedVendors?o(this.allowedVendors,a.allowedVendors):null}setAllowedVendorsString(e){this.allowedVendors=i(e,a.allowedVendors)}getPublisherTCData(){return this.publisherTC?{...this.publisherTC}:null}setPublisherTCData(e){this.publisherTC={...e}}getPublisherTCString(){return this.publisherTC?o(this.publisherTC,a.publisherTC):null}setPublisherTCString(e){this.publisherTC=n(e)}setConsentString(e){if(this.core=null,this.disclosedVendors=null,this.allowedVendors=null,this.publisherTC=null,e){const t=e.split(".");t.length>0&&this.setCoreSegmentString(t[0]);for(let e=1;e<t.length;e+=1)switch(r(t[e])){case 1:this.setAllowedVendorsString(t[e]);break;case 2:this.setDisclosedVendorsString(t[e]);break;case 3:this.setPublisherTCString(t[e]);break;default:throw new Error("Unknown segment type in consent string")}}}getConsentString(e){const t=[];return this.core?(t.push(this.getCoreSegmentString(e)),this.disclosedVendors&&t.push(this.getDisclosedVendorsString()),this.allowedVendors&&t.push(this.getAllowedVendorsString()),this.publisherTC&&t.push(this.getPublisherTCString()),t.join(".")):null}}}},421:function(e){function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",s="";for(let o=0;o<e;o+=1)s+=t;return s}e.exports={padLeft:function(e,s){return t(Math.max(0,s))+e},padRight:function(e,s){return e+t(Math.max(0,s))},getMaxListElement:function(e){let t=0;return(e||[]).forEach((e=>{e>t&&(t=e)})),t}}},926:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(943);function i(e,t){const s={...e,...t};return Object.keys(e).forEach((n=>{e[n]&&"object"==typeof e[n]&&((0,o.isObject)(e[n])&&t[n]?s[n]=i(e[n],t[n]):!t[n]||t[n].constructor!==String&&t[n].constructor!==Array?e[n].constructor===String||e[n].constructor===Array?s[n]=e[n]:s[n]={...e[n],...t[n]}:s[n]=t[n])})),s}var n=new class{constructor(){var e,t;t=(e,t)=>{if(e&&"object"==typeof e){t&&(this.validKeys=Object.keys(e));const{validUpdates:s}=Object.keys(e).reduce(((t,s)=>(this.validKeys.indexOf(s)>-1&&(t.validUpdates={...t.validUpdates,[s]:e[s]}),t)),{validUpdates:{}}),o=i(this,s);Object.assign(this,o)}},(e="update")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t,this.validKeys={}}};t.default=n},974:function(e,t,s){"use strict";t.cmpUtils=t.cmpStorage=void 0,Object.defineProperty(t,"config",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return i.default}}),t.portal=void 0;var o=d(s(926)),i=d(s(857)),n=c(s(756));t.portal=n;var r=c(s(645));t.cmpStorage=r;var a=c(s(943));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(l=function(e){return e?s:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=l(t);if(s&&s.has(e))return s.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=i?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n]}return o.default=e,s&&s.set(e,o),o}function d(e){return e&&e.__esModule?e:{default:e}}t.cmpUtils=a},857:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=(o=s(926))&&o.__esModule?o:{default:o},n=void 0;const r=["debug","info","warn","error"];var a=r.reduce(((e,t,s)=>(e[t]=function(){const e="debug"===t?"log":t,{logging:o}=i.default;if(Function.prototype.bind&&window.console&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach((e=>{console[e]=n.bind(console[e],console)}),Function.prototype.call),o&&console&&"function"==typeof console[e]){const i=r.indexOf(o.toString().toLocaleLowerCase());if(!0===o||i>-1&&s>=i){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];const[s,...o]=[...l];console[e](`${t.toUpperCase()} - (GlobalCmp) ${s}`,...o)}}},e)),{});t.default=a},756:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openGlobalPortal=h,t.openSharedPortal=g,t.sendGlobalPortalCommand=function(e,t){const s="vp:"+ ++l;return new Promise(((o,i)=>h(t).then((n=>{f(n,e,t,d,s,o,i)})).catch(i)))},t.sendSharedPortalCommand=function(e,t){const s="vp:"+ ++c;return new Promise(((o,i)=>g(t).then((n=>{f(n,e,t,u,s,o,i)})).catch(i)))};var o,i=(o=s(926))&&o.__esModule?o:{default:o};const n="lrcmpData";let r,a,l=0,c=0;const d={},u={};function p(e,t,s){return new Promise(((o,i)=>{const r=function(e){const t=document.createElement("iframe");return t.setAttribute("style","display: none;"),t.setAttribute("src",e),t}(e),a=function(e){const t=setInterval((()=>{document.body&&(document.body.appendChild(e),clearInterval(t))}),5);return t}(r);let l=setTimeout((()=>{clearInterval(a),i(new Error("Communication could not be established with the portal domain within 50000 milliseconds"))}),5e4);window.addEventListener("message",(e=>{if(e&&e.data){const i=e.data[s||n];if(i)if("isLoaded"===i.command&&l)clearTimeout(l),l=void 0,o(r);else{const e=t[i.callId];if(e){const{timeout:s}=e,o=e.resolve;delete t[i.callId],clearTimeout(s),o(i.result)}}}}))}))}function h(e){return a||(a=p(i.default.globalConsentLocation,d,e)),a}function g(e){return r||(r=p(i.default.sharedConsentLocation,u,e)),r}function f(e,t,s,o,i,r,a){const l=setTimeout((()=>{delete o[i],a(new Error(`${t.command} response not received from portal domain within 5000 milliseconds`))}),5e3);o[i]={resolve:r,timeout:l};const c={};c[s||n]={callId:i,...t},e.contentWindow.postMessage(c,"*")}},645:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_AGE=void 0,t.readCookie=u,t.readData=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(o.default.useExternalData){const t=(0,n.getUrlParam)(e);if(t)return i.default.debug(`Skipping cookies and localStorage for ${e}, read from query string: `,t),t}return o.default.useCookies?u(e):d(e,t,s)},t.readFromLocalStorage=d,t.readFromPortal=function(e,t,s){return i.default.debug("Request data from portal"),e({command:"read",name:s,useCookies:o.default.useCookies},t).then((e=>(i.default.debug("Read data from portal: ",e),e))).catch((e=>{i.default.error("Failed reading from portal: ",e)}))},t.writeCookie=p,t.writeData=function(e,t,s,i){return o.default.useCookies?p(e,t,s,i):h(e,t,s)},t.writeOnPortal=function(e,t,s,n,r){return i.default.debug("Send data to portal: ",n),e({command:"write",name:s,value:n,maxAgeSeconds:r,useCookies:o.default.useCookies},t).catch((e=>{i.default.error("Failed writing data on portal: ",e)}))},t.writeToLocalStorage=h;var o=r(s(926)),i=r(s(857)),n=s(943);function r(e){return e&&e.__esModule?e:{default:e}}const a="Thu, 01 Jan 1970 00:00:01 GMT;",l=33696e3;function c(){let e,t;const s="lr_get_top_level_domain=cookie",o=document.location.hostname.split(".");for(e=o.length-1;e>=0;e--)if(t=o.slice(e).join("."),document.cookie=`${s};domain=.${t};SameSite=Lax`,document.cookie.indexOf(s)>-1)return document.cookie=`${s.split("=")[0]}=;domain=.${t};expires==${a}SameSite=Lax`,t;return null}function d(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(localStorage)if(s){const t=localStorage.getItem(e);if(t)return t}else{const s=JSON.parse(localStorage.getItem(e));if(s&&s.data){if(!s.expire||s.expire>+new Date)return s.data;if(!t){return u(e,!0)||s.data}}}}catch(t){i.default.error(`Unable to parse ${e} from localStorage: `,t)}return t?null:u(e,!0)}function u(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=`; ${document.cookie}`,o=s.split(`; ${e}=`);return o.length>=2?o.pop().split(";").shift():t?null:d(e,!0)}function p(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";const n=null===s?"":`;max-age=${s}`,r=null===s?"":`;expires=${new Date(1*new Date+1e3*s).toUTCString()}`;i=`;path=${i}`;let l=c();return l=l?`;domain=.${l}`:"",t?o.default.useSecondLevelDomain?(document.cookie=`${e}=${i};expires=${a}SameSite=Lax`,document.cookie=`${e}=${t}${i}${l}${n}${r};SameSite=Lax`):(document.cookie=`${e}=${l}${i};expires=${a}SameSite=Lax`,document.cookie=`${e}=${t}${i}${n}${r};SameSite=Lax`):(document.cookie=`${e}=${i};expires=${a}SameSite=Lax`,document.cookie=`${e}=${l}${i};expires=${a}SameSite=Lax`),u(e)}function h(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{if(localStorage){if(t){const o={data:t,expire:+new Date(1*new Date+1e3*s)};localStorage.setItem(e,JSON.stringify(o))}else localStorage.removeItem(e);return t}}catch(t){i.default.error(`Unable to store ${e} to localStorage: `,t)}return o?null:p(e,t,s)}t.MAX_AGE=l},943:function(e){"use strict";const t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);e.exports={isSafari:t,getDecisecond:function(){const e=new Date,t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return Math.round(t/100)},isDoNotTrackEnabled:function(){const e=window.doNotTrack||window.navigator.doNotTrack||window.navigator.msDoNotTrack;return!!e&&("1"===e.charAt(0)||"yes"===e)},isBoolean:function(e){return!1===e||!0===e},isObject:function(e){const t=typeof e;return("function"===t||"object"===t&&!!e)&&e.constructor!==Array},isObjectEmpty:function(e){return 0===Object.keys(e).length&&e.constructor===Object},orderObject:function(e){return Object.keys(e).sort().reduce(((t,s)=>(t[s]=e[s],Array.isArray(t[s])&&t[s].sort(),t)),{})},hashCode:function(e){let t=0;const s=e.length;let o=0;if(s>0)for(;o<s;)t=(t<<5)-t+e.charCodeAt(o++)|0;return t.toString()},getUrlParam:function(e){return function(){const e=window.location.href.split("?")[1],t={};if(e){const s=e.split("&");for(const e of s){const[s,o]=e.split("=");t[s]=o}}return t}()[e]},syncEmitter:function(e,t){this.done=()=>{e(t)}}}},602:function(e,t,s){e.exports=s(974)},51:function(e,t,s){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDefault=void 0;var i=o(s(396));t.getDefault=function(){return{en:i.default}}},928:function(e,t,s){var o;e=s.nmd(e),function(i){var n=(e&&e.exports,"object"==typeof s.g&&s.g);n.global!==n&&n.window;var r=function(e){this.message=e};(r.prototype=new Error).name="InvalidCharacterError";var a=function(e){throw new r(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var t,s,o,i,n=e.length%3,r="",c=-1,d=e.length-n;++c<d;)t=e.charCodeAt(c)<<16,s=e.charCodeAt(++c)<<8,o=e.charCodeAt(++c),r+=l.charAt((i=t+s+o)>>18&63)+l.charAt(i>>12&63)+l.charAt(i>>6&63)+l.charAt(63&i);return 2==n?(t=e.charCodeAt(c)<<8,s=e.charCodeAt(++c),r+=l.charAt((i=t+s)>>10)+l.charAt(i>>4&63)+l.charAt(i<<2&63)+"="):1==n&&(i=e.charCodeAt(c),r+=l.charAt(i>>2)+l.charAt(i<<4&63)+"=="),r},decode:function(e){var t=(e=String(e).replace(c,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var s,o,i=0,n="",r=-1;++r<t;)o=l.indexOf(e.charAt(r)),s=i%4?64*s+o:o,i++%4&&(n+=String.fromCharCode(255&s>>(-2*i&6)));return n},version:"1.0.0"};void 0===(o=function(){return d}.call(t,s,t,e))||(e.exports=o)}()},819:function(e,t,s){var o;!function(i,n){"use strict";var r="function",a="undefined",l="object",c="string",d="model",u="name",p="type",h="vendor",g="version",f="architecture",m="console",b="mobile",y="tablet",v="smarttv",w="wearable",C="embedded",S="Amazon",P="Apple",T="ASUS",L="BlackBerry",I="Google",D="Huawei",k="LG",x="Microsoft",A="Motorola",O="Samsung",V="Sony",B="Xiaomi",E="Zebra",M="Facebook",F=function(e){for(var t={},s=0;s<e.length;s++)t[e[s].toUpperCase()]=e[s];return t},N=function(e,t){return typeof e===c&&-1!==j(t).indexOf(j(e))},j=function(e){return e.toLowerCase()},U=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,255)},R=function(e,t){for(var s,o,i,a,c,d,u=0;u<t.length&&!c;){var p=t[u],h=t[u+1];for(s=o=0;s<p.length&&!c;)if(c=p[s++].exec(e))for(i=0;i<h.length;i++)d=c[++o],typeof(a=h[i])===l&&a.length>0?2===a.length?typeof a[1]==r?this[a[0]]=a[1].call(this,d):this[a[0]]=a[1]:3===a.length?typeof a[1]!==r||a[1].exec&&a[1].test?this[a[0]]=d?d.replace(a[1],a[2]):n:this[a[0]]=d?a[1].call(this,d,a[2]):n:4===a.length&&(this[a[0]]=d?a[3].call(this,d.replace(a[1],a[2])):n):this[a]=d||n;u+=2}},_=function(e,t){for(var s in t)if(typeof t[s]===l&&t[s].length>0){for(var o=0;o<t[s].length;o++)if(N(t[s][o],e))return"?"===s?n:s}else if(N(t[s],e))return"?"===s?n:s;return e},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,g],[/opios[\/ ]+([\w\.]+)/i],[g,[u,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[g,[u,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[u,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[g,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],g],[/\bfocus\/([\w\.]+)/i],[g,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[g,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[g,[u,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],g],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,M],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,g],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[g,[u,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[g,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[g,_,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,g]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,j]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",j]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,j]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,O],[p,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[h,O],[p,b]],[/\((ip(?:hone|od)[\w ]*);/i],[d,[h,P],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[h,P],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[h,D],[p,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[d,[h,D],[p,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[h,B],[p,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[h,B],[p,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[h,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[h,"Vivo"],[p,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[h,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[h,A],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[h,A],[p,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,k],[p,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[h,k],[p,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[h,"Lenovo"],[p,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[h,"Nokia"],[p,b]],[/(pixel c)\b/i],[d,[h,I],[p,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[h,I],[p,b]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[h,V],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[h,V],[p,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[h,"OnePlus"],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[h,S],[p,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[h,S],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,h,[p,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[h,L],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[h,T],[p,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[h,T],[p,b]],[/(nexus 9)/i],[d,[h,"HTC"],[p,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[h,[d,/_/g," "],[p,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[h,"Acer"],[p,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[h,"Meizu"],[p,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[h,"Sharp"],[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,d,[p,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,d,[p,y]],[/(surface duo)/i],[d,[h,x],[p,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[h,"Fairphone"],[p,b]],[/(u304aa)/i],[d,[h,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[d,[h,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[d,[h,"RCA"],[p,y]],[/\b(venue[\d ]{2,7}) b/i],[d,[h,"Dell"],[p,y]],[/\b(q(?:mv|ta)\w+) b/i],[d,[h,"Verizon"],[p,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[h,"Barnes & Noble"],[p,y]],[/\b(tm\d{3}\w+) b/i],[d,[h,"NuVision"],[p,y]],[/\b(k88) b/i],[d,[h,"ZTE"],[p,y]],[/\b(nx\d{3}j) b/i],[d,[h,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[d,[h,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[d,[h,"Swiss"],[p,y]],[/\b((zeki)?tb.*\b) b/i],[d,[h,"Zeki"],[p,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],d,[p,y]],[/\b(ns-?\w{0,9}) b/i],[d,[h,"Insignia"],[p,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[h,"NextBook"],[p,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],d,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],d,[p,b]],[/\b(ph-1) /i],[d,[h,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[h,"Envizen"],[p,y]],[/\b(trio[-\w\. ]+) b/i],[d,[h,"MachSpeed"],[p,y]],[/\btu_(1491) b/i],[d,[h,"Rotor"],[p,y]],[/(shield[\w ]+) b/i],[d,[h,"Nvidia"],[p,y]],[/(sprint) (\w+)/i],[h,d,[p,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,x],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[h,E],[p,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[h,E],[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[p,m]],[/droid.+; (shield) bui/i],[d,[h,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[d,[h,V],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[h,x],[p,m]],[/smart-tv.+(samsung)/i],[h,[p,v]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[h,O],[p,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,k],[p,v]],[/(apple) ?tv/i],[h,[d,"Apple TV"],[p,v]],[/crkey/i],[[d,"Chromecast"],[h,I],[p,v]],[/droid.+aft(\w)( bui|\))/i],[d,[h,S],[p,v]],[/\(dtv[\);].+(aquos)/i],[d,[h,"Sharp"],[p,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,U],[d,U],[p,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,v]],[/((pebble))app/i],[h,d,[p,w]],[/droid.+; (glass) \d/i],[d,[h,I],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[d,[h,E],[p,w]],[/(quest( 2)?)/i],[d,[h,M],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[p,b]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[g,_,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[g,_,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[g,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,g],[/\(bb(10);/i],[g,[u,L]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[u,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,g],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,g]]},H=function(e,t){if(typeof e===l&&(t=e,e=n),!(this instanceof H))return new H(e,t).getResult();var s=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),o=t?function(e,t){var s={};for(var o in e)t[o]&&t[o].length%2==0?s[o]=t[o].concat(e[o]):s[o]=e[o];return s}(z,t):z;return this.getBrowser=function(){var e,t={};return t.name=n,t.version=n,R.call(t,s,o.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:n,t},this.getCPU=function(){var e={};return e.architecture=n,R.call(e,s,o.cpu),e},this.getDevice=function(){var e={};return e.vendor=n,e.model=n,e.type=n,R.call(e,s,o.device),e},this.getEngine=function(){var e={};return e.name=n,e.version=n,R.call(e,s,o.engine),e},this.getOS=function(){var e={};return e.name=n,e.version=n,R.call(e,s,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(e){return s=typeof e===c&&e.length>255?U(e,255):e,this},this.setUA(s),this};H.VERSION="1.0.2",H.BROWSER=F([u,g,"major"]),H.CPU=F([f]),H.DEVICE=F([d,h,p,m,b,v,y,w,C]),H.ENGINE=H.OS=F([u,g]),typeof t!==a?(e.exports&&(t=e.exports=H),t.UAParser=H):s.amdO?(o=function(){return H}.call(t,s,t,e))===n||(e.exports=o):typeof i!==a&&(i.UAParser=H);var W=typeof i!==a&&(i.jQuery||i.Zepto);if(W&&!W.ua){var G=new H;W.ua=G.getResult(),W.ua.get=function(){return G.getUA()},W.ua.set=function(e){G.setUA(e);var t=G.getResult();for(var s in t)W.ua[s]=t[s]}}}("object"==typeof window?window:this)},396:function(e){"use strict";e.exports=JSON.parse('{"accept":"Accept","acceptAll":"Accept All","acceptAllDescription":"By accepting all, you will allow all purposes we and third-parties request.","accessibilityBack":"Go back to the previous page.","accessibilityBooleanConsent":"Controls to enable or disable consent.","accessibilityBooleanLI":"Controls to enable or disable legitimate interest.","accessibilityClose":"Close the Privacy Manager window.","accessibilityCustomize":"Customize your consent preferences.","accessibilityDeviceStorageDisclosure":"View the vendor\'s additional storage and access information.","accessibilityDisclosurePurpose":"View the list of purposes.","accessibilityFeatureInfo":"Read more detailed information about this feature.","accessibilityFeatureVendors":"View the vendors that use this feature.","accessibilityInformationModule":"Go to the Privacy Information page.","accessibilityLanguage":"Language selector.","accessibilityPrivacyPolicy":"View the vendor’s privacy policy.","accessibilityPurposeInfo":"Read more detailed information about this purpose.","accessibilityPurposeList":"View the list of purposes and features.","accessibilityPurposesConsent":"View the purposes for which the vendor request consent.","accessibilityPurposesLI":"View the purposes for which the vendor claims legitimate interest.","accessibilityStackInfo":"Read more detailed information about this functionality.","accessibilityToggle":"Go to the Privacy Manager window.","accessibilityTopic":"Read more on this topic.","accessibilityVendorFeatures":"View the features that are used by the vendor","accessibilityVendorList":"View the list of vendors","accessibilityVendors":"View the consent state of all parties involved.","accessibilityVendorsConsent":"Parties requesting consent.","accessibilityVendorsLI":"Parties claiming legitimate interest.","accessibilityWindow":"Privacy Manager window.","accessibilityToggleAllVendors":"Toggle consent state for all vendors [on,off]","accessibilityListVendors":"List of vendors.","accessibilityListPurposesFeatures":"List of purposes and features.","accessibilitySubListPurposesFeatures":"Sub list of purposes and features.","accessibilityDetailsScreen":"Details screen of","accessibilityOverviewPurposes":"Overview screen of purposes.\\nManage Privacy Settings by purpose.","accessibilityOverviewVendors":"Overview screen of vendors.\\nManage Privacy Settings by vendor.","accessibilityInformationScreen":"Information Page.","accessibilityTriStateToggle":"Toggle consent state for grouped purposes and features [on,off,partial].","accessibilityToggleChecked":"Toggle checked.","accessibilityToggleNotChecked":"Toggle not checked.","accessibilityTogglePartiallyChecked":"Toggle partially checked.","alwaysOn":"Always On","auditIdExplanation":"The Audit ID is a random unique number that is generated for you when you visit this website. The Audit ID is only logged and stored after you save your consent preferences. The purpose of the Audit ID is to keep a record of your preference history on which cookies you accepted and when. The information kept in relation to your Audit ID includes: timestamp, version of vendor list, and a list of vendors that are allowed to process your data.","auditIdTitle":"Audit ID","backButtonDialogBody":"Before continuing you need to make a choice concerning your privacy settings.","backButtonDialogButton":"Ok","backButtonDialogTitle":"Save Your Preferences","backToNotice":"Back","cancel":"Cancel","close":"Close","consent":"Consent","cookieMaxAgeSeconds":"The maximum storage duration is","copyToClipboard":"Copy to Clipboard","customResurfacingElaboration":"","deny":"Reject","denyAll":"Reject All","denyAllDescription":"Be aware that by clicking “Reject” not all features of this app may operate properly.","deviceStorageDisclosure":"Device Storage Disclosure","disclosureIntro":"We use your data for:","domain":"Host","exitButtonBoxDescription":"By pressing OK you are confirming your privacy preferences. It’s possible to change your settings at any time.","exitButtonBoxTitle":"Save Your Preferences","featureDetailsDescription":"Features support purposes and improve our ability to deliver services to you. See below to learn more about this feature and who is using it to process your data.","featureDetailsProcessingDataFor":"Vendors Using This Feature","featureDetailsTitle":"Your Choice. Your Experience.","features":"Features","giveConsentToAll":"Give Consent to All","iabExplanation":"Consent is stored and processed in compliance with the IAB Transparency and Consent Framework policy.","identifier":"Identifier Name","introDescription":"To provide the best experiences, we and our partners use technologies like cookies to store and/or access device information. Consenting to these technologies will allow us and our partners to process personal data such as browsing behaviour or unique IDs on this site.","introTitle":"Your Choice. Your Experience.","legitimateInterest":"Legitimate Interest","legitimateInterestNote":"For some purposes, your personal data may be processed on the legal ground of legitimate interest, you can exercise your right to object to companies processing personal data based on legitimate interest.","manageSettings":"Manage Settings","manageVendors":"Our Partners","maxAgeSeconds":"Maximum Storage Duration","moreInfo":"More Info","myAuditId":"My Audit ID","off":"Off","ok":"Ok","on":"On","privacyInformation":"Information","privacyInformationDescription":"Dig deeper and learn more about why we need your consent, why and how we use your data, where your consent is used, how to update your preferences, and more.","privacyInformationSubtitle":"Learn About Privacy","privacyManager":"Privacy Manager","publisherDetailsDescription":"See below to learn more about which purposes we are requesting consent and/or claiming legitimate interest to process your data for.","publisherDetailsIntroText":"See below to customise your data processing preferences and learn which purposes this vendor is requesting consent and/or which purposes they are claiming legitimate interest for.","publisherDetailsTitle":"Your Choice. Your Experience.","purposeDetailsClaimingLegitimateInterestFor":"Vendors Claiming Legitimate Interest","purposeDetailsRequiringConsentFor":"Vendors Requesting Consent","purposes":"Purposes","purposesDetailsDescription":"See below to learn more about this purpose and who is requesting consent and/or claiming legitimate interest to process your data for this purpose.","purposesDetailsTitle":"Your Choice. Your Experience.","purposesTabDescription":"We and selected companies may access and use your data for the purposes below. Click into any purpose to customise your preferences and to learn who is requesting consent and/or claiming legitimate interest to process your data for that purpose.","purposesTitle":"Your Choice. Your Experience.","reset":"Reset","resetAuditIdDialogBody":"Resetting your Audit ID will make it impossible for the website owner to verify your consent history prior to the reset.","resetAuditIdDialogTitle":"Reset Audit ID?","resetMyAuditId":"Reset My Audit ID","resurfacingElaborationMenu":"You can update your choices at any time by going to the settings menu.","resurfacingElaborationNoToggle":"You can change your settings at any time by visiting our privacy policy.","resurfacingElaborationToggle":"You can update your choices at any time by clicking on the Privacy icon in the bottom of the screen.","revokeConsentToAll":"Revoke Consent to All","saveAndExit":"Save and Exit","specialFeaturesDetailsDescription":"Features support purposes and improve our ability to deliver services to you. See below to customise your preferences with regard to this feature and/or learn more about this feature and who is using it to process your data. Features may still be used to ensure security, prevent fraud, and debug regardless of your choice.","specialFeaturesDetailsTitle":"Your Choice. Your Experience.","specialPurposeDetailsDescription":"This purpose is necessary for the service to function properly and therefore cannot be rejected nor turned off. The data for this purpose can only be used for the specified data processing operations.","specialPurposeDetailsTitle":"Your Choice. Your Experience.","thirdPartyVendors":"Our Partners","tip":"TIP!","type":"Storage Type","usesCookieAccessTrue":"This vendor utilizes cookies and other methods of storage (e.g. local storage) or accessing information on your device.","usesNonCookieAccessFalse":"This vendor utilizes cookies as a means of storage or accessing information on your device.","usesNonCookieAccessTrue":"This vendor utilizes other methods of storage (e.g. local storage) or accessing information on your device.","vendorDetailsClaimingLegitimateInterestFor":"Claiming Legitimate Interest To","vendorDetailsRequiringConsentFor":"Requesting Consent To","vendorDetailsSupportingFeature":"Feature(s) in Use","vendors":"Vendors","vendorsDetailsDescription":"See below to customise your data processing preferences and learn which purposes this vendor is requesting consent and/or which purposes they are claiming legitimate interest for.","vendorsDetailsTitle":"Your Choice. Your Experience.","vendorsTabDescription":"These are the vendors who process your data. Click into any vendor to customise your data processing preferences and learn which purposes they are requesting consent and/or which purposes they are claiming legitimate interest for.","vendorsTitle":"Your Choice. Your Experience.","vendorsUsingThisPurpose":"Vendors Using This Purpose","viewPrivacyPolicy":"View Privacy Policy","purposesTabNote":"Please note that when all purposes are disallowed, some site functionality may be affected.","privacyManagerToggle":"Manage Privacy Settings","imprint":"Imprint","privacyPolicy":"Privacy Policy","accessibilityPolicy":"View the organisation\'s privacy policy page.","accessibilityImprint":"Organisation\'s contact information page.","deviceStorageDisclosureNote":"No device storage and access information provided by the vendor.","vendorTooltip":"This vendor may process your personal data based on legitimate interest. Click on the vendor for more information or to object to this processing.","purposeTooltip":"Some vendors may process your personal data based on legitimate interest for this purpose. Click on the purpose for more information or to object to this processing.","stackStatusAccept":"Accepted All","stackStatusReject":"Rejected All","stackStatusPartial":"Partial","stackStatus":"Consent:","searchVendor":"Search vendors","deviceStorageCookieRefresh":"Refreshes Cookie","cookieRefresh":"Storage duration may be refreshed upon your next visit.","true":"yes","false":"no","miniBarDescriptionText":"When you use this site, we collect personal information via the use of technologies like cookies to improve your site experience. That said, your privacy is very important to us, and we want to enable you to take control over your personal data."}')}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.amdO={},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e,t=s(602),o=s(51),i=new Uint8Array(16);function n(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(i)}for(var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&r.test(e)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var d=function(e,t,s){var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){s=s||0;for(var i=0;i<16;++i)t[s+i]=o[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!a(s))throw TypeError("Stringified UUID is invalid");return s}(o)},u=s(924);const p=33696e3,h="euconsent-v2",g="cconsent-v2",f="addtl_consent",m="gdpr-dau",b="gdpr-display-counter",y="gdpr-last-interaction",v="gdpr-config-version",w="gdpr-auditId",C="geo-location",S="gdpr-dau-log-sent",P="gdprPublisherSelection",T="tcfData",L=(e,s)=>{const o=t.cmpStorage.readData(e);return o&&!s||t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync?(t.log.debug("Read local consent data: ",o),Promise.resolve(new u.TCStringV2(o))):t.cmpStorage.readFromPortal(t.portal.sendSharedPortalCommand,T,e).then((o=>(t.log.debug("Read consent data from portal: ",o),o&&!s&&t.cmpStorage.writeData(e,o,p),new u.TCStringV2(o))))},I=(e,s)=>{const o=e?g:h;return s||t.cmpUtils.isSafari&&t.config.useCookies||!t.config.storeConsentGlobally?L(o,s):t.cmpStorage.readFromPortal(t.portal.sendGlobalPortalCommand,T,o).then((e=>{if(!e)return L(o);const t=new u.TCStringV2(e);return Promise.resolve(t)}))},D=(e,s,o,i,n)=>{const r=e.getConsentString(s,!o),a=s?g:h;return t.cmpUtils.isSafari&&t.config.useCookies||!t.config.storeConsentGlobally?n&&t.config.thirdPartyCookieSync?t.cmpStorage.writeOnPortal(t.portal.sendSharedPortalCommand,T,a,r,p):((e,s,o)=>(t.log.debug("Write consent data locally: ",s),o||t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync||t.cmpStorage.writeOnPortal(t.portal.sendSharedPortalCommand,T,e,s,p),Promise.resolve(t.cmpStorage.writeData(e,s,p))))(a,r,i):t.cmpStorage.writeOnPortal(t.portal.sendGlobalPortalCommand,T,a,r,p).then((e=>Promise.resolve(e)))},k=()=>{const e=t.cmpStorage.readData(w);return t.log.debug("Read local auditId: ",e),e},x=(e,s)=>{let o=e||d();return o=o.replace(/[^\w\s]/gi,""),!s||t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync||t.cmpStorage.writeOnPortal(t.portal.sendSharedPortalCommand,T,w,o,p),t.cmpStorage.writeData(w,o,p)},A=()=>{if((!t.cmpUtils.isSafari||!t.config.useCookies)&&t.config.thirdPartyCookieSync)return t.cmpStorage.readFromPortal(t.portal.sendSharedPortalCommand,T,w).then((e=>{if(t.log.debug("Read geo location from portal: ",e),e)return x(e);return k()||x(null,!0)}));const e=k();return e?Promise.resolve(e):Promise.resolve(x(null))},O=()=>{const e=t.cmpStorage.readData(m);return t.log.debug("Read local daily active user: ",e),e},V=()=>{const e=t.cmpStorage.readData(y);return t.log.debug("Read local last interaction timestamp: ",e),e},B=(e,s)=>{const o=e||(new Date).getTime()/1e3;return t.log.debug("Write last interaction timestamp locally: ",o),!s||t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync||t.cmpStorage.writeOnPortal(t.portal.sendSharedPortalCommand,T,y,o,p),t.cmpStorage.writeData(y,o,p)},E=()=>t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync?Promise.resolve(V()):t.cmpStorage.readFromPortal(t.portal.sendSharedPortalCommand,T,y).then((e=>(t.log.debug("Read last interaction from portal: ",e),e?B(e):V()))),M=()=>{const e=t.cmpStorage.readData(v);return t.log.debug("Read local config version: ",e),parseInt(e,10)},F=(e,s)=>(e=e||t.config.configVersion,t.log.debug("Write config version locally: ",e),!s||t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync||t.cmpStorage.writeOnPortal(t.portal.sendSharedPortalCommand,T,v,e,p),t.cmpStorage.writeData(v,e,p)),N=()=>t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync?Promise.resolve(M()):t.cmpStorage.readFromPortal(t.portal.sendSharedPortalCommand,T,v).then((e=>(t.log.debug("Read config version from portal: ",e),e?parseInt(F(e),10):M()))),j=(e,s)=>{!s||t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync||t.cmpStorage.writeOnPortal(t.portal.sendSharedPortalCommand,T,C,e,86400),t.cmpStorage.writeData(C,e,86400)},U=()=>{const e=t.cmpStorage.readData(C);if(t.log.debug("Read local geoLocation: ",e),e)try{return JSON.parse(e)}catch(e){t.log.debug("Error while parsing local geoLocation: ",e)}return e},R=e=>{const s=t.cmpStorage.readData(f);return s&&!e||t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync?(t.log.debug("Read local AC string: ",s),Promise.resolve(s)):t.cmpStorage.readFromPortal(t.portal.sendSharedPortalCommand,T,f).then((s=>(t.log.debug("Read AC string from portal: ",s),s&&!e&&t.cmpStorage.writeData(f,s,p),s)))},_=()=>t.cmpStorage.readFromLocalStorage(P,!0),$=()=>{const e=t.config.preferenceLink.identifier||t.config.preferenceLink.identifyingField||"userIdentifier";t.log.debug("Read user identifier: ",e);let s=t.cmpUtils.getUrlParam(e);return s||(s=t.cmpStorage.readData(e,!1,!0)),s?Promise.resolve(s):(t.log.debug("User identifier not found, fallback to auditId"),A())};function z(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const H=(0,o.getDefault)(),W=e=>{return(s=e)&&"string"==typeof s&&t.config.supportedLocales&&t.config.supportedLocales.indexOf(e)>-1;var s},G=e=>(e=e.toLowerCase(),W(e)||e!==e.substr(0,2)&&(e=e.substr(0,2),W(e))?e:null),q=e=>{let s=null;const o=(()=>{const e=t.cmpStorage.readData(`${t.config.appId}locale`);return t.log.debug("Read local locale: ",e),e})(),{forceLocale:i}=t.config;return i&&(s=G(i)),!s&&o&&(s=G(o)),s||(s=(()=>{const e=navigator&&(navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.languages&&navigator.languages[0]||null);return G(e)})()),!s&&t.config.defaultLocale&&(s=G(t.config.defaultLocale)),s||(s="en"),"nb"!==s&&"nb-no"!==s&&"nn"!==s&&"nn-no"!==s||(s="no"),e&&!e[s]&&(s=s.substr(0,2),e[s]||(s="en")),s};var Y=new class{constructor(e){var t=this;z(this,"processLocalized",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=Object.keys(e);return s.reduce(((s,o)=>{const[i]=o.toLowerCase().split("-");return{...s,[o.toLowerCase()]:{...s[o],...t.flattenObject(e[i]),...t.flattenObject(e[o])}}}),{})})),z(this,"flattenObject",(e=>{const t={};return function e(s,o){s&&Object.keys(s).forEach((i=>{const n=o?`${o}.${i}`:i,r=s[i];if(r&&"object"==typeof r)return e(r,n);t[n]=r}))}(e),t})),z(this,"removeLabelsFromDefaultTranslations",(e=>{["purposesTabNote"].forEach((t=>{delete e.en[t]}))}));const s=this.processLocalized(e),o=q(),i=s[o]?s[o]:s[o.substr(0,2)];this.localizedValues={...i}}updateTranslations(){const e={...H};this.removeLabelsFromDefaultTranslations(e);const s=["introTitle","introDescription","vendorsTitle","vendorsTabDescription","vendorsDetailsTitle","vendorsDetailsDescription","publisherDetailsDescription","purposesTitle","purposesTabDescription","purposesDetailsTitle","purposesDetailsDescription","specialPurposeDetailsTitle","specialPurposeDetailsDescription","featureDetailsTitle","featureDetailsDescription","specialFeaturesDetailsTitle","specialFeaturesDetailsDescription","publisherDetailsTitle","publisherDetailsIntroText","privacyInformationSubtitle","privacyInformationDescription"];Object.keys(t.config.localization).forEach((o=>{Object.keys(t.config.localization[o]).forEach((e=>{-1===s.indexOf(e)&&!t.config.localization[o][e]&&delete t.config.localization[o][e]})),e[o]={...e.en,...e[o],...t.config.localization[o]}}));const o=this.processLocalized(e),i=q(o),n=o[i]?o[i]:o[i.substr(0,2)];this.localizedValues={...n}}}({...H,...t.config.localization});function K(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return Promise.race([fetch(e,t),new Promise(((e,t)=>setTimeout((()=>t(new Error("timeout"))),s)))])}function J(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let Q="en",Z=!1,X=!1;const ee="gdprVendorList";var te=new class{constructor(){J(this,"getVendorList",((e,t)=>(Z=t,this.vendorList=this.vendorList||new Map,this.vendorList.has(Z?"gvl":e)?Promise.resolve(this.vendorList.get(Z?"gvl":e)):(Q=e||"en",this.retrieveCachedData(ee,this.fetchVendorList).then((e=>(this.setVendorList(Q,e),e))))))),J(this,"setVendorList",((e,t)=>{X||this.cacheData(ee,t),this.vendorList.set(e,t),Z&&this.vendorList.set("gvl",t)})),J(this,"fetchVendorList",(e=>{const s=t.config.previewMode||Z?t.config.vendorListLocation:`${t.config.customVendorListPath}${t.config.appId}/vendor-list.json`;return s?K(s,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>"en"!==Q&&!Z&&t.config.purposeListLocalePath?this.readLocalePurposeList(Q,e):e)).catch((o=>(t.log.error(`Failed to load vendor list from ${s}`,o),Z?e:this.getVendorList(Q,!0)))).then((e=>e||("en"!==Q&&this.getVendorList("en"),null))):(t.log.error("Vendor List URL not provided"),Promise.resolve({}))})),J(this,"readLocalePurposeList",((e,s)=>{const o=`${t.config.purposeListLocalePath}purposes-${e}.json`;return K(o,{headers:{Accept:"application/json"}}).then((e=>e.json())).then((e=>(e&&(s={...s,...e}),s))).catch((e=>(t.log.error(`Failed to load purpose list from ${o}`,e),s))).then((t=>{const s=e.substr(0,2);return e!==s?this.readLocalePurposeList(s,t):t}))})),J(this,"retrieveCachedData",((e,s)=>{X=!1;try{let o;const i=Z?"gvl":`${Q}-${t.config.configVersion}`;if(localStorage){const t=JSON.parse(localStorage.getItem(e));if(t&&t[i]&&t[i].data){if(t[i].expire>+new Date)return X=!0,Promise.resolve(t[i].data);o=t[i].data}else if(!Z&&"en"!==Q)return this.readLocalePurposeList(Q,this.vendorList.get("en"))}return s(o)}catch(o){return t.log.error(`Unable to parse ${e} from localStorage`,o),s()}})),J(this,"cacheData",((e,s)=>{try{if(localStorage&&s&&(s.purposes||s.vendors)){const o=JSON.parse(localStorage.getItem(e))||{};Z&&this.storeVendorList(s,"gvl",o,e);const i=`${Q}-${t.config.configVersion}`;this.storeVendorList(s,i,o,e,!0)}}catch(s){t.log.error(`Unable cache ${e} to localStorage`,s)}})),J(this,"storeVendorList",((e,t,s,o,i)=>{i&&this.removeOldVendorLists(s),s[t]={data:e,expire:+this.generateExpirationDate()},localStorage.setItem(o,JSON.stringify(s))})),J(this,"removeOldVendorLists",(e=>{for(const t in e)0===t.indexOf(Q)&&delete e[t]})),J(this,"generateExpirationDate",(()=>{const e=new Date;return 4===e.getDay()&&e.getHours()>18?e.setDate(e.getDate()+7):e.setDate(e.getDate()+((7-e.getDay())%7+4)%7),e.setHours(18),e.setMinutes(0),e}))}};function se(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const oe="__tcfapiCall",ie="cmpuishown",ne="useractioncomplete";let re=t.config.cmpId||3,ae=parseInt(t.config.cmpVersion,10)||1;const le="__tcfapiReturn",ce="tcfListeners";class de{constructor(e,s,o,i){se(this,"getCmpVisibility",(()=>t.config.suppressUI||!this.gdprApplies?"disabled":this.eventStatus===ie?"visible":"hidden")),se(this,"commands",{ping:(e,t)=>{if(t=t||(()=>{}),1===e)return void t(null,!1);const s=this.store.getVendorList()||{};t({gdprApplies:this.gdprApplies,cmpLoaded:this.isLoaded,cmpStatus:this.cmpStatus,displayStatus:this.getCmpVisibility(),apiVersion:"2.0",cmpId:re,cmpVersion:ae,gvlVersion:s.vendorListVersion,tcfPolicyVersion:s.tcfPolicyVersion},!0)},getTCData:(e,t,s)=>{t=t||(()=>{}),1!==e?t(this.store.getConsentObject(s,this.gdprApplies,this.cmpStatus,this.eventStatus),!0):t(null,!1)},getFullTCData:(e,t,s)=>{t=t||(()=>{}),1!==e?t(this.store.getConsentObject(s,this.gdprApplies,this.cmpStatus,this.eventStatus,null,!0),!0):t(null,!1)},checkConsent:(e,t,s)=>{t=t||(()=>{}),1!==e?(t(this.store.checkConsent(s?s.data:null,!!s&&s.perVendor,this.gdprApplies,!!s&&s.ignoreUnsupported),!0),s&&s.recheckConsentOnChange&&this.checkConsentListeners.add({data:s.data,perVendor:s.perVendor,ignoreUnsupported:s.ignoreUnsupported,callback:t})):t(null,!1)},getConsentCriteria:(e,t,s)=>{t=t||(()=>{}),e&&1===e?t(null,!1):t(this.store.getConsentCriteria(s),!0)},getVendorList:(e,t,s)=>{t=t||(()=>{}),1!==e?te.getVendorList(null,!0).then((e=>{!e.vendorListVersion||s&&s!==e.vendorListVersion?t(null,!1):t(e,!0)})):t(null,!1)},getAuditId:(e,t)=>{t=t||(()=>{}),A().then((e=>{t(e,!0)}))},resetAuditId:(e,s)=>{if(s=s||(()=>{}),t.config.loadedFromLaunchPad&&window.__launchpad)window.__launchpad("resetAuditId",null,s);else{const e=x(null,!0);this.notify("auditIdChanged"),s(e,!0)}},setAuditId:(e,t,s)=>{x(s,!0),this.notify("auditIdChanged"),t(s,!0)},accept:(e,t,s)=>{t=t||(()=>{}),1!==e?(this.store.accept(s,null,"API",0,this.notify),this.changeEventStatus(ne),this.processCheckDataExistListeners(),t(null,!0)):t(null,!1)},reject:(e,t,s)=>{t=t||(()=>{}),1!==e?(this.store.reject(s,null,"API",0,this.notify),this.changeEventStatus(ne),this.processCheckDataExistListeners(),t(null,!0)):t(null,!1)},gdprApplies:(e,t)=>{t=t||(()=>{}),1!==e?t(this.gdprApplies,!0):t(null,!1)},acceptAllButtonClick:(e,s)=>{s=s||(()=>{}),this.notify("acceptAllButtonClicked"),B(null,!0),F(t.config.configVersion,!0),this.store.accept(null,"FULL_CONSENT",this.uiHandler.managerDisplay?"MANAGER":"NOTICE",this.uiHandler.managerDisplay?2:1,this.notify),this.uiHandler.toggleConsentToolShowing(this.notify,!1,!1),this.changeEventStatus(ne),this.processCheckDataExistListeners(),s(null,!0)},denyAllButtonClick:(e,s)=>{s=s||(()=>{}),this.notify("denyAllButtonClicked"),B(null,!0),F(t.config.configVersion,!0),this.store.reject(null,null,this.uiHandler.managerDisplay?"MANAGER":"NOTICE",this.uiHandler.managerDisplay?2:1,this.notify),this.uiHandler.toggleConsentToolShowing(this.notify,!1,!1),this.changeEventStatus(ne),this.processCheckDataExistListeners(),s(null,!0)},saveAndExitButtonClick:(e,s,o)=>{s=s||(()=>{}),this.notify("saveAndExitButtonClicked"),B(null,!0),F(t.config.configVersion,!0),o?this.store.updateConsent(o,this.uiHandler.managerDisplay?"MANAGER":"NOTICE",this.uiHandler.managerDisplay?2:1,this.notify):this.store.storePublisherSelection(),this.uiHandler.toggleConsentToolShowing(this.notify,!1,!1),this.changeEventStatus(ne),this.processCheckDataExistListeners(),s(null,!0)},exitButtonClick:(e,s,o)=>{s=s||(()=>{}),this.notify("exitButtonClicked"),B(null,!0),F(t.config.configVersion,!0),o?this.store.updateConsent(o,this.uiHandler.managerDisplay?"MANAGER":"NOTICE",this.uiHandler.managerDisplay?2:1,this.notify):this.store.storePublisherSelection(),this.uiHandler.toggleConsentToolShowing(this.notify,!1,!1),this.changeEventStatus(ne),this.processCheckDataExistListeners(),s(null,!0)},updateManagerSize:()=>{this.uiHandler.updateAndDisplayConsentTool(!0)},updateNoticeSize:()=>{this.uiHandler.updateAndDisplayConsentTool(!1)},updateConsentTool:(e,t,s)=>{t=t||(()=>{}),this.uiHandler.updateConsentTool(s),t(document.documentElement.clientHeight,!0)},toggleConsentTool:(e,t,s)=>{t=t||(()=>{});const o="boolean"==typeof s?s:!this.uiHandler.showConsentTool;o?this.changeEventStatus(ie):this.changeEventStatus(ne),this.uiHandler.toggleConsentToolShowing(this.notify,o),t(null,!0)},showConsentManager:(e,t,s)=>{t=t||(()=>{});const{openPrivacyInformation:o,toggle:i}=s||{},n="boolean"!=typeof i||i;n?this.changeEventStatus(ie):this.changeEventStatus(ne),this.uiHandler.toggleConsentToolShowing(this.notify,n,!0,o),t(null,!0)},consentToolIsShown:()=>{(!this.uiHandler.managerDisplay&&t.config.noticeConfig.showBackdrop||this.uiHandler.managerDisplay&&t.config.managerConfig.showBackdrop)&&this.uiHandler.showBackdrop(t.config.backdrop),this.uiHandler.updateConsentToolWhenShown()},getNoticeConfig:(e,s)=>{s=s||(()=>{}),this.changeEventStatus(ie);const o=t.config.noticeConfig||{};o.logo=t.config.logo||o.desktopConfig.logo,o.hideLogo=o.hideLogo||o.desktopConfig.hideLogo,o.theme=t.config.theme||t.config.managerConfig.theme,o.appId=t.config.appId,o.forceMobile=t.config.forceMobile,o.isMobileDevice=t.config.forceMobile||this.uiHandler.isMobile()||this.uiHandler.isTablet(),o.isTabletDevice=this.uiHandler.isTablet(),o.defaultLocale=t.config.defaultLocale,o.supportedLocales=t.config.supportedLocales,o.activeLocale=q(),o.forceLocale=t.config.forceLocale,o.topics=this.getNoticeTopics(t.config.topics,q()),o.translations=Y.localizedValues,o.actionButtons=this.setActionButtons(t.config),o.showDenyButton=this.getDenyButtonStatus(o),o.showCloseButton=this.getCloseButtonStatus(o),o.disclosure=this.getNoticeDisclosure(t.config.disclosure,q()),o.externalLinks=t.config.externalLinks,o.isNoticeConfig=!0,te.getVendorList(o.activeLocale).then((e=>{this.store.updateVendorList(e),o.vendorList=e,this.uiHandler.consentToolShown?delete o.publisherSelection:o.publisherSelection=this.store.getPublisherSelection(),s(o,!0)}))},getManagerConfig:(e,s)=>{s=s||(()=>{}),this.changeEventStatus(ie);const{lastUpdated:o=null}=this.store.consentData.getCoreSegmentData()||{},{managerConfig:i,appId:n,forceMobile:r}=t.config||{},a=this.copyData(i);a.appId=n,a.logo=t.config.logo||a.logo,a.hideLogo=void 0!==a.hideLogo&&a.hideLogo,a.forceMobile=r,a.isMobileDevice=r||this.uiHandler.isMobile(),a.isTabletDevice=this.uiHandler.isTablet(),a.defaultLocale=t.config.defaultLocale,a.supportedLocales=t.config.supportedLocales,a.storedConsentExist=!!o,a.showPrivacyInformation=this.uiHandler.showPrivacyInformation,a.managerTab=this.uiHandler.managerTab,a.translations=Y.localizedValues,a.activeLocale=q(),a.forceLocale=t.config.forceLocale,a.topics=this.getManagerTopics(t.config.topics,q()),a.actionButtons=this.setActionButtons(t.config),a.showDenyButton=this.getDenyButtonStatus(a),a.theme=t.config.theme||t.config.managerConfig.theme,a.purposeOneTreatment=this.store.getPurposeOneTreatment(),a.externalLinks=t.config.externalLinks,a.isNoticeConfig=!1,a.disclosure=this.getManagerDisclosure(t.config.disclosure),Promise.all([A(),te.getVendorList(a.activeLocale)]).then((e=>{let[t,o]=e;a.auditId=t,this.store.updateVendorList(o),a.vendorList=o,this.uiHandler.consentToolShown?delete a.publisherSelection:a.publisherSelection=this.store.getPublisherSelection(),s(a,!0)}))},changeLanguage:(e,s,o)=>{if(s=s||(()=>{}),o=(o||q()).toLowerCase(),!t.config.supportedLocales.some((e=>e===o)))return t.log.error(`Language "${o}" not supported.`),void s(null,!1);(e=>{t.log.debug("Write locale locally: ",e);const s=`${t.config.appId}locale`;t.cmpStorage.writeData(s,e,p)})(o),t.config.update({forceLocale:o}),te.getVendorList(o).then((()=>{if(Y.updateTranslations(),this.uiHandler.showConsentTool)return this.uiHandler.managerDisplay?this.commands.getManagerConfig(e,s):this.commands.getNoticeConfig(e,s);s(null,!0)}))},addEventListener:(e,t,s)=>{if(t=t||(()=>{}),1===e)return void t(null,!1);let o=null;s||(s=ce,o=this.store.getConsentObject(null,this.gdprApplies,this.cmpStatus,this.eventStatus,this.listenerId,!1));const i=this.eventListeners[s]||(s===ce?new Map:new Set);s===ce?i.set(this.listenerId++,t):i.add(t),this.eventListeners[s]=i,"isLoaded"===s&&this.isLoaded&&t({event:s},!0),"cmpReady"===s&&this.cmpReady?t({event:s},!0):s===ce&&t(o,!0)},removeEventListener:(e,t,s)=>{if(t=t||(()=>{}),1===e)return void t(!1);let o=!1;if(s)if(isNaN(s)){const e=this.eventListeners[s]||new Set;e.clear(),this.eventListeners[s]=e,o=!0}else{const e=this.eventListeners.tcfListeners||new Map;e.has(s)&&(e.delete(s),this.eventListeners.tcfListeners=e,o=!0)}else this.eventListeners={},o=!0;t(o)},consentDataExist:(e,t)=>{if(t=t||(()=>{}),1===e)return void t(null,!1);const s=!(!this.store.consentData.getLastUpdated()&&!this.store.customConsentData.getLastUpdated());t(s,!0),s||this.checkDataExistListeners.push(t)}}),se(this,"processCommandQueue",(()=>{const e=[...this.commandQueue];e.length&&(t.log.info(`Process ${e.length} queued commands`),this.commandQueue=[],e.forEach((e=>{if(Array.isArray(e)){const[t,s,o,i]=e;this.processCommand(t,s,o,i)}else{const{callId:t,command:s,parameter:o,version:i,callback:n,event:r}=e;r?this.processCommand(s,i,((e,o)=>{const i={[le]:{callId:t,command:s,returnValue:e,success:o}};r.source.postMessage(i,r.origin)}),o):this.processCommand(s,i,n,o)}})))})),se(this,"receiveMessage",(e=>{let{data:t,origin:s,source:o}=e;if(t){const{[oe]:e}=t;if(e){const{callId:t,command:i,parameter:n,version:r}=e;this.processCommand(i,r,((e,n)=>{const r={[le]:{callId:t,command:i,returnValue:e,success:n}};o.postMessage(r,s)}),n)}}})),se(this,"processCommand",((e,s,o,i)=>{"function"!=typeof this.commands[e]?t.log.error(`Invalid CMP command "${e}"`):"ping"!==e&&"boolean"!=typeof this.gdprApplies?(t.log.info(`Queuing command: ${e} until gdprApplies is set`),this.commandQueue.push({command:e,version:s,callback:o,parameter:i}),this.notify("commandQueued",{command:e})):(t.log.info(`Proccess command: ${e}, parameter: ${i}, version: ${s}`),this.commands[e](s,o,i))})),se(this,"notify",((e,s)=>{t.log.info(`Notify event: ${e}`),(this.eventListeners[e]||(e===ce?new Map:new Set)).forEach((t=>{t({event:e,data:s},!0)})),"consentChanged"===e&&(this.processCommandQueue(),this.processCheckConsentListeners())})),se(this,"copyData",(e=>{if("object"!=typeof e)return e;const t={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e]instanceof Set&&(t[e]=new Set(t[e]));return t})),se(this,"getManagerTopics",((e,t)=>e[t]||e.en)),se(this,"getNoticeTopics",((e,t)=>{e[t]||(t="en");let s=[];return s=[...e[t]].filter((e=>e.showOnNotice)),s})),se(this,"getCloseButtonStatus",(e=>"boolean"!=typeof e.showCloseButton?e.desktopConfig.showCloseButton:e.showCloseButton)),se(this,"getDenyButtonStatus",(e=>void 0===e.showDenyButton||e.showDenyButton)),se(this,"processTcfListeners",(()=>{const e=this.eventListeners.tcfListeners||new Map;if(e.size>0){const t=this.store.getConsentObject(null,this.gdprApplies,this.cmpStatus,this.eventStatus,null,!1);e.forEach(((e,s)=>{t.listenerId=s,e(t,!0)}))}})),se(this,"processCheckConsentListeners",(()=>{this.checkConsentListeners.forEach((e=>{let{data:t,perVendor:s,callback:o,ignoreUnsupported:i}=e;o(this.store.checkConsent(t,s,this.gdprApplies,i),!0)}))})),se(this,"processCheckDataExistListeners",(()=>{if(this.checkDataExistListeners&&this.checkDataExistListeners.length>0){const e=!(!this.store.consentData.getLastUpdated()&&!this.store.customConsentData.getLastUpdated());e&&(this.checkDataExistListeners.forEach((t=>{t(e,!0)})),this.checkDataExistListeners=[])}})),this.uiHandler=s,this.isLoaded=!1,this.cmpReady=!1,this.gdprApplies=void 0,this.cmpStatus="stub",this.eventListeners={},this.store=e,this.processCommand.receiveMessage=this.receiveMessage,"number"!=typeof o||Number.isNaN(o)||(re=o),i&&(ae=i),this.processCommand.VERSION=ae,this.commandQueue=[],this.listenerId=1,this.eventStatus=void 0,this.checkConsentListeners=new Set,this.checkDataExistListeners=[],t.config.disclosure.customStacks&&(this.customStacks=t.config.disclosure.customStacks)}setActionButtons(e){return e.actionButtons||(e.actionButtons={acceptAll:e.noticeConfig.desktopConfig.acceptAll,denyAll:e.noticeConfig.desktopConfig.denyAll,saveAndExit:e.managerConfig.saveAndExit,privacySettings:e.noticeConfig.desktopConfig.privacySettings},e.actionButtons.acceptAll.showDialog=!1,e.actionButtons.denyAll.showDialog=!0,e.actionButtons.saveAndExit.showDialog=!1),e.actionButtons}changeEventStatus(e){this.eventStatus!==e&&(this.eventStatus=e,this.processTcfListeners())}getNoticeDisclosure(e,t){return this.customStacks&&(e.customStacks=this.customStacks[t]),e}getManagerDisclosure(e){return delete e.customStacks,e}}function ue(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var pe=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ue(this,"getVendorConsent",(e=>-1!==this.vendorsConsent.indexOf(e))),ue(this,"setVendorConsent",((e,t)=>{const s=this.vendorsConsent.indexOf(e);t&&-1===s?this.vendorsConsent.push(e):t||-1===s||this.vendorsConsent.splice(s,1)})),this.setConsentString(e)}getVersion(){return this.version}setVersion(e){"number"!=typeof e||Number.isNaN(e)||(this.version=e)}getVendorsConsent(){return this.vendorsConsent}setVendorsConsent(e){e&&Array.isArray(e)&&e.length>0&&e.forEach((e=>{"number"!=typeof e||Number.isNaN(e)||this.vendorsConsent.push(e)}))}getConsentString(){if(this.vendorsConsent&&Array.isArray(this.vendorsConsent)&&this.vendorsConsent.length>0)return`${this.version}~${this.vendorsConsent.join(".")}`}setConsentString(e){if(this.version=1,this.vendorsConsent=[],e){const[t,s]=e.split("~");if(this.setVersion(t),s){const e=s.split(".").map(Number);this.setVendorsConsent(e)}}}};function he(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var ge=class{constructor(e){var s=this;he(this,"updateCoreSegmentData",(e=>{let s=this.data.getCoreSegmentData()||{version:2,consentLanguage:q().substr(0,2),created:t.cmpUtils.getDecisecond(),isServiceSpecific:!t.config.storeConsentGlobally,purposeOneTreatment:!t.config.storeConsentGlobally&&t.config.consentDataConfig&&t.config.consentDataConfig.purposeOneTreatment,specialFeatureOptIns:[],purposesConsent:[],vendorsConsent:[],publisherRestrictions:[]};s={...s,...e},this.data.setCoreSegmentData(s)})),he(this,"updatePublisherTCData",(e=>{let t=this.data.getPublisherTCData()||{pubPurposesConsent:[]};t={...t,...e},this.data.setPublisherTCData(t)})),he(this,"getConsentString",(function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===o&&s.updateCoreSegmentData({lastUpdated:t.cmpUtils.getDecisecond()});const i=!e&&t.config.consentDataConfig.vendorRestrictions&&t.config.consentDataConfig.vendorRestrictions.restrictAllVendors;return s.data.getConsentString(i)})),he(this,"getConsentData",(()=>this.data)),he(this,"getCoreSegmentData",(()=>this.data.getCoreSegmentData())),he(this,"getDisclosedVendorsData",(()=>this.data.getDisclosedVendorsData())),he(this,"getAllowedVendorsData",(()=>this.data.getAllowedVendorsData())),he(this,"getPublisherTCData",(()=>this.data.getPublisherTCData())),he(this,"getAllowed",(e=>this.data.getCoreSegmentData()[e])),he(this,"setAllAllowed",((e,t)=>{const s={};s[e]=t,this.updateCoreSegmentData(s)})),he(this,"isAllowed",((e,t)=>-1!==(this.data.getCoreSegmentData()[e]||[]).indexOf(t))),he(this,"setAllowed",((e,t,s)=>{if(!this.data.getCoreSegmentData()[e]){const t={};t[e]=[],this.updateCoreSegmentData(t)}const o=this.data.getCoreSegmentData()[e].indexOf(t);s&&-1===o?this.data.getCoreSegmentData()[e].push(t):s||-1===o||this.data.getCoreSegmentData()[e].splice(o,1)})),he(this,"getAllowedPublisherTC",(e=>this.data.getPublisherTCData()[e])),he(this,"setAllAllowedPublisherTC",((e,t)=>{const s={};s[e]=t,this.updatePublisherTCData(s)})),he(this,"isAllowedPublisherTC",((e,t)=>-1!==(this.data.getPublisherTCData()[e]||[]).indexOf(t))),he(this,"setAllowedPublisherTC",((e,t,s)=>{if(!this.data.getPublisherTCData()[e]){const t={};t[e]=[],this.updatePublisherTCData(t)}const o=this.data.getPublisherTCData()[e].indexOf(t);s&&-1===o?this.data.getPublisherTCData()[e].push(t):s||-1===o||this.data.getPublisherTCData()[e].splice(o,1)})),he(this,"getLastUpdated",(()=>this.data.getCoreSegmentData().lastUpdated)),this.data=Object.assign(new u.TCStringV2,e),this.updateCoreSegmentData(),this.updatePublisherTCData()}},fe="purposes",me="specialPurposes",be="features",ye="specialFeatures";function ve(e,s,o,i){if(t.config.preferenceLink.enabled&&t.config.preferenceLink.apiKey){const n=t.config.preferenceLink.consentTriggerVersion;Promise.all([$(),A(),n?Promise.resolve(n):N(),i?Promise.resolve(i):E()]).then((i=>{let[n,r,a,l]=i;const c=t.config.preferenceLink.identifyingField||t.config.preferenceLink.identifier||"Email",d={consentString:e,customConsentString:s,acString:o,auditId:r,gdprWebConfigVersion:a||t.config.configVersion,lastInteraction:1e3*l,identifying_field:c};d[c]=n,K(t.config.preferenceLinkURL,{method:"POST",headers:{"Content-Type":"application/json",ApiKey:t.config.preferenceLink.apiKey},body:JSON.stringify(d)}).then((()=>{t.log.debug("Consent data stored to PL")})).catch((e=>{t.log.error("Failed to store consent data to PL: ",e)}))}))}else t.log.debug("Sync with PL disabled")}const we=`c${Math.random().toString(36).substring(7)}`,Ce=[{name:"cookie",label:"Cookie",svgContent:`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 100 100">\n            <path class="${we}" fill="#4A4949" d="M8.05 59.496c1.808 8.078 4.849 13.167 10.48 19.536 3.674 4.156 9.57 8.325 15.109 10.703 5.341 2.292 14.604 3.847 19.06 3.28.82-.104 1.572.477 1.676 1.299.105.821-.476 1.573-1.298 1.677-5.016.639-14.811-1.006-20.621-3.5-5.938-2.548-12.198-6.975-16.174-11.472-5.937-6.715-9.223-12.215-11.159-20.868-.18-.808.328-1.61 1.136-1.791.809-.181 1.61.328 1.792 1.136zM87.38 39.733c.589.095 1.104.11 2.014.075l.259-.011c4.15-.186 5.786 1.067 6.348 6.485.62 5.975-.115 11.36-1.643 17.008-1.322 4.89-4.098 10.298-9.048 16.092-5.376 6.292-12.167 11.032-18.507 13.457-3.619 1.385-6.722 2.21-9.324 2.471-.825.083-1.56-.518-1.642-1.342-.083-.825.518-1.56 1.343-1.643 2.305-.23 5.161-.991 8.551-2.288 5.877-2.248 12.251-6.697 17.298-12.604 4.653-5.446 7.224-10.455 8.433-14.926 1.44-5.325 2.13-10.376 1.555-15.916-.226-2.176-.629-3.24-1.093-3.596-.259-.198-.606-.254-1.693-.219l-.444.018c-1.27.056-1.985.046-2.886-.1-.818-.131-1.374-.901-1.241-1.72.132-.817.902-1.373 1.72-1.24zM50 28.708c5.109 0 9.676 4.82 9.83 9.587l.003.247v5.954c2.32.578 4.056 2.626 4.162 5.097l.005.24v12.834c0 2.963-2.344 5.38-5.279 5.495l-.221.005h-17c-2.963 0-5.38-2.344-5.496-5.28l-.004-.22V49.833c0-2.577 1.773-4.74 4.166-5.337v-5.954c0-5.318 4.437-9.834 9.834-9.834zm8.5 18.625h-17c-1.325 0-2.41 1.032-2.495 2.336l-.005.164v12.834c0 1.325 1.032 2.41 2.336 2.494l.164.006h17c1.325 0 2.41-1.032 2.495-2.336l.005-.164V49.833c0-1.38-1.12-2.5-2.5-2.5zm-8.5 4.23c1.438 0 2.604 1.165 2.604 2.604 0 1.068-.643 1.985-1.562 2.387v3.863h-2.084v-3.863c-.92-.402-1.562-1.32-1.562-2.387 0-1.439 1.166-2.605 2.604-2.605zM38.99 6.858c.185.808-.32 1.612-1.128 1.797-7.554 1.729-16.442 7.802-20.234 12.623-4.052 5.152-7.292 10.467-8.652 15.019-1.868 6.255-2.478 12.247-1.567 18.26.124.818-.44 1.583-1.259 1.707-.819.124-1.584-.44-1.708-1.258-.982-6.486-.328-12.915 1.66-19.568 1.493-4.999 4.902-10.59 9.168-16.015C19.466 14.09 28.93 7.622 37.193 5.731c.808-.184 1.612.32 1.797 1.128zM50 31.709c-3.65 0-6.704 3.03-6.83 6.604l-.003.229-.001 5.791h13.667v-5.791c0-3.237-3.344-6.834-6.833-6.834zm2.604-27.48l.654.004c7.355.092 8.857 1.822 8.857 8.658 0 4.313 3.437 8.107 7.475 9.308 1.35.402 2.459.49 4.035.416l1.242-.067c.263-.01.404-.007.591.008l.073.006c.848.072 1.54.407 1.895 1.242l.086.217c.22.592.239 1.012.109 2.132l-.116.918c-.277 2.103-.218 3.483.463 5.313.953 2.56 2.616 4.57 5.03 6.068.704.437.92 1.362.483 2.065-.437.704-1.362.92-2.065.484-2.974-1.847-5.073-4.383-6.26-7.57-.833-2.24-.95-4.001-.678-6.334l.144-1.14.042-.396-.49.029c-2.098.123-3.58.037-5.44-.516-5.215-1.551-9.619-6.412-9.619-12.183l-.005-.967c-.05-4.31-.615-4.674-5.937-4.694h-1.078l-1.035.009c-2.515.031-4.483.14-5.966.303l-.584.07c-.52.067-.853.128-1.025.169l-.091.024c-.791.246-1.632-.195-1.878-.986-.247-.791.195-1.632.986-1.878l.176-.05c.364-.093.96-.2 1.841-.303l.248-.028c1.89-.208 4.465-.33 7.837-.33z"/>\n        </svg>`},{name:"shield",label:"Shield",svgContent:`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 100 100">\n            <path class="${we}" fill="#4A4949" d="M50.052 9.96c1.66.057 3.25.68 4.482 1.737l1.456 1.3c.552.487 1.065.93 1.597 1.376 1.38 1.155 2.765 2.221 4.228 3.227 5.591 3.845 11.39 6.184 17.412 6.422 3.618.145 4.492 1.086 4.56 4.653l.005.492v17.708c0 10.163-4.552 19.499-12.401 27.937-5.117 5.502-10.834 9.873-16.718 13.5l-.736.45c-1.054.678-2.248 1.103-3.49 1.244l-.34.032-.107.004c-.52 0-1.098-.132-1.78-.363-.231-.078-.47-.167-.716-.264-.207-.083-.413-.169-.612-.256l-.56-.256-.12-.057-.113-.062c-6.179-3.737-12.16-8.241-17.49-13.972-7.849-8.438-12.4-17.774-12.4-27.937 0-.828.67-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 9.306 4.221 17.964 11.597 25.894 4.897 5.265 10.404 9.478 16.101 12.993l.689.42.248.116c.164.075.335.15.508.222l.26.107c.2.079.39.15.569.21.297.1.545.165.699.192l.076.009.223-.021c.665-.085 1.309-.3 1.913-.645l.257-.156c5.961-3.604 11.735-7.953 16.845-13.447 7.24-7.783 11.44-16.268 11.593-25.378l.005-.516V29.167c0-2.488.324-2.067-1.685-2.147-6.663-.264-12.972-2.809-18.992-6.948-1.546-1.063-3.006-2.187-4.453-3.399-.416-.348-.82-.694-1.237-1.058l-1.686-1.499c-.702-.656-1.6-1.057-2.552-1.144L50 12.96l-.187.012c-.873.08-1.702.425-2.394 1.006l-1.422 1.266c-.571.505-1.104.965-1.659 1.43-1.447 1.211-2.907 2.335-4.453 3.398-6.02 4.14-12.33 6.684-18.992 6.948l-.444.011c-1.47.02-1.255-.14-1.241 1.94v9.05c0 .828-.671 1.5-1.5 1.5-.78 0-1.42-.595-1.493-1.356l-.007-.144v-8.854c0-3.973.786-4.994 4.566-5.145 6.02-.238 11.819-2.577 17.41-6.422 1.463-1.006 2.85-2.072 4.228-3.227.4-.334.788-.667 1.19-1.018l1.61-1.43c1.213-1.135 2.775-1.82 4.425-1.948l.31-.018h.105zM50 28.707c5.109 0 9.676 4.82 9.83 9.587l.003.247v5.954c2.32.578 4.056 2.626 4.162 5.097l.005.24v12.834c0 2.963-2.344 5.38-5.279 5.495l-.221.005h-17c-2.963 0-5.38-2.344-5.496-5.28l-.004-.22V49.833c0-2.577 1.773-4.74 4.166-5.337v-5.954c0-5.318 4.437-9.834 9.834-9.834zm8.5 18.625h-17c-1.325 0-2.41 1.032-2.495 2.336l-.005.164v12.834c0 1.325 1.032 2.41 2.336 2.494l.164.006h17c1.325 0 2.41-1.032 2.495-2.336l.005-.164V49.833c0-1.38-1.12-2.5-2.5-2.5zm-8.5 4.23c1.438 0 2.604 1.165 2.604 2.604 0 1.067-.642 1.985-1.561 2.387l-.001 3.863h-2.084v-3.863c-.92-.402-1.562-1.32-1.562-2.387 0-1.439 1.166-2.605 2.604-2.605zm0-19.855c-3.65 0-6.704 3.03-6.83 6.605l-.003.229-.001 5.791h13.667v-5.791c0-3.237-3.344-6.834-6.833-6.834z"/>\n        </svg>`},{name:"link",label:"Link",svgContent:`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 100 100">\n            <path class="${we}" fill="#4A4949" d="M38.5 40.104c5.253 0 9.605 3.858 10.378 8.895h2.244c.773-5.037 5.125-8.895 10.378-8.895h11c5.799 0 10.5 4.701 10.5 10.5 0 5.8-4.701 10.5-10.5 10.5h-11c-5.326 0-9.725-3.965-10.408-9.104h-2.184c-.683 5.14-5.082 9.104-10.408 9.104h-12c-5.799 0-10.5-4.7-10.5-10.5 0-5.799 4.701-10.5 10.5-10.5h12zm0 3h-12c-4.142 0-7.5 3.358-7.5 7.5 0 4.061 3.227 7.368 7.257 7.496l.243.004h12c3.665 0 6.717-2.63 7.37-6.105L37.5 52c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5h8.328c-.718-3.295-3.602-5.781-7.085-5.892l-.243-.004zm34 0h-11c-3.591 0-6.593 2.524-7.328 5.895L62.5 49c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5h-8.37c.64 3.398 3.57 5.987 7.127 6.1l.243.004h11c4.142 0 7.5-3.358 7.5-7.5 0-4.06-3.227-7.368-7.257-7.496l-.243-.004z"/>\n        </svg>`},{name:"controls",label:"Controls",svgContent:`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 100 100">\n            <path class="${we}" fill="#4A4949" d="M50 53.667c.78 0 1.42.595 1.493 1.355l.007.145V88.02c0 .828-.672 1.5-1.5 1.5-.78 0-1.42-.595-1.493-1.356l-.007-.144V55.167c0-.829.672-1.5 1.5-1.5zm25-8.334c.78 0 1.42.595 1.493 1.356l.007.144v41.188c0 .828-.672 1.5-1.5 1.5-.78 0-1.42-.595-1.493-1.356l-.007-.144V46.833c0-.828.672-1.5 1.5-1.5zM25 73.98c.78 0 1.42.595 1.493 1.356l.007.144v12.542c0 .828-.672 1.5-1.5 1.5-.78 0-1.42-.595-1.493-1.356l-.007-.144V75.479c0-.828.672-1.5 1.5-1.5zm-.234-12.458c1.419.014 2.78.552 3.788 1.508 1.03.976 1.607 2.308 1.592 3.706-.022 1.39-.634 2.707-1.688 3.658-1.032.931-2.406 1.438-3.82 1.42-1.836-.022-3.545-.92-4.532-2.403-.46-.69-.273-1.62.417-2.08.65-.432 1.512-.291 1.994.301l.086.117c.429.644 1.21 1.055 2.071 1.064.67.01 1.31-.227 1.774-.646.443-.4.69-.93.698-1.471.006-.547-.226-1.08-.656-1.489-.452-.428-1.084-.679-1.756-.685-.818-.01-1.575.345-2.032.925l-.1.138c-.46.689-1.392.874-2.08.414-.69-.46-.875-1.391-.415-2.08 1.014-1.519 2.782-2.419 4.659-2.397zM25 9.958c.78 0 1.42.595 1.493 1.356l.007.144v46.396c0 .829-.672 1.5-1.5 1.5-.78 0-1.42-.595-1.493-1.355l-.007-.145V11.458c0-.828.672-1.5 1.5-1.5zm24.766 31.25c1.419.014 2.78.553 3.788 1.508 1.03.977 1.607 2.309 1.592 3.706-.022 1.39-.634 2.708-1.688 3.659-1.032.93-2.406 1.438-3.82 1.419-1.836-.021-3.545-.919-4.532-2.402-.46-.69-.273-1.62.417-2.08.65-.432 1.512-.292 1.994.301l.086.116c.429.645 1.21 1.055 2.071 1.065.67.009 1.31-.227 1.774-.647.443-.4.69-.93.698-1.47.006-.547-.226-1.081-.656-1.49-.452-.428-1.084-.678-1.756-.684-.818-.01-1.575.345-2.032.925l-.1.138c-.46.688-1.392.874-2.08.414-.69-.46-.875-1.392-.415-2.08 1.014-1.519 2.782-2.42 4.659-2.397zm25-8.333c1.419.014 2.78.552 3.788 1.508 1.03.976 1.607 2.308 1.592 3.706-.022 1.39-.634 2.707-1.688 3.658-1.032.931-2.406 1.438-3.82 1.42-1.836-.022-3.545-.92-4.532-2.402-.46-.69-.273-1.621.417-2.08.65-.432 1.512-.292 1.994.3l.086.117c.429.645 1.21 1.055 2.071 1.065.67.009 1.31-.228 1.774-.647.443-.4.69-.93.698-1.47.006-.548-.226-1.082-.656-1.49-.452-.428-1.084-.678-1.756-.685-.818-.01-1.575.346-2.032.925l-.1.138c-.46.69-1.392.875-2.08.415-.69-.46-.875-1.392-.415-2.08 1.014-1.52 2.782-2.42 4.659-2.398zM50 9.958c.78 0 1.42.595 1.493 1.356l.007.144v26.084c0 .828-.672 1.5-1.5 1.5-.78 0-1.42-.595-1.493-1.356l-.007-.144V11.458c0-.828.672-1.5 1.5-1.5zm25 0c.78 0 1.42.595 1.493 1.356l.007.144v17.75c0 .829-.672 1.5-1.5 1.5-.78 0-1.42-.595-1.493-1.355l-.007-.145v-17.75c0-.828.672-1.5 1.5-1.5z"/>\n        </svg>`},{name:"fingerprint",label:"Fingerprint",svgContent:`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 100 100">\n            <path class="${we}" fill="#4A4949" d="M68.884 25.318c-6.503-3.34-12.126-4.757-18.867-4.757-6.706 0-13.074 1.586-18.866 4.757-.813.439-1.83.135-2.303-.674-.44-.81-.136-1.856.677-2.295 6.3-3.407 13.21-5.162 20.492-5.162 7.215 0 13.515 1.586 20.425 5.129.847.438 1.152 1.45.711 2.26-.304.607-.88.945-1.49.945-.27 0-.542-.068-.779-.203zm-47.895 16.87c-.341 0-.683-.098-.99-.293-.786-.521-.956-1.53-.41-2.28 3.38-4.556 7.684-8.137 12.806-10.644 10.724-5.273 24.452-5.306 35.21-.032 5.122 2.506 9.425 6.055 12.806 10.58.546.715.376 1.757-.41 2.278-.785.52-1.844.358-2.39-.39-3.074-4.102-6.967-7.325-11.577-9.571-9.802-4.785-22.335-4.785-32.102.033-4.644 2.278-8.537 5.533-11.611 9.635-.273.456-.785.684-1.332.684zm22.028 38.541c-.449 0-.897-.162-1.208-.487-3.002-2.823-4.624-4.64-6.936-8.566-2.38-3.991-3.623-8.858-3.623-14.082 0-9.637 8.765-17.49 19.531-17.49 10.767 0 19.532 7.853 19.532 17.49 0 .908-.76 1.622-1.726 1.622s-1.725-.714-1.725-1.622c0-7.853-7.212-14.245-16.08-14.245-8.87 0-16.081 6.392-16.081 14.245 0 4.672 1.104 8.988 3.209 12.492 2.208 3.732 3.727 5.322 6.384 7.853.655.649.655 1.654 0 2.303-.38.325-.828.487-1.277.487zm23.652-5.208c-4.185 0-7.878-1-10.903-2.967-5.24-3.368-8.37-8.836-8.37-14.637 0-.934.774-1.667 1.758-1.667.985 0 1.759.733 1.759 1.667 0 4.701 2.532 9.135 6.823 11.87 2.497 1.6 5.416 2.366 8.933 2.366.844 0 2.25-.1 3.658-.333.95-.167 1.864.433 2.04 1.367.175.9-.458 1.767-1.442 1.934-2.005.366-3.764.4-4.256.4zm-6.157 7.291c-.137 0-.308-.032-.445-.065-5.44-1.45-8.999-3.393-12.728-6.917-4.79-4.579-7.425-10.672-7.425-17.194 0-5.336 4.722-9.684 10.538-9.684 5.817 0 10.539 4.348 10.539 9.684 0 3.524 3.182 6.39 7.117 6.39 3.934 0 7.116-2.866 7.116-6.39 0-12.418-11.12-22.497-24.806-22.497-9.717 0-18.613 5.204-22.616 13.274-1.335 2.668-2.019 5.797-2.019 9.223 0 2.57.24 6.62 2.293 11.89.342.857-.103 1.812-.993 2.109-.89.329-1.882-.132-2.19-.956-1.676-4.314-2.497-8.596-2.497-13.043 0-3.953.787-7.543 2.326-10.672 4.551-9.19 14.645-15.151 25.696-15.151 15.568 0 28.228 11.56 28.228 25.79 0 5.336-4.722 9.684-10.538 9.684-5.817 0-10.539-4.348-10.539-9.684 0-3.524-3.182-6.39-7.117-6.39-3.934 0-7.116 2.866-7.116 6.39 0 5.632 2.258 10.903 6.398 14.855 3.25 3.096 6.364 4.809 11.188 6.094.924.23 1.437 1.152 1.198 2.009-.171.757-.89 1.251-1.608 1.251z"/>\n        </svg>`}];function Se(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Pe=new(s(819));class Te{constructor(){Se(this,"addConsentTool",((e,s)=>{const o=e?t.config.managerConfig.id:t.config.noticeConfig.id;e&&document.getElementById(t.config.noticeConfig.id)?this.postMessage("openManager",this.showPrivacyInformation):document.getElementById(o)?(s(this.managerDisplay?"consentManagerAlreadyShown":"consentNoticeAlreadyShown"),t.log.debug("Consent tool is already shown!")):(this.managerDisplay=e,this.iframe.src=e?t.config.managerConfig.location:t.config.noticeConfig.location,e&&this.showPrivacyInformation&&(this.iframe.src+="/privacy-information"),this.iframe.src+=`?theme=${t.config.theme||t.config.managerConfig.theme}&useSystemFonts=${t.config.useSystemFonts}&cmpType=tcf`,this.iframe.setAttribute("id",o),this.updateAndDisplayConsentTool(e),this.hideToggle(),s(e?"consentManagerDisplayed":"consentNoticeDisplayed"))})),Se(this,"updateAndDisplayConsentTool",(e=>{this.managerDisplay=e;const s=t.config.forceMobile||this.isMobile()||this.isTablet();e?this.displayConsentTool("modal",!1,s):this.displayConsentTool(t.config.noticeConfig[s?"mobileConfig":"desktopConfig"].position,!0,s)})),Se(this,"removeConsentTool",(()=>{this.showConsentTool=!1,this.consentToolShown=!1,this.iframeWrapper.parentNode?this.iframeWrapper.parentNode.removeChild(this.iframeWrapper):this.iframe.parentNode?this.iframe.parentNode.removeChild(this.iframe):t.log.debug("Consent tool is disabled"),this.removeBackdrop(),this.showToggle()})),Se(this,"displayConsentTool",((e,t,s)=>{switch(this.removeBackdrop(),this.consentToolPosition=e,e){case"top":this.displayOnTop(s,t);break;case"bottom":this.displayAtBottom(s,t);break;case"modal":this.displayAsModal(s,t);break;default:this.displayInPlaceholder(e,s,t)}})),Se(this,"displayOnTop",((e,t)=>{this.displayAsBarAt(!0,e,t)})),Se(this,"displayAtBottom",((e,t)=>{this.displayAsBarAt(!1,e,t)})),Se(this,"displayAsModal",((e,t)=>{this.iframe.style.cssText="left:50%;top:50%;transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);border-radius:2px;",this.iframe.style.cssText+=e?"height:100%; max-height:640px; width:100%; min-width:320px; max-width: 660px":"height:100%; min-height:290px; max-height:640px; width:100%; min-width:320px; max-width: 660px",this.executeWhenBodyDefined("insertBefore",this.iframeWrapper,!0,!0),this.setConsentToolPosition(!1,t)})),Se(this,"displayInPlaceholder",((e,t,s)=>{const o=document.querySelector(e);o?(this.iframe.style.cssText="min-width:100%;width:1px;background:#fff;",this.setConsentToolPosition(!1,s),this.consentToolShown||o.appendChild(this.iframe)):s?this.displayAtBottom(t,s):this.displayOnTop(t,s)})),Se(this,"setConsentToolPosition",((e,s)=>{if(this.iframe.style.position=s||!e?"fixed":"initial",this.iframe.style.zIndex=2147483647,/Trident|MSIE/.test(navigator.userAgent)&&(this.iframe.style.minHeight="0",this.iframe.style.background="white"),s){const e=t.config.noticeConfig?t.config.noticeConfig.hideAfter:null;e&&setTimeout((()=>{this.managerDisplay||this.removeConsentTool()}),1e3*e)}})),Se(this,"updateConsentTool",(e=>{this.iframe&&((e||parseInt(e.height,10)>0)&&(this.iframeHeight=e.height,this.setIframeHeight(e.height)),this.isMobile()&&t.cmpUtils.isSafari&&this.addResizeListener())})),Se(this,"setIframeHeight",(e=>{let s=window.innerHeight;this.isMobileBarPortrait()&&(s=500),parseInt(e,10)<s?this.iframe.style.height=e:this.iframe.style.height=`${s}px`,this.isMobile()&&t.cmpUtils.isSafari&&window.matchMedia("(orientation: landscape)").matches&&window.document.documentElement.clientHeight>window.innerHeight&&("modal"===this.consentToolPosition||"bottom"===this.consentToolPosition)&&(this.iframe.style.paddingBottom=window.document.documentElement.clientHeight-window.innerHeight+"px"),this.postMessage("screenSize",{width:window.innerWidth,height:s})})),Se(this,"showBackdrop",(e=>{this.backdropShown||(this.backdropShown=!0,this.iframeWrapper.style.cssText="position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: 2147483647",this.iframeWrapper.style.background=e)})),Se(this,"removeBackdrop",(()=>{this.backdropShown&&(this.backdropShown=!1,this.iframeWrapper.style.cssText="")})),Se(this,"hideToggle",(()=>{this.toggleShow(!1)})),Se(this,"showToggle",(()=>{this.toggleShow(!0)})),Se(this,"toggleShow",(e=>{if(t.config.toggleConfig.displayToggle||(this.isMobile()||this.isTablet())&&t.config.toggleConfig.displayToggleOnMobile){const s=document.getElementById(t.config.toggleConfig.id||"toggle");s&&(s.setAttribute("title",Y.localizedValues.privacyManagerToggle),s.setAttribute("aria-label",Y.localizedValues.accessibilityToggle),s.style.display=e?"flex":"none")}})),Se(this,"isMobile",(()=>"mobile"===Pe.getDevice().type)),Se(this,"isTablet",(()=>"tablet"===Pe.getDevice().type)),Se(this,"setToggleStyle",((e,t)=>{const s=document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.appendChild(document.createTextNode(this.getStyle(e,t))),s.appendChild(o)})),Se(this,"loadLimitReached",(()=>{const e=t.config.noticeConfig?t.config.noticeConfig.loadLimit:null;if(!e)return!1;const s=+(()=>{const e=t.cmpStorage.readData(b);return t.log.debug("Read local consent tool load counter: ",e),e})()||0;return s===e||(e=>(t.log.debug("Write consent tool load counter locally: ",e),t.cmpStorage.writeData(b,e,86400)))(s+1)>e})),Se(this,"inIframe",(()=>{try{return window.self!==window.top}catch(e){return!0}})),Se(this,"shouldLoadInIframe",(()=>!(!t.config.previewMode&&t.config.disableLoadInIframe&&this.inIframe()))),Se(this,"postMessage",((e,t)=>{if(this.iframe.contentWindow){const s={[le]:{command:e,returnValue:t}};this.iframe.contentWindow.postMessage(s,"*")}})),this.showConsentTool=!1,this.managerDisplay=!1,this.iframe=document.createElement("iframe"),this.iframe.src=t.config.managerConfig.location,this.iframe.setAttribute("id",t.config.managerConfig.id),this.iframe.setAttribute("class","faktor-iframe-wrapper"),this.iframe.setAttribute("aria-label",Y.localizedValues.accessibilityWindow),this.iframe.setAttribute("role","dialog"),this.iframe.setAttribute("aria-modal",!0),this.iframe.frameBorder="0",this.iframe.scrolling="yes",this.iframe.style.display="none",t.config.backdrop=t.config.noticeConfig.desktopConfig.backdrop||t.config.backdrop,t.config.noticeConfig.showBackdrop=void 0===t.config.noticeConfig.desktopConfig.showBackdrop?t.config.noticeConfig.showBackdrop:t.config.noticeConfig.desktopConfig.showBackdrop,t.config.managerConfig.showBackdrop=void 0===t.config.managerConfig.showBackdrop||t.config.managerConfig.showBackdrop,"corner"===t.config.noticeConfig.desktopConfig.type&&(t.config.noticeConfig.desktopConfig.type="bar",t.config.noticeConfig.desktopConfig.position="modal"),this.iframeWrapper=document.createElement("div"),this.iframeWrapper.id="gdpr-consent-tool-wrapper",this.iframeWrapper.setAttribute("tabIndex",-1),this.iframeWrapper.setAttribute("aria-hidden",!0),this.iframeWrapper.appendChild(this.iframe)}toggleConsentToolShowing(e,s,o,i){navigator.cookieEnabled?this.shouldLoadInIframe()?(this.showConsentTool="boolean"==typeof s?s:!this.showConsentTool,this.showConsentTool?(this.showPrivacyInformation=i,this.addConsentTool(!(!o&&t.config.noticeConfig.display),e),this.hideToggle()):(this.removeConsentTool(),e(this.managerDisplay?"consentManagerClosed":"consentNoticeClosed"))):t.log.debug("Load in iframe is disabled!"):t.log.debug("Cookies are disabled!")}displayAsBarAt(e,t,s){this.iframe.style.cssText="width: 100%; left: 0;",this.iframe.style.cssText+=e?"top: 0":"bottom: 0",this.executeWhenBodyDefined("appendChild",this.iframeWrapper,!0,!0),this.setConsentToolPosition(t,s)}updateConsentToolWhenShown(){this.consentToolShown=!0,setTimeout((()=>{this.iframe.style.cssText+="box-shadow: 0 6px 30px 5px rgba(0, 0, 0, 0.12), 0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 8px 10px -5px rgba(0, 0, 0, 0.2);"})),this.iframe.focus()}isMobileBarPortrait(){return!("modal"===this.consentToolPosition||this.managerDisplay)&&this.isMobile()&&window.matchMedia("(orientation: portrait)").matches}addResizeListener(){this.resizeListener||(window.addEventListener("resize",(()=>{this.iframe.style.paddingBottom="initial",this.setIframeHeight(this.iframeHeight)})),this.resizeListener=!0)}initToggle(e,t){this.setToggleStyle(e.style);const s=document.createElement("a");let o;switch(s.setAttribute("tabindex",0),s.setAttribute("title",Y.localizedValues.privacyManagerToggle),e.toggleUrl?s.innerHTML=`<img src='${e.toggleUrl}' style='width:100%; height:100%;'/>`:Ce.forEach((t=>{t.name===e.style.icon&&(s.innerHTML=t.svgContent)})),s.id=e.id||"gdpr-toggle",s.style.cssText=`position: fixed; cursor: pointer; display: flex; width: 40px; height: 40px; align-items: center;\n \t\t\tjustify-content: center; background-color: ${e.style.iconStyle.backgroundColor}; border-radius: 50px;`,s.style.zIndex=e.zIndex||2147483646,e.position){case"topRight":s.style.top="10px",s.style.right="10px";break;case"bottomRight":s.style.bottom="10px",s.style.right="10px";break;case"topLeft":s.style.top="10px",s.style.left="10px";break;case"bottomLeft":s.style.bottom="10px",s.style.left="10px";break;default:o=document.querySelector(e.position),o||(s.style.bottom="28px",s.style.right="40px")}const i=()=>{t("toggleButtonClicked"),this.toggleConsentToolShowing(t,!0,!0,e.openPrivacyInformation)};s.onclick=i,s.addEventListener("keyup",(e=>{13===e.keyCode&&(e.preventDefault(),i())})),o?(s.style.position="initial",o.appendChild(s)):this.executeWhenBodyDefined("appendChild",s)}getStyle(e){let t="";return e&&(t+=`\n\t\t\t\t.${we} {\n\t\t\t\t\tfill: ${e.iconStyle.color};\n\t\t\t\t}\n\t\t\t`),t}executeWhenBodyDefined(e,t,s,o){document.body?(o&&!t.querySelector(`#${this.iframe.id}`)&&t.appendChild(this.iframe),o&&document.getElementById(t.id)||document.body[e](t,s?document.body.firstElementChild:null)):setTimeout(this.executeWhenBodyDefined.bind(this,e,t,s,o),5)}}function Le(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ie=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),De=24,ke=1e4;class xe{constructor(){var e=this;let{consentData:s,customConsentData:o,vendorList:i,consentDataConfig:n,acString:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Le(this,"syncConsentWithThirdPartyAndPL",(()=>{t.log.debug("Comparing consent data");const e=!Ie&&t.config.thirdPartyCookieSync;Promise.all([t.config.preferenceLink.enabled&&t.config.preferenceLink.apiKey?$().then((e=>K(`${t.config.preferenceLinkURL}/identifying-values/${e}`,{headers:{"Content-Type":"application/json",ApiKey:t.config.preferenceLink.apiKey}}).then((e=>e.json())).then((e=>(t.log.debug("Consent data from PL: ",e),e.data))).catch((e=>(t.log.error("Failed to get consent data from PL: ",e),null))))):(t.log.debug("Sync with PL disabled"),Promise.resolve()),E(),N(),e?I(!1,!0):Promise.resolve(),e?I(!0,!0):Promise.resolve(),e?R(!0):Promise.resolve()]).then((e=>{let[s,o,i,n,r,a]=e;const l=s&&s.consentString?new ge(new u.TCStringV2(s.consentString)):null,c=s&&s.customConsentString?new ge(new u.TCStringV2(s.customConsentString)):null,d=s&&s.customConsentString?new pe(s.acString):null,p=l?l.getLastUpdated():null,h=c?c.getLastUpdated():null,g=s&&s.lastInteraction?s.lastInteraction/1e3:null,f=n?new ge(n):null,m=r?new ge(r):null,b=a?new pe(a):null,y=f?f.getLastUpdated():null,v=m?m.getLastUpdated():null,w=this.consentData.getLastUpdated(),C=this.customConsentData.getLastUpdated();let S=!1,P=!1;if(p&&(!w||p>w||g&&(!o||g>o))||y&&(!w||y>w)?(S=!0,p&&(!y||p>y||g&&(!o||g>o))?(this.consentData=l,D(this.consentData,!1,!0)):f&&((!p||p<y||o&&(!g||g<o))&&(P=!0),this.consentData=f,D(this.consentData,!1,!0,!0))):w&&(t.config.thirdPartyCookieSync&&(!y||y<w)&&D(this.consentData,!1,!0,!1,!0),(!p||p<w||o&&(!g||g<o))&&(P=!0)),h&&(!C||h>C||g&&(!o||g>o))||v&&(!C||v>C)?(S=!0,h&&(!v||h>v||g&&(!o||g>o))?(this.customConsentData=c,D(this.customConsentData,!0,!0)):m&&((!h||h<v||o&&(!g||g<o))&&(P=!0),this.customConsentData=m,D(this.customConsentData,!0,!0,!0))):C&&(t.config.thirdPartyCookieSync&&(!v||v<C)&&D(this.customConsentData,!0,!0,!1,!0),(!h||h<C||o&&(!g||g<o))&&(P=!0)),S&&(t.log.debug("Consent data not in sync"),this.publisherSelection=this.getPublisherSelection(!0),this.updateAdditionalConsent()),b&&this.additionalConsent&&b.getConsentString()===this.additionalConsent.getConsentString()||this.updateAdditionalConsent(),!this.additionalConsent.getConsentString()||d&&d.getConsentString()===this.additionalConsent.getConsentString()||(P=!0),s){const e=s.gdprWebConfigVersion||s.configVersion;(!e&&i||!s.lastInteraction&&o)&&(P=!0),e&&(!i||e>i)&&(i=e,F(i,!0)),g&&(!o||g>o)&&(o=g,B(g,!0))}P&&(t.log.debug("PL Consent data out of sync"),ve(this.consentData.getConsentString(),this.customConsentData.getConsentString(!0),this.additionalConsent.getConsentString(),o)),t.log.debug("Consent data synced"),this.syncEvent&&this.syncEvent.done()}))})),Le(this,"getPurposeOneTreatment",(()=>this.purposeOneTreatment)),Le(this,"setPurposeOneTreatment",((e,t)=>{this.purposeOneTreatment=!t&&e})),Le(this,"updateCoreSegment",(()=>{const{consentData:e,customConsentData:s,vendorList:o={}}=this,i=e.getCoreSegmentData(),n={};i.cmpId||(n.cmpId=re),i.cmpVersion||(n.cmpVersion=ae),i.tcfPolicyVersion||(n.tcfPolicyVersion=o.tcfPolicyVersion),i.vendorListVersion||(n.vendorListVersion=o.vendorListVersion),t.cmpUtils.isObjectEmpty(n)||(e.updateCoreSegmentData(n),s.updateCoreSegmentData(n))})),Le(this,"updateVendorList",((e,s)=>{e&&"object"==typeof e?e.vendorListVersion&&e.purposes===Object(e.purposes)&&e.vendors===Object(e.vendors)?(t.log.debug("Vendor List Set"),this.vendorList=e,this.publisherSelection=this.getPublisherSelection(!0),s&&s("vendorListChanged")):t.log.error("The provided vendor list does not respect the schema from the IAB EU’s GDPR Consent and Transparency Framework"):t.log.error("Vendor list must be object")})),Le(this,"getVendorList",(e=>{const t=this.vendorList||{};return e?JSON.parse(JSON.stringify(t)):t})),Le(this,"accept",((e,t,s,o,i)=>{this.setConsent(e,!0,t,s,o,i)})),Le(this,"reject",((e,t,s,o,i)=>{this.setConsent(e,!1,t,s,o,i)})),Le(this,"setConsent",((e,s,o,i,n,r)=>{const{consentData:a,customConsentData:l,consentDataConfig:c}=this,{purposes:d={},vendors:u={},specialFeatures:p={}}=this.getVendorList()||{},{purposeIds:h,vendorIds:g,legIntPurposeIds:f,legIntVendorIds:m,specialFeatureIds:b,publisher:y={},consentOnDemand:v=!1}=e||{},w=this.getPublisherSelection();this.setSelected(u,a,l,!!e,g,s,"vendorsConsent","setAllowed",w.vendors,!0,!1,!1,!1,v),this.setSelected(d,a,l,!!e,h,s,"purposesConsent","setAllowed",w.purposes,!1,!1,!0),this.setSelected(p,a,null,!!e,b,s,"specialFeatureOptIns","setAllowed",w.specialFeatures),c.publisher.enabled&&this.setSelected(d,a,l,!!e,y.purposeIds,s,"pubPurposesConsent","setAllowedPublisherTC",c.publisher.purposes,!1,!1,!0,c.publisher.lockedPurposes);const C=!c.handleLegIntOnAcceptAndDenyAll||s;this.setSelected(u,a,l,!!e,m,C,"vendorsLegitimateInterest","setAllowed",w.vendors,!0,!0),this.setSelected(d,a,l,!!e,f,C,"purposeLITransparency","setAllowed",w.purposes,!1,!0,!0),c.publisher.enabled&&this.setSelected(d,a,l,!!e,y.legIntPurposeIds,C,"pubPurposesLITransparency","setAllowedPublisherTC",c.publisher.legIntPurposes,!1,!0,!0,c.publisher.lockedPurposes),v&&(B(null,!0),F(t.config.configVersion,!0)),this.persist(o,i,n,r)})),Le(this,"setSelected",((e,t,s,o,i,n,r,a,l,c,d,u,p,h)=>{const g=c?ke:De;o&&i&&i.length>0?i.forEach((e=>{this.setSelectedItem(t,s,e,g,n,r,a,l,c,d,u,p,h)})):!o&&l&&Object.keys(e).forEach((o=>{this.setSelectedItem(t,s,e[o].id,g,n,r,a,l,c,d,u,p,h)}))})),Le(this,"setSelectedItem",((e,t,s,o,i,n,r,a,l,c,d,u,p)=>{if((l||!c||s>1)&&(!a||this.isItemAllowed(s,a,l,c,d))){const c=!l&&u&&u.indexOf(s)>-1;if(t&&s>o?t[r](n,this.removeOffset(s,!l),c||i):e[r](n,s,c||i),p&&l&&i){const o=a.find((e=>e===s||e.id===s));o&&this.selectAllVendorPurposesAndFeatures(e,t,o)}}})),Le(this,"selectAllVendorPurposesAndFeatures",((e,t,s)=>{s.purposes&&s.purposes.length>0&&s.purposes.forEach((s=>{this.isCustom(s,!0)?t.setAllowed("purposesConsent",this.removeOffset(s,!0),!0):e.setAllowed("purposesConsent",s,!0)})),s.legIntPurposes&&s.legIntPurposes.length>0&&s.legIntPurposes.forEach((s=>{this.isCustom(s,!0)?t.setAllowed("purposeLITransparency",this.removeOffset(s,!0),!0):e.setAllowed("purposeLITransparency",s,!0)})),s.specialFeatures&&s.specialFeatures.length>0&&s.specialFeatures.forEach((t=>{e.setAllowed("specialFeatureOptIns",t,!0)}))})),Le(this,"isItemAllowed",((e,t,s,o,i)=>{const n=t.find((t=>t===e||t.id===e));return!!n&&(s?!o||n.isLegInt:(!this.getPurposeOneTreatment()||!i||1!==n.id)&&(!n.vendors||n.vendors.some((t=>o&&i?t.legIntPurposes&&t.legIntPurposes.indexOf(e)>-1:t[i?"purposes":"specialFeatures"]&&t[i?"purposes":"specialFeatures"].indexOf(e)>-1))))})),Le(this,"updateConsent",((e,t,s,o)=>{const{consentData:i,customConsentData:n}=this;this.setAllowed(i,n,e),this.persist(null,t,s,o)})),Le(this,"setAllowed",((e,t,s)=>{s&&s.vendors&&s.vendors.length>0&&s.vendors.forEach((o=>{if(o.forPublisher)if(o.isPublisher)this.setAllowedItems(e,t,s.purposes,o.purposes,"setAllowedPublisherTC","pubPurposesConsent",o,!0),this.setAllowedItems(e,t,s.purposes,o.legIntPurposes,"setAllowedPublisherTC","pubPurposesLITransparency",o,!0,!0);else{const i=this.isCustom(o.id);o.isLegInt&&this.setAllowedItem(e,t,o,i,"setAllowed","vendorsLegitimateInterest",null,!1,!0),this.setAllowedItem(e,t,o,i,"setAllowed","vendorsConsent"),this.setAllowedItems(e,t,s.purposes,o.purposes,"setAllowed","purposesConsent",null,!0),this.setAllowedItems(e,t,s.purposes,o.legIntPurposes,"setAllowed","purposeLITransparency",null,!0,!0),this.setAllowedItems(e,null,s.specialFeatures,o.specialFeatures,"setAllowed","specialFeatureOptIns")}}))})),Le(this,"setAllowedItems",((e,t,s,o,i,n,r,a,l)=>{o&&o.length>0&&o.forEach((o=>{const c=s.find((e=>e.id===o));if(c){if(this.getPurposeOneTreatment()&&a&&1===c.id)return;const s=this.isCustom(c.id,a);l&&a&&1===c.id||this.setAllowedItem(e,t,c,s,i,n,r,a,l)}}))})),Le(this,"setAllowedItem",((e,t,s,o,i,n,r,a,l)=>{const c=!!(r&&r.lockedPurposes&&r.lockedPurposes.indexOf(s.id)>-1)||(l?!s.iObject:s.selected)&&(!r||(l?!r.iObject:r.selected));t&&o?t[i](n,this.removeOffset(s.id,a),c):e[i](n,s.id,c)})),Le(this,"persist",((e,s,o,i)=>{const{consentData:n,customConsentData:r,consentDataConfig:a,vendorList:l={},publisherRestrictions:c}=this,d=!n.getLastUpdated()||!r.getLastUpdated(),u={cmpId:re,cmpVersion:ae,vendorListVersion:l.vendorListVersion,tcfPolicyVersion:l.tcfPolicyVersion,isServiceSpecific:!t.config.storeConsentGlobally,purposeOneTreatment:this.getPurposeOneTreatment(),publisherCC:a.publisherCC,consentLanguage:q(),consentScreen:o};n.updateCoreSegmentData(u),r.updateCoreSegmentData(u),this.updatePublisherTC(n,r,l.purposes),this.updatePublisherRestrictions(n,r,t.config.storeConsentGlobally?[]:c,a.vendorRestrictions),D(n),D(r,!0),this.syncConsentData();const h=JSON.stringify(_()),g=JSON.stringify(this.getPublisherSelection(!0));var f;f=this.getPublisherSelection(),t.cmpStorage.writeToLocalStorage(P,f,p,!0),(d||h!==g)&&(this.updateAdditionalConsent(),ve(this.consentData.getConsentString(),this.customConsentData.getConsentString(!0),this.additionalConsent.getConsentString()),this.consentChanged(e,s,i))})),Le(this,"updatePublisherTC",(function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t.getPublisherTCData();if(o.pubPurposesConsent||o.pubPurposesLITransparency){const t=Object.keys(s).filter((e=>e>De)).length,i={customPurposesConsent:o.pubPurposesConsent,customPurposesLITransparency:o.pubPurposesLITransparency,numCustomPurposes:t};e.updatePublisherTCData(i)}})),Le(this,"updatePublisherRestrictions",((e,t,s,o)=>{let i;if(o&&o.restrictAllVendors){i=[];const e=this.getVendorList(!0)||{};let{vendors:t={}}=e;const{purposes:s={}}=e;t=this.removeCustomItems(t,ke);const n=this.getMaxVendorId(t);Object.keys(s).forEach((e=>{e>1&&!this.isCustom(e,!0)&&i.push({purposeId:parseInt(e,10),restrictionType:o.restrictionType,restrictedVendors:[n]})}))}else i=JSON.parse(JSON.stringify(s.filter((e=>e.purposeId<=De)))),i=i.filter((e=>(e.restrictedVendors=e.restrictedVendors.filter((e=>e<=ke)),e.restrictedVendors.length>0)));e.updateCoreSegmentData({publisherRestrictions:i}),t.updateCoreSegmentData({publisherRestrictions:s})})),Le(this,"updateAdditionalConsent",(()=>{const{consentData:e,additionalConsent:s}=this,o=e.getAllowed("purposesConsent"),i=e.getAllowed("purposeLITransparency"),n=!(![1,3,4].every((e=>o.indexOf(e)>-1))||!(o.indexOf(2)>-1||i.indexOf(2)>-1));var r;this.getPublisherSelection().vendors.filter((e=>e.id>2e4)).forEach((e=>{s.setVendorConsent(e.id-2e4,e.selected&&n)})),r=s.getConsentString(),t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync||t.cmpStorage.writeOnPortal(t.portal.sendSharedPortalCommand,T,f,r,p),t.cmpStorage.writeData(f,r,p)})),Le(this,"syncConsentData",(()=>{this.consentData=new ge(new u.TCStringV2(this.consentData.getConsentString())),this.customConsentData=new ge(new u.TCStringV2(this.customConsentData.getConsentString(!0)))})),Le(this,"consentChanged",((e,t,s)=>{s=s||(()=>{}),e||(e=this.getConsentStatus()),O()||this.logging(!1,null,null,s),this.logging(!0,e,t),s("consentChanged")})),Le(this,"getConsentObject",((e,t,s,o,i,n)=>{this.updateCoreSegment();const{consentData:r,customConsentData:a,consentDataConfig:l,additionalConsent:c}=this,d=this.getVendorList(!0),u=r.getCoreSegmentData(),p={tcfPolicyVersion:u.tcfPolicyVersion||d.tcfPolicyVersion,cmpId:u.cmpId||re,cmpVersion:u.cmpVersion||ae,gdprApplies:t};if(t){r.getLastUpdated()&&(p.tcString=r.getConsentString()),n&&a.getLastUpdated()&&(p.tcStringCustom=a.getConsentString(!0));const t=c.getConsentString();t&&(p.addtlConsent=t),p.cmpStatus=s,p.eventStatus=o,p.listenerId=i,p.isServiceSpecific=!!u.isServiceSpecific,p.useNonStandardStacks=!!u.useNonStandardStacks,p.publisherCC=u.publisherCC,p.purposeOneTreatment=u.purposeOneTreatment,u.isServiceSpecific||(p.outOfBand={allowedVendors:r.getAllowedVendorsData(),discloseVendors:r.getDisclosedVendorsData()});let{purposes:h={},vendors:g={}}=d;const{specialFeatures:f={}}=d;n||(h=this.removeCustomItems(h,De),g=this.removeCustomItems(g,ke));const m=this.getMaxVendorId(g),b=this.mapSelected(g,r,n?a:null,"vendorsConsent","getAllowed","isAllowed",e,l.vendors,m,!0),y=this.mapSelected(g,r,n?a:null,"vendorsLegitimateInterest","getAllowed","isAllowed",e,l.vendors,m,!0);p.vendor={consents:b,legitimateInterests:y};const v=this.mapSelected(h,r,n?a:null,"purposesConsent","getAllowed","isAllowed"),w=this.mapSelected(h,r,n?a:null,"purposeLITransparency","getAllowed","isAllowed");p.purpose={consents:v,legitimateInterests:w};const C=this.mapSelected(f,r,n?a:null,"specialFeatureOptIns","getAllowed","isAllowed");p.specialFeatureOptins=C;const S=this.mapSelected(h,r,null,"pubPurposesConsent","getAllowedPublisherTC","isAllowedPublisherTC",null,l.publisher.purposes),P=this.mapSelected(h,r,null,"pubPurposesLITransparency","getAllowedPublisherTC","isAllowedPublisherTC",null,l.publisher.legIntPurposes),T=this.mapSelected(d.purposes,r,a,"pubPurposesConsent","getAllowedPublisherTC","isAllowedPublisherTC",null,l.publisher.purposes,null,null,!0),L=this.mapSelected(d.purposes,r,a,"pubPurposesLITransparency","getAllowedPublisherTC","isAllowedPublisherTC",null,l.publisher.legIntPurposes,null,null,!0);p.publisher={consents:S,legitimateInterests:P,customPurpose:{consents:T,legitimateInterests:L}}}return p})),Le(this,"mapSelected",(function(t,s,o,i,n,r,a,l){let c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],u=arguments.length>10&&void 0!==arguments[10]&&arguments[10];const p={};if(a&&a.length)a.forEach((t=>{e.mapSelectedItem(t,p,s,o,i,r,l,d,u)}));else if(!o||"vendorsConsent"!==i&&"vendorsLegitimateInterest"!==i){const a=s[n](i)||[],h=o?e.addOffsetToIds(o[n](i)||[],!d):[],g=Math.max(c,...Object.keys(t).map((e=>t[e].id)),...a,...h);for(let t=1;t<=g;t++)e.mapSelectedItem(t,p,s,o,i,r,l,d,u)}else for(const t of l)e.mapSelectedItem(t,p,s,o,i,r,l,d);return p})),Le(this,"mapSelectedItem",((e,t,s,o,i,n,r,a,l)=>{this.isCustom(e,!a)?o&&(t[e]=(!r||r.indexOf(e)>-1)&&o[n](i,this.removeOffset(e,!a))):l||(t[e]=(!r||r.indexOf(e)>-1)&&s[n](i,e))})),Le(this,"shouldConsentToolBeTriggered",(()=>new Promise((e=>{t.config.preferenceLink.enabled&&t.config.preferenceLink.apiKey?this.syncEvent=new t.cmpUtils.syncEmitter(this.checkShouldConsentToolBeTriggered,e):this.checkShouldConsentToolBeTriggered(e)})))),Le(this,"checkShouldConsentToolBeTriggered",(e=>{const{consentData:s,customConsentData:o}=this,{redisplayAfter:i,configVersion:n}=t.config;s.getLastUpdated()&&o.getLastUpdated()?i?Promise.all([E(),N()]).then((t=>{let[r,a]=t;const l=(new Date).getTime()/1e3,c=l-Math.max(s.getLastUpdated(),o.getLastUpdated())/1e3,d=l-(r||0),u=Math.max(c,d),p=this.getConsentStatus();JSON.stringify(_())!==JSON.stringify(this.getPublisherSelection())&&"FULL_CONSENT"!==p&&u>i.vendorChange||n!==a&&u>i.configChange||"FULL_CONSENT"===p&&u>i.accept||"FULL_CONSENT"!==p&&u>i.reject?e(!0):e(!1)})):e(!1):e(!0)})),Le(this,"shouldNoticeBeShown",(()=>!t.config.noticeConfig||t.config.noticeConfig.display)),Le(this,"getPublisherSelection",(e=>(this.publisherSelection&&!e||(this.publisherSelection=this.setPublisherSelection()),this.publisherSelection))),Le(this,"setPublisherSelection",(()=>{const{consentDataConfig:e,consentData:t,customConsentData:s}=this,o=this.getVendorList(!0),i=this.publisherSelection||_()||{},n=t.getCoreSegmentData(),r=t.getPublisherTCData(),a=s.getCoreSegmentData(),l=s.getPublisherTCData();this.publisherRestrictions=[];const c={vendors:[],purposes:[],specialPurposes:[],features:[],specialFeatures:[]};if(o){const t={purposes:{},specialPurposes:{},features:{},specialFeatures:{}};this.groupVendors(o.vendors,r,l,e,t,c.vendors,i.vendors);const s=!!(e&&e.publisher&&e.publisher.enabled);this.groupPurposesOrFeatures(!0,o.purposes,n,r,a,l,c.purposes,t.purposes,!0,i.purposes,e.publisherRestrictions,e.vendorRestrictions,s),this.groupPurposesOrFeatures(!0,o.specialPurposes,null,null,null,null,c.specialPurposes,t.specialPurposes,!1,i.specialPurposes),this.groupPurposesOrFeatures(!1,o.features,null,null,null,null,c.features,t.features,!1),this.groupPurposesOrFeatures(!1,o.specialFeatures,n,null,a,null,c.specialFeatures,t.specialFeatures,!0),this.setVendorSelectionAndLegInt(c.vendors,n,a,i.vendors)}return t.getLastUpdated()||n.purposeLITransparency||n.vendorsLegitimateInterest||r.pubPurposesLITransparency||s.getLastUpdated()||a.purposeLITransparency||a.vendorsLegitimateInterest||l.pubPurposesLITransparency||this.setInitialLIState(t,s,c),c})),Le(this,"groupVendors",((e,t,s,o,i,n,r)=>{if(e){const a=new Date;if(Object.keys(e).forEach((t=>{const s=e[t];(!s.deletedDate||new Date(s.deletedDate)>a)&&(s.forPublisher=!o.vendors||o.vendors&&o.vendors.indexOf(s.id)>-1,s.forPublisher&&(this.isCustom(s.id)&&this.setLockedPurposes(o.lockedPurposesPerVendor,s),n.push(s),this.addToVendorsGroupedByKeyNameId(i.purposes,s,"purposes"),this.addToVendorsGroupedByKeyNameId(i.purposes,s,"legIntPurposes"),this.addToVendorsGroupedByKeyNameId(i.specialPurposes,s,"specialPurposes"),this.addToVendorsGroupedByKeyNameId(i.features,s,"features"),this.addToVendorsGroupedByKeyNameId(i.specialFeatures,s,"specialFeatures")))})),o&&o.publisher&&o.publisher.enabled&&(o.publisher.purposes||o.publisher.legIntPurposes)){const e={...o.publisher,isPublisher:!0,forPublisher:!0};e.selected=this.isPublisherSelected(t,s,o.publisher),e.legIntPurposes=e.legIntPurposes?e.legIntPurposes.filter((e=>1!==e)):[],e.isLegInt=e.legIntPurposes&&e.legIntPurposes.length>0||e.specialPurposes&&e.specialPurposes.length>0,e.isLegInt&&(e.iObject=!this.isLegIntPublisherSelected(t,s,r?r.find((e=>e.isPublisher)):null)),n.push(e),this.addToVendorsGroupedByKeyNameId(i.purposes,e,"purposes"),this.addToVendorsGroupedByKeyNameId(i.purposes,e,"legIntPurposes"),this.addToVendorsGroupedByKeyNameId(i.specialPurposes,e,"specialPurposes"),this.addToVendorsGroupedByKeyNameId(i.features,e,"features")}}})),Le(this,"setLockedPurposes",((e,t)=>{e&&0!==e.length&&e.forEach((e=>{e.vendorId===t.id&&(t.lockedPurposes=e.purposes)}))})),Le(this,"setVendorSelectionAndLegInt",((e,t,s,o)=>{e&&e.length>0&&e.forEach((e=>{!e.isPublisher&&e.id&&(e.isCustom=this.isCustom(e.id),e.isCustom?e.selected=s&&s.vendorsConsent&&s.vendorsConsent.indexOf(this.removeOffset(e.id))>-1:e.selected=t&&t.vendorsConsent&&t.vendorsConsent.indexOf(e.id)>-1,e.isLegInt=e.legIntPurposes&&e.legIntPurposes.length>0||e.specialPurposes&&e.specialPurposes.length>0,e.isLegInt&&(e.iObject=!this.isLegIntVendorSelected(e.isCustom?s:t,e.id,o,e.isCustom)))}))})),Le(this,"groupPurposesOrFeatures",((e,t,s,o,i,n,r,a,l,c,d,u,p)=>{t&&Object.keys(t).forEach((h=>{const g=t[h];a[g.id]&&(g.vendors=a[g.id],e&&(d||u)&&this.setPublisherRestriction(g,d,u),g.vendors&&g.vendors.length>0&&(g.rightToObject=l,e?(g.isCustom=this.isCustom(g.id,!0),g.selected=g.isCustom?this.isPurposeSelected(i,n,l,this.removeOffset(g.id,!0),p):this.isPurposeSelected(s,o,l,g.id,p),g.isLegInt=l&&g.vendors.some((e=>(e.forPublisher||e.isPublisher)&&e.legIntPurposes&&e.legIntPurposes.indexOf(g.id)>-1)),g.isLegInt&&(g.iObject=g.isCustom?!this.isLegIntPurposeSelected(i,n,l,g.id,c,g.isCustom,p):!this.isLegIntPurposeSelected(s,o,l,g.id,c,!1,p))):g.selected=this.isFeatureSelected(s,l,g.id),g.forPublisher=g.vendors.some((e=>e.forPublisher||e.isPublisher)),r.push(g)))}))})),Le(this,"setPublisherRestriction",((e,t,s)=>{let o=!1;s&&s.restrictAllVendors&&(this.applyPublisherRestriction(e,s.restrictionType),o=!0);const i=t?t.filter((t=>t.purposeId===e.id)):null;i&&i.length>0&&i.forEach((t=>{this.applyPublisherRestriction(e,t.restrictionType,t,o)}))})),Le(this,"applyPublisherRestriction",((e,s,o,i)=>{const n=[];switch(s){case 0:for(let t=e.vendors.length-1;t>=0;t--){const s=e.vendors[t];(e.id>1||s.id>ke)&&(!o&&s.id<=ke||o&&o.restrictedVendors.indexOf(s.id)>-1&&(!i||s.id>ke))&&(n.push(s.id),s.purposes=s.purposes.filter((t=>t!==e.id)),s.legIntPurposes=s.legIntPurposes.filter((t=>t!==e.id)),e.vendors.splice(t,1))}break;case 1:e.vendors.forEach((t=>{(e.id>1||t.id>ke)&&t.legIntPurposes.indexOf(e.id)>-1&&(!o&&t.id<=ke||o&&o.restrictedVendors.indexOf(t.id)>-1&&(!i||t.id>ke))&&t.flexiblePurposes.indexOf(e.id)>-1&&(n.push(t.id),t.legIntPurposes=t.legIntPurposes.filter((t=>t!==e.id)),t.flexiblePurposes.indexOf(e.id)>-1&&t.purposes.push(e.id))}));break;case 2:e.vendors.forEach((t=>{(e.id>1||t.id>ke)&&t.purposes.indexOf(e.id)>-1&&(!o&&t.id<=ke||o&&o.restrictedVendors.indexOf(t.id)>-1&&(!i||t.id>ke))&&t.flexiblePurposes.indexOf(e.id)>-1&&(n.push(t.id),t.purposes=t.purposes.filter((t=>t!==e.id)),t.legIntPurposes.push(e.id))}));break;default:t.log.info("Restriction type not supported")}n.length>0&&this.publisherRestrictions.push({purposeId:e.id,restrictionType:s,restrictedVendors:n})})),Le(this,"isPublisherSelected",((e,t,s)=>{if(!e||!t)return!1;const o=[];t.pubPurposesConsent.forEach((e=>{o.push(this.addOffset(e,!0))}));const i=[...e.pubPurposesConsent,...o];return!!s.purposes&&s.purposes.some((e=>i.indexOf(e)>-1))})),Le(this,"isLegIntPublisherSelected",((e,t,s)=>{if(!(e&&e.pubPurposesLITransparency&&t&&t.pubPurposesLITransparency))return!0;const o=[];t.pubPurposesLITransparency.forEach((e=>{o.push(this.addOffset(e,!0))}));const i=[...e.pubPurposesLITransparency,...o];return!s||!s.legIntPurposes||s.legIntPurposes.some((e=>i.indexOf(e)>-1))})),Le(this,"isPurposeSelected",((e,t,s,o,i)=>!s||e&&e.purposesConsent&&e.purposesConsent.indexOf(o)>-1||i&&t&&t.pubPurposesConsent&&t.pubPurposesConsent.indexOf(o)>-1)),Le(this,"isLegIntPurposeSelected",((e,t,s,o,i,n,r)=>!s||!e&&(!r||!t)||e&&(!e.purposeLITransparency||e.purposeLITransparency.indexOf(n?this.removeOffset(o,!0):o)>-1)||r&&t&&(!t.pubPurposesLITransparency||t.pubPurposesLITransparency.indexOf(n?this.removeOffset(o,!0):o)>-1)||!i||!i.find((e=>e.id===o&&e.isLegInt)))),Le(this,"isLegIntVendorSelected",((e,t,s,o)=>e&&(!e.vendorsLegitimateInterest||e.vendorsLegitimateInterest.indexOf(o?this.removeOffset(t):t)>-1)||!s||!s.find((e=>e.id===t&&e.isLegInt)))),Le(this,"isFeatureSelected",((e,t,s)=>!t||e&&e.specialFeatureOptIns&&e.specialFeatureOptIns.indexOf(s)>-1)),Le(this,"addToVendorsGroupedByKeyNameId",((e,t,s)=>{if(t[s])for(const o of t[s])e[o]?e[o].some((e=>e.id===t.id))||e[o].push(t):e[o]=[t]})),Le(this,"setInitialLIState",((e,t,s)=>{s.vendors.forEach((s=>{s.isLegInt&&!s.iObject&&(s.id?this.isCustom(s.id)?t.setAllowed("vendorsLegitimateInterest",this.removeOffset(s.id),!0):e.setAllowed("vendorsLegitimateInterest",s.id,!0):s.isPublisher&&s.legIntPurposes.forEach((s=>{this.isCustom(s,!0)?t.setAllowedPublisherTC("pubPurposesLITransparency",this.removeOffset(s,!0),!0):e.setAllowedPublisherTC("pubPurposesLITransparency",s,!0)})))})),s.purposes.forEach((s=>{s.id&&s.isLegInt&&!s.iObject&&s.vendors.some((e=>e.id))&&(this.isCustom(s.id,!0)?t.setAllowed("purposeLITransparency",this.removeOffset(s.id,!0),!0):e.setAllowed("purposeLITransparency",s.id,!0))}))})),Le(this,"getConsentStatus",(()=>{const{consentData:e,gdprApplies:s}=this;let o="GDPR_NOT_APPLIED";if(s&&(o="UNKNOWN",e.getLastUpdated())){const e=this.getPublisherSelection(),t={partialConsent:!1,fullConsent:!0};e.vendors.forEach((e=>{this.setPartialAndFullConsentStatus(t,e)})),e.purposes.forEach((e=>{this.setPartialAndFullConsentStatus(t,e,!0,!0)})),e.specialFeatures.forEach((e=>{this.setPartialAndFullConsentStatus(t,e,!0)})),o=t.fullConsent?"FULL_CONSENT":t.partialConsent?"PARTIAL_CONSENT":"NO_CONSENT"}return t.log.debug("Consent Status: ",o),o})),Le(this,"setPartialAndFullConsentStatus",((e,t,s,o)=>{if(t.forPublisher&&(!s||s&&t.rightToObject)){const s=!t.isLegInt||!t.iObject||o&&t.vendors.every((e=>!e.legIntPurposes||-1===e.legIntPurposes.indexOf(t.id))),i=!o&&t.purposes&&t.purposes.length>0||o&&t.vendors.some((e=>e.purposes&&e.purposes.indexOf(t.id)>-1)),n=!i||t.selected||o&&t.vendors.every((e=>!e.purposes||-1===e.purposes.indexOf(t.id)));(t.isLegInt&&s||i&&n)&&(e.partialConsent=!0),(t.isLegInt&&!s||i&&!n)&&(e.fullConsent=!1)}})),Le(this,"logging",((e,s,o,i)=>{if(e&&t.config.consentLoggingURL||t.config.dailyActiveUserLoggingURL){const{consentData:n,customConsentData:r}=this;A().then((a=>{const l=window.location.hostname.split(".").slice(-2).join("."),c={timestamp:+new Date,domain:l,appId:t.config.appId,configVersion:t.config.configVersion,libraryVersion:ae,auditId:a,browserFamily:Pe.getBrowser().name,osFamily:Pe.getOS().name,deviceType:Pe.getDevice().type||"desktop",consentString:n.getConsentString(),customConsentString:r.getConsentString(!0)};e?(c.consentData=n.getConsentData(),c.customConsentData=r.getConsentData(),c.eventName=s,c.eventOrigin=o):c.consentStatus=this.getConsentStatus();const u={PartitionKey:d(),Data:c};"UNKNOWN"===c.consentStatus?setTimeout((()=>{this.dailyActiveUserLogSent||O()||(()=>{const e=t.cmpStorage.readData(S);return t.log.debug("Read local daily active user log sent: ",e),e})()||this.postLog(!e,u,i)}),15e3):this.postLog(!e,u,i)}))}else t.log.debug("Logging URL not defined!")})),Le(this,"postLog",((e,s,o)=>{e&&o&&o("dauLogSent",{consentStatus:s.Data.consentStatus});const i=e?t.config.dailyActiveUserLoggingURL:t.config.consentLoggingURL;fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((()=>{e&&("UNKNOWN"!==s.Data.consentStatus&&(t.log.debug("Write daily active user value locally"),t.cmpStorage.writeData(m,!0,86400)),this.dailyActiveUserLogSent=!0,t.cmpStorage.writeData(S,!0,86400)),t.log.debug("Data logged")})).catch((e=>{t.log.error("Failed to log data: ",e)}))})),Le(this,"getMaxVendorId",(e=>{let t=0;return Object.keys(e).forEach((s=>{e[s].id>t&&(t=e[s].id)})),t})),Le(this,"isCustom",((e,t)=>e>(t?De:ke))),Le(this,"addOffsetToIds",((e,t)=>{const s=[];return e&&e.length>0&&e.forEach((e=>{s.push(this.addOffset(e,t))})),s})),Le(this,"addOffset",((e,t)=>e+(t?De:ke))),Le(this,"removeOffset",((e,t)=>e-(t?De:ke))),Le(this,"removeCustomItems",((e,t)=>Object.keys(e).reduce(((s,o)=>(o<=t&&(s[o]=e[o]),s)),{}))),Le(this,"checkConsent",((e,s,o,i)=>{const n=this.getPublisherSelection();return t.cmpUtils.isObject(e)?this.vendorHasConsent(e,n,o,i):this.checkVendorsConsent(e,n,o,i,s)})),Le(this,"checkVendorsConsent",((e,t,s,o,i)=>{const n=!!e;if(e||(e=t.vendors),!i)return e.every((e=>this.vendorHasConsent(e,t,s,o)));const r=this.getVendorList(),a=[];return e.forEach((e=>{n||(e={vendorId:e.id,isPublisher:e.isPublisher});const i=r.vendors?r.vendors[e.vendorId]:void 0,l=this.getVendorName(i);a.push({vendorId:e.vendorId,hasConsent:this.vendorHasConsent(e,t,s,o),vendorName:l})})),a})),Le(this,"getVendorName",(e=>e?e.name:t.config.consentDataConfig.publisher&&t.config.consentDataConfig.publisher.enabled?t.config.consentDataConfig.publisher.name:void 0)),Le(this,"vendorHasConsent",((e,t,s,o)=>{let i=!0;if(s){let s;(e.vendorId||e.isPublisher)&&(s=t.vendors.find((t=>t.id===e.vendorId)),i=!!(!s&&o||s&&(e.purposeIds&&e.purposeIds.length>0||e.specialFeatureIds&&e.specialFeatureIds.length>0||e.specialPurposeIds&&e.specialPurposeIds.length>0||(!s.purposes||s.purposes.length<=0||1===s.purposes.length&&1===s.purposes[0]&&this.getPurposeOneTreatment()||s.selected)&&(!s.isLegInt||!s.iObject)))),i&&e.purposeIds&&e.purposeIds.length&&(i=e.purposeIds.every((i=>this.purposeHasConsent(i,t,s,o,!!e.vendorId)))),i&&e.specialPurposeIds&&e.specialPurposeIds.length&&(i=e.specialPurposeIds.every((e=>this.specialPurposeHasConsent(e,t,s,o)))),i&&e.specialFeatureIds&&e.specialFeatureIds.length&&!e.isPublisher&&(i=e.specialFeatureIds.every((i=>this.specialFeatureHasConsent(i,t,s,o,!!e.vendorId)))),!i||!s||e.purposeIds||e.specialPurposeIds||e.specialFeatureIds||(i=(!s.purposes||s.purposes.every((e=>this.purposeHasConsent(e,t,s,o))))&&(!s.legIntPurposes||s.legIntPurposes.every((e=>this.purposeHasConsent(e,t,s,o)))),i&&s.specialPurposes&&s.specialPurposes.length>0&&(i=s.isLegInt&&!s.iObject),i&&s.specialFeatures&&s.specialFeatures.length>0&&!e.isPublisher&&(i=s.specialFeatures.every((e=>this.specialFeatureHasConsent(e,t,s,o)))))}return i})),Le(this,"purposeHasConsent",((e,t,s,o,i)=>{const n=t.purposes.find((t=>t.id===e));if(!n&&o&&(!i||s&&(s.selected||s.isLegInt&&!s.iObject)))return!0;if(n){if(this.getPurposeOneTreatment()&&1===e&&(!i||s&&s.selected))return!0;if(s){if(o&&-1===s.legIntPurposes.indexOf(e)&&-1===s.purposes.indexOf(e)&&(!i||s.selected||s.isLegInt&&!s.iObject))return!0;if(s.legIntPurposes.indexOf(e)>-1){if((!i||!s.iObject)&&n.isLegInt&&!n.iObject)return!0}else if((!i||s.selected)&&s.purposes.indexOf(e)>-1&&(n.selected||s.lockedPurposes&&s.lockedPurposes.indexOf(e)>-1))return!0}else if(n.selected||n.isLegInt&&!n.iObject)return!0}return!1})),Le(this,"specialPurposeHasConsent",((e,t,s,o)=>{const i=t.specialPurposes.find((t=>t.id===e));return!!(!i&&o||i&&(!s||s.specialPurposes.indexOf(e)>-1&&s.isLegInt&&!s.iObject))})),Le(this,"specialFeatureHasConsent",((e,t,s,o,i)=>{const n=t.specialFeatures.find((t=>t.id===e));if(!n&&o&&(!i||s&&s.selected))return!0;if(n)if(s){if(!i||s.selected){if(o&&-1===s.specialFeatures.indexOf(e))return!0;if(s.specialFeatures.indexOf(e)>-1&&n.selected)return!0}}else if(n.selected)return!0;return!1})),Le(this,"getConsentCriteria",(e=>{const t={},s=this.getPublisherSelection();return s.vendors&&s.vendors.length>0&&(e?(e.vendors&&(t.vendors=this.getConsentCriteriaVendors(s.vendors)),e.purposes&&(t.purposes=this.getConsentCriteriaItems(s.purposes,fe)),e.specialPurposes&&(t.specialPurposes=this.getConsentCriteriaItems(s.specialPurposes,me)),e.features&&(t.features=this.getConsentCriteriaItems(s.features,be)),e.specialFeatures&&(t.specialFeatures=this.getConsentCriteriaItems(s.specialFeatures,ye))):(t.vendors=this.getConsentCriteriaVendors(s.vendors),t.purposes=this.getConsentCriteriaItems(s.purposes,fe),t.specialPurposes=this.getConsentCriteriaItems(s.specialPurposes,me),t.features=this.getConsentCriteriaItems(s.features,be),t.specialFeatures=this.getConsentCriteriaItems(s.specialFeatures,ye))),t})),Le(this,"getConsentCriteriaVendors",(e=>{const t={};return e.forEach((e=>{e.isPublisher&&e.enabled?t[0]=e.name:t[e.id]=e.name})),t})),Le(this,"getConsentCriteriaItems",((e,t)=>{const s={},o=this.getNumberOfItems(t);return e.some((e=>(s[e.id]=e.name,Object.keys(s).length===o))),t===fe&&this.purposeOneTreatment&&delete s[1],s})),Le(this,"getNumberOfItems",(e=>e===fe?Object.keys(this.vendorList.purposes).length:e===me?Object.keys(this.vendorList.specialPurposes).length:e===be?Object.keys(this.vendorList.features).length:e===ye?Object.keys(this.vendorList.specialFeatures).length:void 0)),this.consentData=new ge(s),this.customConsentData=new ge(o),this.additionalConsent=new pe(r),this.consentDataConfig=n||{publisher:{}},this.setPurposeOneTreatment(this.consentDataConfig.purposeOneTreatment,t.config.storeConsentGlobally),i&&(this.updateVendorList(i),this.publisherSelection=this.getPublisherSelection()),this.syncConsentWithThirdPartyAndPL()}}const Ae=()=>{const e=document.getElementById("liveramp-cmp-wrapper");if(e){const{auditId:s}=e.dataset;if(s)return t.config.loadedFromLaunchPad=!0,x(s)}return A()},Oe=(e,t)=>{let s=!1;if(t.allCountries)s=!0;else{const o=t.countries.indexOf(e)>-1;s=t.includeSelection?o:!o}return s};function Ve(e){let{configUpdates:s,preview:o}=e;delete s.vendorListLocation,s.noticeConfig&&s.noticeConfig.location&&delete s.noticeConfig.location,s.managerConfig&&s.managerConfig.location&&delete s.managerConfig.location,(e=>{const s=document.getElementById("liveramp-cmp-wrapper");if(s){const{geoTargeting:o}=s.dataset;if(o)try{e.geoTargeting=JSON.parse(o),t.log.debug("Updated geo targeting: ",o)}catch(e){t.log.error("Unable to parse geo targeting: ",e)}}})(s),t.config.update(s),(()=>{const e=t.cmpUtils.getUrlParam("logging");var s;("true"===(s=e)||"false"===s)&&(t.config.logging="true"===e)})(t.config),o?(t.config.previewMode=o,t.config.geoTargeting.allCountries=!0):delete t.config.forceMobile,Y.updateTranslations(),t.log.debug("Using configuration: ",JSON.stringify(t.config));const i=Date.now();return Promise.all([I(),I(!0),R(),Ae()]).then((e=>{let[s,o,n]=e;const r=new xe({consentData:s,customConsentData:o,consentDataConfig:t.config.consentDataConfig,acString:n}),a=new Te,{commandQueue:l=[],VERSION:c}=window.__tcfapi||{};if(c)return void t.log.error("CMP already loaded");const{cmpId:d}=t.config,u=parseInt(t.config.cmpVersion,10),p=new de(r,a,d,u);p.commandQueue=l,window.__tcfapi=p.processCommand;const h=Date.now();return t.log.debug(`Successfully loaded CMP version: ${ae} in ${h-i}ms, CMP id: ${re}`),p.isLoaded=!0,p.cmpStatus="loaded",p.notify("isLoaded"),Promise.all([t.config.geoTargeting.allCountries?Promise.resolve(!0):(t.cmpUtils.isSafari&&t.config.useCookies||!t.config.thirdPartyCookieSync?Promise.resolve(U()):t.cmpStorage.readFromPortal(t.portal.sendSharedPortalCommand,T,C).then((e=>{t.log.debug("Read geo location from portal: ",e);try{if(e)return j(e),JSON.parse(e)}catch(e){t.log.debug("Error while parsing geoLocation from portal: ",e)}return U()}))).then((e=>(e=(e=>{const s=t.cmpUtils.getUrlParam("country");return e?(s&&(e.country=s),e):{country:s}})(e))&&e.country?Oe(e.country,t.config.geoTargeting):fetch(t.config.geoTargetingUrl,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).catch((e=>{t.log.error("Failed to get location: ",e)})).then((e=>!(!e||!e.country)&&(j(JSON.stringify(e),!0),Oe(e.country,t.config.geoTargeting)))))),te.getVendorList().then((e=>r.updateVendorList(e,p.notify)))]).then((e=>{let[s]=e;return s||(t.config.suppressUI=!0),p.gdprApplies=s,r.gdprApplies=s,r.shouldConsentToolBeTriggered()})).then((e=>{e?p.changeEventStatus(ie):p.changeEventStatus("tcloaded"),p.processCommandQueue(),p.gdprApplies||p.notify("noGdprApplies"),e&&p.notify("consentToolShouldBeShown"),p.cmpReady=!0,p.notify("cmpReady"),t.log.debug(`CMP Ready in: ${Date.now()-h}ms`),navigator.cookieEnabled||p.notify("disabledCookies"),t.config.suppressUI&&!t.config.previewMode||!a.shouldLoadInIframe()||((t.config.toggleConfig.displayToggle||(a.isMobile()||a.isTablet())&&t.config.toggleConfig.displayToggleOnMobile)&&(a.isMobile()&&!1===t.config.toggleConfig.displayToggleOnMobile||a.initToggle(t.config.toggleConfig,p.notify)),e&&!a.loadLimitReached()&&r.shouldNoticeBeShown()||t.config.previewMode?(a.toggleConsentToolShowing(p.notify,!0),a.hideToggle()):t.log.debug("Notice should not be shown")),O()||r.logging(!1,null,null,p.notify)})).catch((e=>{t.log.error("Failed to load lists. CMP not ready",e),p.cmpStatus="error"}))})).catch((e=>{t.log.error("Failed to load CMP",e)}))}s(291);const Be=window.__tcfapi||{};t.cmpUtils.isObjectEmpty(Be)&&(window.__tcfapi=Be),Be.start=function(e,s){if(/MSIE/.test(navigator.userAgent))return void t.log.info("Your browser is not supported by the CMP. Please update to a more recent one.");const o={env:"production",cmpId:3,configVersion:1,appId:null,logo:"./assets/icons/pm-logo-dark.svg",backdrop:"rgba(0,0,0,0.5)",useSystemFonts:!1,storeConsentGlobally:!1,thirdPartyCookieSync:!1,useSecondLevelDomain:!0,useCookies:!0,useExternalData:!1,preferenceLink:{enabled:!1,apiKey:null,identifier:null,identifyingField:null,consentTriggerVersion:1},forceMobile:!1,logging:!1,topics:{en:[{title:"Why Do You Need My Consent?",text:"<p>This site and its partners store and access personal data based on unique identifiers such as cookies. The EU General Data Protection Regulation calls for freely-given consent prior to processing any personal data. As such, to provide the best experience for you on our properties, we ask for your consent to allow us and our partners to process your data. \n\nBy accepting or rejecting consent, you give your express consent with regards to data processing on this site. You agree to share your personal data with us and our partners on this site. If you do not consent to or withdraw consent from data processing by us and our partners, this may adversely affect site functions and your experience.\n\nTo see the list of vendors processing your data, click on the “Our Partners” link below.\n</p>",tip:"",icon:"how-is-my-data-used",expanded:!1,showOnNotice:!1,displayPurposes:!1},{title:"Why Do You Use My Data?",text:"<p>By reviewing and consenting to the purposes and special features listed, you agree to have your personal data processed by us and our partners. This enables us to improve our services and facilitate a better user experience for you. Not consenting or withdrawing consent, may adversely affect certain features and functions of our digital properties.\n\nWe process your data for a variety of purposes. These purposes and the special features that support these purposes are listed below.</p>",tip:"",icon:"consent",expanded:!1,showOnNotice:!1,displayPurposes:!0},{title:"Withdrawing My Consent",text:"<ul><li>Withdrawing Consent</li></ul><p>You may withdraw your consent and update your preferences at any time by resurfacing the Privacy Manager. However, please be aware that not all vendors request consent and some may process data on the basis of legitimate interest – you have the right to object processing on both these grounds. Click “Our Partners” below to review the list of vendors processing data based on consent and legitimate interest.</p><ul><li>Resurfacing the Privacy Manager</li></ul><p>You can review and update your privacy settings at any time by clicking the Privacy Settings Icon in the bottom of the screen.</p>",tip:"",icon:"cookie",expanded:!1,showOnNotice:!1,displayPurposes:!1}]},supportedLocales:["en"],defaultLocale:"en",forceLocale:null,consentDataConfig:{vendors:null,handleLegIntOnAcceptAndDenyAll:!1,purposeOneTreatment:!1,publisherCC:null,publisher:{enabled:!1,purposes:null,legIntPurposes:null,specialPurposes:null,lockedPurposes:null,features:null,name:"Publisher / Brand",policyUrl:null},publisherRestrictions:[],lockedPurposesPerVendor:[],vendorRestrictions:{restrictAllVendors:!1,restrictionType:1}},redisplayAfter:{accept:31536e3,reject:31536e3,vendorChange:2592e3,configChange:2592e3},geoTargeting:{allCountries:!1,countries:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LT","LV","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"],includeSelection:!0},gdprApplies:!0,suppressUI:!1,localization:{},theme:"defaultTheme",disableLoadInIframe:!1,toggleConfig:{displayToggleOnMobile:!0,displayToggle:!0,id:"gdpr-toggle",zIndex:2147483646,position:"bottomRight",openPrivacyInformation:!1,toggleUrl:null,style:{icon:"cookie",iconStyle:{color:"#fff",backgroundColor:"#48484A"}}},actionButtons:{acceptAll:{showDialog:!1,style:{type:"raised",backgroundColor:"#F88D37"}},denyAll:{showDialog:!0,style:{type:"outlined",backgroundColor:"#F88D37"}},saveAndExit:{showDialog:!1,style:{type:"raised",backgroundColor:"#F88D37"}},privacySettings:{style:{backgroundColor:"#F88D37",type:"outlined"}}},noticeConfig:{id:"gdpr-consent-notice",display:!0,hideAfter:null,hideLogo:!1,showBackdrop:!0,loadLimit:null,showCloseButton:!1,showDenyButton:!0,resurfacingElaboration:"toggle",desktopConfig:{type:"bar",position:"modal",privacyLinks:{style:{textSize:14,textColor:"#000000",bold:!1,italic:!1,underline:!1,showIcon:!1,iconColor:"#d5632d",icon:"settings"}}},mobileConfig:{mobile:!0,matchDesktop:!1,type:"bar",position:"modal",privacyLinks:{style:{textSize:14,textColor:"#000000",bold:!1,italic:!1,underline:!1,showIcon:!1,iconColor:"#d5632d",icon:"settings"}}},location:"https://cmp-consent-tool.privacymanager.io/latest/index.html#/notice"},managerConfig:{id:"gdpr-consent-manager",hideLogo:!1,showBackdrop:!0,name:"faktor.io",showCloseButton:!1,showBackToNotice:!0,showDenyButton:!0,displayAllVendorsToggle:!1,detachPurposesFromVendors:!0,location:"https://cmp-consent-tool.privacymanager.io/latest/index.html#/manager"},disclosure:{hide:!1,hideCustomPurposes:!0,stacks:[1,42],stacksAndPurposesOrder:[],customStacks:{en:[{name:"Functional, Analytics, Advertising (non-IAB vendors) and Social Media cookies",description:"We use functional cookies for the service to function properly. Data and cookies can be used to provide an improved user experience, select relevant content and ads and track activities for analytical purposes. Lastly we provide services to share content on social networks."}]}},externalLinks:{privacyPolicy:{showLink:!1,url:""},imprint:{showLink:!1,url:""}},loadedFromLaunchPad:!1,cmpVersion:"1.4.1",vendorListLocation:"https://vendors.privacymanager.io/vendor-list.json",purposeListLocalePath:"https://vendors.privacymanager.io/",customVendorListPath:"https://gdpr-wrapper.privacymanager.io/gdpr/",globalConsentLocation:"https://cmp.faktor.mgr.consensu.org/dist/1.4.1/portal.html",sharedConsentLocation:"https://gdpr.privacymanager.io/1.4.1/portal.html",consentLoggingURL:"https://gdpr-web-logs-prod.privacymanager.io/kinesis/streams/tcf-web-audit-logs-stream-prod/records",dailyActiveUserLoggingURL:"https://gdpr-web-dau-prod.privacymanager.io/kinesis/streams/tcf-web-daily-active-users-prod/records",geoTargetingUrl:"https://geo.privacymanager.io",preferenceLinkURL:"https://data-api.preferencelink.com/v1/subjects",publicPath:"https://gdpr.privacymanager.io/1.4.1/"}||t.config.generate();t.config.update(o,!0),e&&e!==Object(e)?function(e,s){fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{Ve({configUpdates:e.config,preview:s})})).catch((e=>{t.log.error("Failed to load config: ",e),Ve({preview:s})}))}(e,s):Ve({configUpdates:e,preview:s})}}()}();