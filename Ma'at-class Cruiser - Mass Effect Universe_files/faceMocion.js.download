$.fn.extend({faceMocion:function(opciones){var faceMocion=this;var NombreSelector="Selector";var DescripcionFace="--";defaults={emociones:[{"emocion":"like","TextoEmocion":"Like"},{"emocion":"love","TextoEmocion":"Love"},{"emocion":"haha","TextoEmocion":"Haha"},{"emocion":"hug","TextoEmocion":"Hug"},{"emocion":"wow","TextoEmocion":"Wow"},{"emocion":"sad","TextoEmocion":"Sad"},{"emocion":"angry","TextoEmocion":"Angry"},]};var opciones=$.extend({},defaults,opciones);$(faceMocion).each(function(index){var UnicoID=Date.now();$(this).attr("class",$(faceMocion).attr("class")+" "+UnicoID);var EstadoInicial="happy";if($(this).val()!=""){EstadoInicial=$(this).val();}else{$(this).val('happy');}
DescripcionFace=EstadoInicial;$(this).parent().attr('id-referencia',UnicoID);});$(document).ready(function(){BarraEmociones='<div class="faceMocion">';$.each(opciones.emociones,function(index,emo){BarraEmociones=BarraEmociones+'<div dato-descripcion="'+emo.TextoEmocion;BarraEmociones=BarraEmociones+'" class="'+emo.emocion+'"></div>';});BarraEmociones=BarraEmociones+'</div>';$(document.body).append(BarraEmociones);$('.faceMocion div').hover(function(e){var title=$(this).attr('dato-descripcion');$(this).data('tipText',title).removeAttr('dato-descripcion');$('<p class="MensajeTexto" style="z-index: 999;width: 40px;text-align: center;"></p>').text(title).appendTo('body').fadeIn('slow');},function(){$(this).attr('dato-descripcion',$(this).data('tipText'));$('.MensajeTexto').remove();}).mouseenter(function(e){var RatonX=$(this).offset().left;var RatonY=$(this).offset().top-35;$('.MensajeTexto').css({top:RatonY,left:RatonX-5})});});$('.emotion-post').hover(function(){SelectorEmocion=$(this);var RatonX=SelectorEmocion.offset().left-150;var RatonY=SelectorEmocion.offset().top-80;$(".faceMocion").css({top:RatonY,left:RatonX});$(".faceMocion").show();$(".faceMocion div").unbind('click');$(".faceMocion div").on('click',function(){var cls=$(this).attr('class');var name=cls;if(cls!='like'){name='emotion';}
SelectorEmocion.attr('name',SelectorEmocion.attr('data-post_id')+'-'+name);SelectorEmocion.find('input').val(cls);SelectorEmocion.find('.emotion-text').html(cls);SelectorEmocion.trigger('click');});},function(e){var location=$('.faceMocion').offset();if(e.pageY<location.top||e.pageY>location.top+88){$(".faceMocion").hide();}});$(document).mouseup(function(e){$(".faceMocion").hide();});$(document).on('mouseleave','.faceMocion',function(){$(".faceMocion").hide();});$(faceMocion).hide();}});